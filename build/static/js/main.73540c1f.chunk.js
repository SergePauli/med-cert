/*! For license information please see main.73540c1f.chunk.js.LICENSE.txt */
(this["webpackJsonpmedss-client"]=this["webpackJsonpmedss-client"]||[]).push([[0],{101:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return cadesplagin}));var cadesplagin=function cadesplagin(){if(!window.cadesplugin){var pluginObject,plugin_resolved=0,plugin_reject,plugin_resolve,isOpera=0,isFireFox=0,isSafari=0,isYandex=0,canPromise=!!window.Promise,cadesplugin_loaded_event_recieved=!1,isFireFoxExtensionLoaded=!1,cadesplugin;cadesplugin=canPromise?new Promise((function(e,t){plugin_resolve=e,plugin_reject=t})):{};var browserSpecs=check_browser(),ru_cryptopro_npcades_10_native_bridge={callbacksCount:1,callbacks:{},resultForCallback:function(e,t){var n=ru_cryptopro_npcades_10_native_bridge.callbacks[e];n&&n.apply(null,t)},call:function(e,t,n){var i=n&&"function"===typeof n,a=i?ru_cryptopro_npcades_10_native_bridge.callbacksCount++:0;i&&(ru_cryptopro_npcades_10_native_bridge.callbacks[a]=n);var s=document.createElement("IFRAME"),r=new Array("_CPNP_handle");try{s.setAttribute("src","cpnp-js-call:"+e+":"+a+":"+encodeURIComponent(JSON.stringify(t,r)))}catch(o){alert(o)}document.documentElement.appendChild(s),s.parentNode.removeChild(s),s=null}};cadesplugin.JSModuleVersion="2.3.2",cadesplugin.async_spawn=async_spawn,cadesplugin.set=set_pluginObject,cadesplugin.set_log_level=set_log_level,cadesplugin.getLastError=getLastError,cadesplugin.is_capilite_enabled=is_capilite_enabled,isNativeMessageSupported()&&(cadesplugin.CreateObjectAsync=CreateObjectAsync,cadesplugin.ReleasePluginObjects=ReleasePluginObjects),isNativeMessageSupported()||(cadesplugin.CreateObject=CreateObject),window.cadesplugin_load_timeout?setTimeout(check_load_timeout,window.cadesplugin_load_timeout):setTimeout(check_load_timeout,1e3),set_constantValues(),cadesplugin.current_log_level=cadesplugin.LOG_LEVEL_ERROR,window.cadesplugin=cadesplugin,check_plugin_working()}function check_browser(){var e,t=navigator.userAgent,n=t.match(/(opera|yabrowser|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?{name:"IE",version:(e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""}:"Chrome"===n[1]&&null!=(e=t.match(/\b(OPR|Edg|YaBrowser)\/(\d+)/))?{name:e[1].replace("OPR","Opera"),version:e[2]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),{name:n[0],version:n[1]})}function cpcsp_console_log(e,t){if("undefined"!==typeof console)return e<=cadesplugin.current_log_level?(e===cadesplugin.LOG_LEVEL_DEBUG&&console.log("DEBUG: %s",t),e===cadesplugin.LOG_LEVEL_INFO&&console.info("INFO: %s",t),void(e===cadesplugin.LOG_LEVEL_ERROR&&console.error("ERROR: %s",t))):void 0}function set_log_level(e){e===cadesplugin.LOG_LEVEL_DEBUG||e===cadesplugin.LOG_LEVEL_INFO||e===cadesplugin.LOG_LEVEL_ERROR?(cadesplugin.current_log_level=e,cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_DEBUG&&cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO,"cadesplugin_api.js: log_level = DEBUG"),cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_INFO&&cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO,"cadesplugin_api.js: log_level = INFO"),cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_ERROR&&cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO,"cadesplugin_api.js: log_level = ERROR"),isNativeMessageSupported()&&(cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_DEBUG&&window.postMessage("set_log_level=debug","*"),cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_INFO&&window.postMessage("set_log_level=info","*"),cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_ERROR&&window.postMessage("set_log_level=error","*"))):cpcsp_console_log(cadesplugin.LOG_LEVEL_ERROR,"cadesplugin_api.js: Incorrect log_level: "+e)}function set_constantValues(){cadesplugin.CAPICOM_MEMORY_STORE=0,cadesplugin.CAPICOM_LOCAL_MACHINE_STORE=1,cadesplugin.CAPICOM_CURRENT_USER_STORE=2,cadesplugin.CAPICOM_SMART_CARD_USER_STORE=4,cadesplugin.CADESCOM_MEMORY_STORE=0,cadesplugin.CADESCOM_LOCAL_MACHINE_STORE=1,cadesplugin.CADESCOM_CURRENT_USER_STORE=2,cadesplugin.CADESCOM_SMART_CARD_USER_STORE=4,cadesplugin.CADESCOM_CONTAINER_STORE=100,cadesplugin.CAPICOM_MY_STORE="My",cadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED=2,cadesplugin.CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME=1,cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPED=0,cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPING=1,cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_TEMPLATE=2,cadesplugin.CADESCOM_XADES_DEFAULT=16,cadesplugin.CADESCOM_XADES_BES=32,cadesplugin.CADESCOM_XADES_T=80,cadesplugin.CADESCOM_XADES_X_LONG_TYPE_1=1488,cadesplugin.CADESCOM_XMLDSIG_TYPE=0,cadesplugin.XmlDsigGost3410UrlObsolete="http://www.w3.org/2001/04/xmldsig-more#gostr34102001-gostr3411",cadesplugin.XmlDsigGost3411UrlObsolete="http://www.w3.org/2001/04/xmldsig-more#gostr3411",cadesplugin.XmlDsigGost3410Url="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102001-gostr3411",cadesplugin.XmlDsigGost3411Url="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr3411",cadesplugin.XmlDsigGost3411Url2012256="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-256",cadesplugin.XmlDsigGost3410Url2012256="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-256",cadesplugin.XmlDsigGost3411Url2012512="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-512",cadesplugin.XmlDsigGost3410Url2012512="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-512",cadesplugin.CADESCOM_CADES_DEFAULT=0,cadesplugin.CADESCOM_CADES_BES=1,cadesplugin.CADESCOM_CADES_T=5,cadesplugin.CADESCOM_CADES_X_LONG_TYPE_1=93,cadesplugin.CADESCOM_PKCS7_TYPE=65535,cadesplugin.CADESCOM_ENCODE_BASE64=0,cadesplugin.CADESCOM_ENCODE_BINARY=1,cadesplugin.CADESCOM_ENCODE_ANY=-1,cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_CHAIN_EXCEPT_ROOT=0,cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_WHOLE_CHAIN=1,cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY=2,cadesplugin.CAPICOM_CERT_INFO_SUBJECT_SIMPLE_NAME=0,cadesplugin.CAPICOM_CERT_INFO_ISSUER_SIMPLE_NAME=1,cadesplugin.CAPICOM_CERTIFICATE_FIND_SHA1_HASH=0,cadesplugin.CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME=1,cadesplugin.CAPICOM_CERTIFICATE_FIND_ISSUER_NAME=2,cadesplugin.CAPICOM_CERTIFICATE_FIND_ROOT_NAME=3,cadesplugin.CAPICOM_CERTIFICATE_FIND_TEMPLATE_NAME=4,cadesplugin.CAPICOM_CERTIFICATE_FIND_EXTENSION=5,cadesplugin.CAPICOM_CERTIFICATE_FIND_EXTENDED_PROPERTY=6,cadesplugin.CAPICOM_CERTIFICATE_FIND_APPLICATION_POLICY=7,cadesplugin.CAPICOM_CERTIFICATE_FIND_CERTIFICATE_POLICY=8,cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_VALID=9,cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_NOT_YET_VALID=10,cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_EXPIRED=11,cadesplugin.CAPICOM_CERTIFICATE_FIND_KEY_USAGE=12,cadesplugin.CAPICOM_DIGITAL_SIGNATURE_KEY_USAGE=128,cadesplugin.CAPICOM_PROPID_ENHKEY_USAGE=9,cadesplugin.CAPICOM_OID_OTHER=0,cadesplugin.CAPICOM_OID_KEY_USAGE_EXTENSION=10,cadesplugin.CAPICOM_EKU_CLIENT_AUTH=2,cadesplugin.CAPICOM_EKU_SMARTCARD_LOGON=5,cadesplugin.CAPICOM_EKU_OTHER=0,cadesplugin.CAPICOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME=0,cadesplugin.CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME=1,cadesplugin.CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION=2,cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME=0,cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME=1,cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION=2,cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_MACHINE_INFO=256,cadesplugin.CADESCOM_ATTRIBUTE_OTHER=-1,cadesplugin.CADESCOM_STRING_TO_UCS2LE=0,cadesplugin.CADESCOM_BASE64_TO_BINARY=1,cadesplugin.CADESCOM_DISPLAY_DATA_NONE=0,cadesplugin.CADESCOM_DISPLAY_DATA_CONTENT=1,cadesplugin.CADESCOM_DISPLAY_DATA_ATTRIBUTE=2,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_RC2=0,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_RC4=1,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_DES=2,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_3DES=3,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_AES=4,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_GOST_28147_89=25,cadesplugin.CADESCOM_HASH_ALGORITHM_SHA1=0,cadesplugin.CADESCOM_HASH_ALGORITHM_MD2=1,cadesplugin.CADESCOM_HASH_ALGORITHM_MD4=2,cadesplugin.CADESCOM_HASH_ALGORITHM_MD5=3,cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_256=4,cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_384=5,cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_512=6,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411=100,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256=101,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512=102,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_HMAC=110,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256_HMAC=111,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512_HMAC=112,cadesplugin.LOG_LEVEL_DEBUG=4,cadesplugin.LOG_LEVEL_INFO=2,cadesplugin.LOG_LEVEL_ERROR=1,cadesplugin.CADESCOM_AllowNone=0,cadesplugin.CADESCOM_AllowNoOutstandingRequest=1,cadesplugin.CADESCOM_AllowUntrustedCertificate=2,cadesplugin.CADESCOM_AllowUntrustedRoot=4,cadesplugin.CADESCOM_SkipInstallToStore=268435456,cadesplugin.CADESCOM_InstallCertChainToContainer=536870912,cadesplugin.CADESCOM_UseContainerStore=1073741824,cadesplugin.ENABLE_CARRIER_TYPE_CSP=1,cadesplugin.ENABLE_CARRIER_TYPE_FKC_NO_SM=2,cadesplugin.ENABLE_CARRIER_TYPE_FKC_SM=4,cadesplugin.ENABLE_ANY_CARRIER_TYPE=7,cadesplugin.DISABLE_EVERY_CARRIER_OPERATION=0,cadesplugin.ENABLE_CARRIER_OPEN_ENUM=1,cadesplugin.ENABLE_CARRIER_CREATE=2,cadesplugin.ENABLE_ANY_OPERATION=3,cadesplugin.CADESCOM_PRODUCT_CSP=0,cadesplugin.CADESCOM_PRODUCT_OCSP=1,cadesplugin.CADESCOM_PRODUCT_TSP=2,cadesplugin.MEDIA_TYPE_REGISTRY=1,cadesplugin.MEDIA_TYPE_HDIMAGE=2,cadesplugin.MEDIA_TYPE_CLOUD=4,cadesplugin.MEDIA_TYPE_SCARD=8,cadesplugin.XCN_CRYPT_STRING_BASE64HEADER=0,cadesplugin.AT_KEYEXCHANGE=1,cadesplugin.AT_SIGNATURE=2,cadesplugin.CARRIER_FLAG_REMOVABLE=1,cadesplugin.CARRIER_FLAG_UNIQUE=2,cadesplugin.CARRIER_FLAG_PROTECTED=4,cadesplugin.CARRIER_FLAG_FUNCTIONAL_CARRIER=8,cadesplugin.CARRIER_FLAG_SECURE_MESSAGING=16,cadesplugin.CARRIER_FLAG_ABLE_VISUALISE_SIGNATURE=64,cadesplugin.CARRIER_FLAG_VIRTUAL=128}function async_spawn(e){function t(e,t){var s;try{s=n[e](t)}catch(r){return Promise.reject(r)}return s.done?s.value:Promise.resolve(s.value).then(i,a)}var n=e(Array.prototype.slice.call(arguments,1)),i=t.bind(t,"next"),a=t.bind(t,"throw");return i()}function isIE(){return"IE"===browserSpecs.name||"MSIE"===browserSpecs.name}function isIOS(){return navigator.userAgent.match(/ipod/i)||navigator.userAgent.match(/ipad/i)||navigator.userAgent.match(/iphone/i)}function isNativeMessageSupported(){return!isIE()&&("Edg"===browserSpecs.name||("YaBrowser"===browserSpecs.name?(isYandex=!0,!0):"Opera"===browserSpecs.name?(isOpera=!0,browserSpecs.version>=33):"Firefox"===browserSpecs.name?(isFireFox=!0,browserSpecs.version>=52):"Chrome"===browserSpecs.name?browserSpecs.version>=42:"Safari"===browserSpecs.name?(isSafari=!0,browserSpecs.version>=12):void 0))}function CreateObject(e){return isIOS()?call_ru_cryptopro_npcades_10_native_bridge("CreateObject",[e]):pluginObject.CreateObject(e)}function decimalToHexString(e){return e<0&&(e=4294967295+e+1),e.toString(16).toUpperCase()}function GetMessageFromException(e){var t=e.message;return t?e.number&&(t+=" (0x"+decimalToHexString(e.number)+")"):t=e,t}function getLastError(e){if(isNativeMessageSupported()||isIE()||isIOS())return GetMessageFromException(e);try{return pluginObject.getLastError()}catch(t){return GetMessageFromException(e)}}function ReleasePluginObjects(){return window.cpcsp_chrome_nmcades.ReleasePluginObjects()}function CreateObjectAsync(e){if(pluginObject)return pluginObject.CreateObjectAsync(e)}function call_ru_cryptopro_npcades_10_native_bridge(functionName,array){var tmpobj,ex;if(ru_cryptopro_npcades_10_native_bridge.call(functionName,array,(function(e,response){ex=e;var str="tmpobj="+response;eval(str),"string"===typeof tmpobj&&(tmpobj=tmpobj.replace(/\\\n/gm,"\n"),tmpobj=tmpobj.replace(/\\\r/gm,"\r"))})),ex)throw ex;return tmpobj}function show_firefox_missing_extension_dialog(){if(!window.cadesplugin_skip_extension_install){var e=document.createElement("div");e.id="cadesplugin_ovr",e.style="visibility: hidden; position: fixed; left: 0px; top: 0px; width:100%; height:100%; background-color: rgba(0,0,0,0.7)",e.innerHTML="<div id='cadesplugin_ovr_item' style='position:relative; width:400px; margin:100px auto; background-color:#fff; border:2px solid #000; padding:10px; text-align:center; opacity: 1; z-index: 1500'><button id='cadesplugin_close_install' style='float: right; font-size: 10px; background: transparent; border: 1; margin: -5px'>X</button><p>\u0414\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u041a\u0440\u0438\u043f\u0442\u043e\u041f\u0440\u043e \u042d\u0426\u041f Browser plugin \u043d\u0430 \u0434\u0430\u043d\u043d\u043e\u043c \u0441\u0430\u0439\u0442\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430. \u0423\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u043e\u043d\u043e \u0443 \u0412\u0430\u0441 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u0438\u043b\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u0435\u0433\u043e.<p><a href='https://www.cryptopro.ru/sites/default/files/products/cades/extensions/firefox_cryptopro_extension_latest.xpi'>\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435</a></p></div>",document.getElementsByTagName("Body")[0].appendChild(e),document.getElementById("cadesplugin_close_install").addEventListener("click",(function(){plugin_loaded_error("\u041f\u043b\u0430\u0433\u0438\u043d \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d"),document.getElementById("cadesplugin_ovr").style.visibility="hidden"})),e.addEventListener("click",(function(){plugin_loaded_error("\u041f\u043b\u0430\u0433\u0438\u043d \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d"),document.getElementById("cadesplugin_ovr").style.visibility="hidden"})),e.style.visibility="visible"}}function firefox_or_safari_nmcades_onload(){window.cadesplugin_extension_loaded_callback&&window.cadesplugin_extension_loaded_callback(),isFireFoxExtensionLoaded=!0,window.cpcsp_chrome_nmcades.check_chrome_plugin(plugin_loaded,plugin_loaded_error)}function nmcades_api_onload(){isIE()||isFireFox||isSafari||window.cadesplugin_extension_loaded_callback&&window.cadesplugin_extension_loaded_callback(),window.postMessage("cadesplugin_echo_request","*"),window.addEventListener("message",(function(e){if("string"===typeof e.data&&e.data.match("cadesplugin_loaded")&&!cadesplugin_loaded_event_recieved){if(isFireFox||isSafari){var t=e.data.substring(e.data.indexOf("url:")+4);if(!t.match("^moz-extension://[a-zA-Z0-9-]+/nmcades_plugin_api.js$")&&!t.match("^safari-extension://[a-zA-Z0-9-]+/[a-zA-Z0-9]+/nmcades_plugin_api.js$"))return cpcsp_console_log(cadesplugin.LOG_LEVEL_ERROR,'Bad url "'+t+'" for load CryptoPro Extension for CAdES Browser plug-in'),void plugin_loaded_error();var n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src",t),n.onerror=plugin_loaded_error,n.onload=firefox_or_safari_nmcades_onload,document.getElementsByTagName("head")[0].appendChild(n)}else window.cpcsp_chrome_nmcades.check_chrome_plugin(plugin_loaded,plugin_loaded_error);cadesplugin_loaded_event_recieved=!0,cadesplugin.cadesplugin_loaded=!0}}),!1)}function load_extension(){var e;isFireFox||isSafari?nmcades_api_onload():isOpera||isYandex?((e=document.createElement("script")).setAttribute("type","text/javascript"),e.setAttribute("src","chrome-extension://epebfcehmdedogndhlcacafjaacknbcm/nmcades_plugin_api.js"),e.onerror=plugin_loaded_error,e.onload=nmcades_api_onload,document.getElementsByTagName("head")[0].appendChild(e)):((e=document.createElement("script")).setAttribute("type","text/javascript"),e.setAttribute("src","chrome-extension://iifchhfnnmpdbibifmljnfjhpififfog/nmcades_plugin_api.js"),e.onerror=plugin_loaded_error,e.onload=nmcades_api_onload,document.getElementsByTagName("head")[0].appendChild(e))}function load_npapi_plugin(){var e=document.createElement("object");if(e.setAttribute("id","cadesplugin_object"),e.setAttribute("type","application/x-cades"),e.setAttribute("style","visibility: hidden"),document.getElementsByTagName("body")[0].appendChild(e),pluginObject=document.getElementById("cadesplugin_object"),isIE()){var t=document.createElement("object");t.setAttribute("id","certEnrollClassFactory"),t.setAttribute("classid","clsid:884e2049-217d-11da-b2a4-000e7bbb2b09"),t.setAttribute("style","visibility: hidden"),document.getElementsByTagName("body")[0].appendChild(t);var n=document.createElement("object");n.setAttribute("id","webClassFactory"),n.setAttribute("classid","clsid:B04C8637-10BD-484E-B0DA-B8A039F60024"),n.setAttribute("style","visibility: hidden"),document.getElementsByTagName("body")[0].appendChild(n)}}function plugin_loaded(){plugin_resolved=1,canPromise?plugin_resolve():window.postMessage("cadesplugin_loaded","*")}function plugin_loaded_error(e){"undefined"!==typeof e&&"object"!==typeof e||(e="\u041f\u043b\u0430\u0433\u0438\u043d \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d"),plugin_resolved=1,canPromise?plugin_reject(e):window.postMessage("cadesplugin_load_error","*")}function check_load_timeout(){1!==plugin_resolved&&(isFireFox&&(isFireFoxExtensionLoaded||show_firefox_missing_extension_dialog()),plugin_resolved=1,canPromise?plugin_reject("\u0418\u0441\u0442\u0435\u043a\u043b\u043e \u0432\u0440\u0435\u043c\u044f \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u043b\u0430\u0433\u0438\u043d\u0430"):window.postMessage("cadesplugin_load_error","*"))}function createPromise(e){return new Promise(e)}function check_npapi_plugin(){try{CreateObject("CAdESCOM.About");plugin_loaded()}catch(t){document.getElementById("cadesplugin_object").style.display="none";var e=navigator.mimeTypes["application/x-cades"];if(e)plugin_loaded_error(e.enabledPlugin?"\u041f\u043b\u0430\u0433\u0438\u043d \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d, \u043d\u043e \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u044e\u0442\u0441\u044f \u043e\u0431\u044c\u0435\u043a\u0442\u044b":"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043f\u043b\u0430\u0433\u0438\u043d\u0430");else plugin_loaded_error("\u041f\u043b\u0430\u0433\u0438\u043d \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d")}}function check_plugin_working(){var e=document.createElement("div");e.innerHTML="\x3c!--[if lt IE 9]><i></i><![endif]--\x3e",1===e.getElementsByTagName("i").length?plugin_loaded_error("Internet Explorer \u0432\u0435\u0440\u0441\u0438\u0438 8 \u0438 \u043d\u0438\u0436\u0435 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f"):isNativeMessageSupported()?load_extension():canPromise?"complete"===document.readyState?(load_npapi_plugin(),check_npapi_plugin()):window.addEventListener("load",(function(e){load_npapi_plugin(),check_npapi_plugin()}),!1):window.addEventListener("message",(function(e){"cadesplugin_echo_request"===e.data&&(load_npapi_plugin(),check_npapi_plugin())}),!1)}function set_pluginObject(e){pluginObject=e}function is_capilite_enabled(){return!("undefined"===typeof cadesplugin.EnableInternalCSP||!cadesplugin.EnableInternalCSP)}}},112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){},140:function(e,t){},142:function(e,t){},151:function(e,t,n){},152:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){},155:function(e,t,n){},156:function(e,t,n){},157:function(e,t,n){},158:function(e,t,n){},161:function(e,t,n){"use strict";n.r(t),n.d(t,"Context",(function(){return Mn}));var i=n(1),a=n.n(i),s=n(31),r=n.n(s),o=n(36),c=n(14),l=n(20),d=(n(76),n(68),n(0)),u=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"exception-body",children:Object(d.jsxs)("div",{className:"nopage-block",children:[Object(d.jsx)("h1",{className:"nopage_h1",children:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b"}),Object(d.jsx)("div",{className:"nopage_text",children:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435, \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u043b\u0438 \u0432\u044b \u0432\u0432\u0435\u043b\u0438 \u0435\u0433\u043e. \u0415\u0441\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u0432\u0435\u0440\u043d\u044b, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0441\u043e\u043e\u0431\u0449\u0438\u0442\u0435 \u043d\u0430\u043c \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0435."}),Object(d.jsx)("a",{className:"nopage-button",href:"../",children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"}),Object(d.jsx)("a",{className:"nopage-button",href:"../",children:"\u0421\u043e\u043e\u0431\u0449\u0438\u0442\u044c \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0435"})]})})})},h=n(3),p=n(6),f=n(19),_=n(16),m=n(34),b=(n(47),n(112),n(113),n(48),n(114),"/"),v="/login",j="/list",g="/cert",O="/doctors",x="/user",y="/organization",C=["asc","desc"],N={USER:"\u041f\u041e\u041b\u042c\u0417\u041e\u0412\u0410\u0422\u0415\u041b\u042c",ADMIN:"\u0410\u0414\u041c\u0418\u041d\u0418\u0421\u0422\u0420\u0410\u0422\u041e\u0420",STATS:"\u0421\u0422\u0410\u0422\u0418\u0421\u0422\u0418\u041a"},A={startsWith:"_start",contains:"_cont",notContains:"_not_cont",endsWith:"_end",equals:"_eq",notEquals:"_not_eq",in:"_in",lt:"_lt",lte:"lteq",gt:"_gt",gte:"_gteq",between:"",dateIs:"_eq",dateIsNot:"_not_eq",dateBefore:"_lt",dateAfter:"_gt",custom:""},E={_destroy:"1"},S={year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"},I={year:"2-digit",month:"short",day:"2-digit"},w=function(e){var t=null!==e.userInfo&&e.userInfo.organization?e.userInfo.organization.name:"",n=null!==e.userInfo&&e.userInfo.roles?N[e.userInfo.roles.split(" ")[0]]:"";return Object(d.jsxs)("div",{className:"layout-footer",children:[Object(d.jsxs)("div",{className:"footer-logo-container",children:[Object(d.jsxs)("span",{className:"app-name",children:[t,":"]}),Object(d.jsx)("span",{className:"app-profile",children:n})]}),Object(d.jsx)("span",{className:"copyright",children:'2022 \xa9 \u0413\u0411\u0423\u0417 \u0410\u041e "\u0410\u041c\u0418\u0410\u0426"'})]})},k=n.p+"static/media/favicon.b5c775a4.png",T=n(2),D=function(e){var t=Object(i.useContext)(Mn).userStore,n=Object(i.useState)({}),a=Object(p.a)(n,2),s=a[0],r=a[1],o=function(e,n){n.disabled?e.preventDefault():(n.url?n.url.startsWith(b)&&(t.history().push(n.url),e.preventDefault()):e.preventDefault(),n.command&&n.command({originalEvent:e,item:n}),n!==s?(s.className&&(s.className=""),n.className="active-menuitem",r(n)):(n.className="",r({})))},c=Object(T.h)("layout-menu-container",e.className);return Object(d.jsx)("div",{id:e.id||"sidebar_menu",className:c,style:e.style,children:function e(t,n){return Object(d.jsx)("ul",{className:"layout-menu",role:"menu",children:function(){if(t.length>0){return t.map((function(t,n){return function(t,n){return t.separator?function(e){return Object(d.jsx)("li",{className:"menu-separator",role:"separator"},"separator_"+e)}(n):function(t,n){var i,a=Object(T.h)("layout-menuitem-icon pi pi-fw",t.icon),s=Object(T.h)("p-ripple",{"p-link":void 0===t.url},{"p-disabled":t.disabled}),r=t.items&&Object(d.jsx)("span",{className:"pi pi-fw pi-angle-down layout-submenu-toggler"}),c=t.icon&&Object(d.jsx)("span",{className:a}),l=t.label&&Object(d.jsx)("span",{className:"layout-menuitem-text",children:t.label}),u=t.className||t.items?[Object(d.jsxs)("button",{type:"button",onClick:function(e){return o(e,t)},className:"p-ripple p-link",children:[c,l,r]},"bt_".concat(t.label,"_").concat(n))]:[Object(d.jsxs)("a",{href:t.url,target:t.target,className:s,onClick:function(e){return o(e,t)},"aria-disabled":t.disabled,children:[c,l]},"a_".concat(t.disabled?l:n))];(null===(i=t.className)||void 0===i?void 0:i.includes("layout-root-menuitem"))&&u.push(Object(d.jsx)("div",{className:t.className,children:Object(d.jsx)("div",{className:"layout-menuitem-root-text",children:t.label})},"dv_".concat(t.label,"_").concat(n)));var h=t.items&&t.className&&e(t.items,t.label||Object(T.f)());return Object(d.jsxs)("li",{className:t.className,style:t.style,role:"menuitem",children:[u,h]},"li_".concat(n,"_").concat(t.className))}(t,n)}(t,n)}))}return null}()},n)}(e.model||[],"global")})},F=n(4),L=n.n(F),M=n(9),R=n(45),P=n.n(R),U="http://10.33.3.250:5000/REST_API/v1/",B="http://fias.int.amurzdrav.ru/fias",G="http://acme.int.amurzdrav.ru/",K=P.a.create({withCredentials:!0,baseURL:U}),z=P.a.create({baseURL:B}),H=P.a.create({headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8","X-Requested-With":"XMLHttpRequest"},baseURL:G});K.interceptors.request.use((function(e){return e.headers.Authorization="Bearer ".concat(localStorage.getItem("token")),e})),K.interceptors.response.use((function(e){return e}),function(){var e=Object(M.a)(L.a.mark((function e(t){var n,i,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.config,!t.response||401!==t.response.status||!t.config||t.config._isRetry){e.next=16;break}return n._isRetry=!0,e.prev=3,e.next=6,P.a.get("".concat(U,"auth/refresh"),{withCredentials:!0});case 6:return i=e.sent,localStorage.setItem("token",i.data.tokens.access),e.abrupt("return",K.request(n));case 11:throw e.prev=11,e.t0=e.catch(3),new Error("API error 401, \u0421\u0435\u0430\u043d\u0441 \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d");case 14:e.next=23;break;case 16:if(!t.response||![406,422].includes(t.response.status)){e.next=23;break}if(!t.response.data||!t.response.data.errors){e.next=22;break}throw a=t.response.data.errors.reduce((function(e,t){return e="".concat(e,", ").concat(t)}),"API error ".concat(t.response.status)),new Error(a);case 22:throw new Error("API error ".concat(JSON.stringify(t)));case 23:throw t;case 24:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}()),z.interceptors.response.use((function(e){return e}),function(){var e=Object(M.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.response&&t.response.status&&[406,422].includes(t.response.status))){e.next=9;break}if(!t.response.data||!t.response.data.errors){e.next=6;break}throw n=t.response.data.errors.reduce((function(e,t){return e="".concat(e,", ").concat(t)}),"API error ".concat(t.response.status)),new Error(n);case 6:throw new Error("API error ".concat(t.response.status));case 7:e.next=10;break;case 9:t.message.includes("Network Error")&&new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0442\u0438: \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e");case 10:throw t;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var V,q=K,Y=Object(c.a)((function(e){var t,n=Object(i.useContext)(Mn),a=n.userStore,s=n.certificateStore,r=(null===(t=s.cert.id)||void 0===t?void 0:t.toString())||"new",c="".concat(g,"/").concat(r),l=[{label:"\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e",className:"layout-root-menuitem",items:[{label:"\u0421\u0435\u043a\u0446\u0438\u0438",icon:"pi-file",items:[{label:"\u0421\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0435",url:"".concat(c,"?q=0")},{label:"\u041d\u0430\u0447\u0430\u043b\u043e(\u043f.1-3,7)",url:"".concat(c,"?q=1")},{label:"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b(\u043f.4-6)",url:"".concat(c,"?q=2")},{label:"\u0410\u0434\u0440\u0435\u0441\u0430.(\u043f.8-11)",url:"".concat(c,"?q=3")},{label:"\u043f.12-17",url:"".concat(c,"?q=5")},{label:"\u043f.18-21",url:"".concat(c,"?q=6")},{label:"\u041f\u0440\u0438\u0447\u0438\u043d\u044b (\u043f.22 I)",url:"".concat(c,"?q=7")},{label:"\u041f\u0440\u043e\u0447\u0438\u0435 (\u043f.22 II)",url:"".concat(c,"?q=8")},{label:"\u043f.23-26",url:"".concat(c,"?q=9")},{label:"\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c",url:"".concat(c,"?q=10")},{label:"\u0412\u044b\u0433\u0440\u0443\u0437\u043a\u0430",url:"".concat(c,"?q=11")}]},{label:"\u041f\u0435\u0447\u0430\u0442\u044c",disabled:!s.cert.issueDate,icon:"pi-print",items:[{label:"\u041b\u0438\u0446\u0435\u0432\u0430\u044f",icon:"pi-file",target:"_blank",url:"".concat(U,"print/face/").concat(r)},{label:"\u041e\u0431\u043e\u0440\u043e\u0442\u043d\u0430\u044f",icon:"pi-file",target:"_blank",url:"".concat(U,"print/back/").concat(r)}]},{label:"\u0421\u043f\u0438\u0441\u043a\u0438",icon:"pi-list",items:[{label:"\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430",icon:"pi-id-card",url:j},{label:"\u0416\u0443\u0440\u043d\u0430\u043b",icon:"pi-align-left",url:"/#"}]}]},{separator:!0},{label:"\u0421\u0435\u0430\u043d\u0441",className:"layout-root-menuitem",items:[{label:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",icon:"pi-home",url:b},{label:"\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430",icon:"pi-list",url:j},{label:"\u0412\u044b\u0445\u043e\u0434",icon:"pi-sign-out",command:function(){a.logout()}}]}],u=e.activeUrl;return function e(t){var n=!1;return t.forEach((function(t){if(t.url===u&&(t.className="active-menuitem",n=!0),n)return!0;t.items&&e(t.items)&&(t.className=t.className||"active-menuitem",n=!0)})),n}(l),Object(d.jsxs)("div",{className:"layout-sidebar",children:[Object(d.jsxs)(o.b,{className:"logo",to:"#/",children:[Object(d.jsx)("img",{id:"app-logo",className:"logo-image",src:k,alt:"\u0420\u0420\u041c\u0421\u0421 V3.0"}),Object(d.jsx)("span",{className:"app-name",children:"\u041c\u0435\u0434\u0421\u0421"})]}),Object(d.jsx)(D,{model:l})]})})),X=n(95),W=n.p+"static/media/ava.0f62058a.png",Z=function(e){var t=Object(l.f)();return Object(d.jsx)("ul",{className:"profile-menu fade-in-up",children:function(e){var n=function(e,n){return e.separator?function(e){return Object(d.jsx)("li",{className:"menu-separator",role:"separator"},"separator_"+e)}(n):function(e,n){var i=Object(T.h)("pi",e.icon),a=e.icon&&Object(d.jsx)("i",{className:i}),s=e.label&&Object(d.jsx)("span",{children:e.label}),r=Object(d.jsxs)("button",{type:"button",onClick:function(n){return function(e,n){n.disabled?e.preventDefault():(n.url?n.url.startsWith(b)&&(t.push(n.url),e.preventDefault()):e.preventDefault(),n.command&&n.command({originalEvent:e,item:n}))}(n,e)},className:"p-link",children:[a,s]},"bt_".concat(e.label,"_").concat(n));return Object(d.jsx)("li",{children:r},"pfi_".concat(n))}(e,n)};return e.length>0?e.map((function(e,t){return n(e,t)})):null}(e.model||[])})},Q=function(e){var t=Object(l.f)();return Object(d.jsx)("ul",{className:"notifications-menu fade-in-up",children:function(e){var n=function(e,n){return e.separator?function(e){return Object(d.jsx)("li",{className:"menu-separator",role:"separator"},"separator_"+e)}(n):function(e,n){var i=Object(T.h)("notification-item",e.className),a=Object(T.h)("pi",e.icon,e.className),s=e.icon&&Object(d.jsx)("i",{className:a}),r=e.summary&&Object(d.jsx)("div",{className:"notification-summary",children:e.summary}),o=e.label&&e.label.split("detail")||["",""],c=Object(d.jsxs)("button",{type:"button",className:"p-link",onClick:function(n){return function(e,n){n.disabled?e.preventDefault():(n.url?n.url.startsWith(b)&&(t.push(n.url),e.preventDefault()):e.preventDefault(),n.command&&n.command({originalEvent:e,item:n}))}(n,e)},children:[s,Object(d.jsxs)("div",{className:i,children:[r,Object(d.jsxs)("div",{className:"notification-detail",children:[o[0]," ",Object(d.jsx)("b",{children:e.detail})," ",o[1]]})]})]},"bt_".concat(e.summary,"_").concat(n));return Object(d.jsx)("li",{children:c},"nmi_".concat(n))}(e,n)};return e.length>0?e.map((function(e,t){return n(e,t)})):null}(e.model||[])})},J="detail",$=Object(c.a)((function(e){var t,n,a,s,r,o,c=Object(i.useContext)(Mn),l=c.layoutStore,u=c.userStore,h=Object(X.useMediaQuery)({query:"(max-width: 991px)"}),p=Object(T.h)("profile-item",{"active-menuitem fadeInDown":l.profileMenuActive()}),f=Object(T.h)("notifications-item",{"active-menuitem":l.notificationsMenuActive()}),_=[{label:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c",icon:"pi-user",url:"".concat(x,"/").concat(null===(t=u.userInfo)||void 0===t?void 0:t.id)},{label:"\u041c\u0435\u0434\u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f",icon:"pi-building",url:"".concat(y,"/").concat(null===(n=u.userInfo)||void 0===n?void 0:n.organization.id)},{label:"\u0412\u0440\u0430\u0447\u0438",icon:"pi-users",url:"".concat(O)},{label:"\u0412\u044b\u0445\u043e\u0434",icon:"pi-power-off",command:function(){u.logout()}}],m=[{label:"\u0421\u043e\u0437\u0434\u0430\u043d\u043e ".concat(J," \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432"),summary:"\u041d\u043e\u0432\u044b\u0445",className:"p-success",icon:"pi-user",detail:3,url:"/#"},{label:"\u0417\u0430\u043c\u0435\u043d\u0435\u043d\u043e ".concat(J," \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432"),summary:"\u0417\u0430\u043c\u0435\u043d\u044b",className:"p-info",icon:"pi-cog",detail:2,url:"/#"},{label:"\u0412\u044b\u0434\u0430\u043d\u044b \u0440\u043e\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a\u0430\u043c ".concat(J," \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432"),summary:"\u0412\u044b\u0434\u0430\u043d\u043d\u043e",icon:"pi-cog",detail:5,url:"/#"},{label:"\u0421 \u0437\u0430\u043c\u0435\u0447\u0430\u043d\u0438\u044f\u043c\u0438 ".concat(J," \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432"),className:"p-danger",summary:"\u0417\u0430\u043c\u0435\u0447\u0430\u043d\u0438\u0439",icon:"pi-cog",detail:1,url:"/#"},{label:"\u041f\u0440\u043e\u0432\u0435\u0440\u0435\u043d\u044b ".concat(J," \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432"),summary:"\u041f\u0440\u043e\u0432\u0435\u0440\u0435\u043d\u043d\u043e",className:"p-success",icon:"pi-cog",detail:3,url:"/#"},{label:"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u0432 \u0424\u0420\u041c\u0421\u0418 ".concat(J),summary:"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e",className:"p-success",icon:"pi-cog",detail:2,url:"/#"}],b=m.reduce((function(e,t,n){return n+t.detail}),0),v=null!==e.userInfo&&e.userInfo.person_name?"".concat(null===(a=e.userInfo.person_name)||void 0===a?void 0:a.family," ").concat(null===(s=e.userInfo.person_name)||void 0===s?void 0:s.given_1[0]," ").concat((null===(r=e.userInfo.person_name)||void 0===r||null===(o=r.given_2)||void 0===o?void 0:o.charAt(0))||""):"";return Object(d.jsxs)("div",{className:"layout-topbar",children:[Object(d.jsxs)("div",{className:"topbar-left",children:[Object(d.jsx)("button",{type:"button",className:"menu-button p-link",onClick:function(){h&&l.tabletOrMobile()?l.setTabletOrMobile(!1):h&&!l.tabletOrMobile()?l.setTabletOrMobile(!0):l.sideBarToggle()},children:Object(d.jsx)("i",{className:"pi pi-chevron-left",children:" "})}),Object(d.jsx)("span",{className:"topbar-separator"}),Object(d.jsx)("div",{className:"layout-breadcrumb viewname",children:Object(d.jsx)("span",{children:e.title})})]}),Object(d.jsx)("div",{className:"topbar-right",children:Object(d.jsxs)("ul",{className:"topbar-menu",children:[Object(d.jsxs)("li",{className:f,children:[Object(d.jsxs)("button",{type:"button",className:"p-link",onClick:function(){return l.setNotificationsMenuActive(!0)},children:[Object(d.jsx)("i",{className:"pi pi-bell"}),Object(d.jsx)("span",{className:"topbar-badge",children:b})]}),Object(d.jsx)(Q,{model:m})]}),Object(d.jsxs)("li",{className:p,children:[Object(d.jsxs)("button",{type:"button",className:"p-link",onClick:function(){return l.setProfileMenuActive(!0)},children:[Object(d.jsx)("img",{src:W,alt:"",className:"profile-image"}),Object(d.jsx)("span",{className:"profile-name",children:v})]}),Object(d.jsx)(Z,{model:_})]}),Object(d.jsx)("li",{className:"right-sidebar-item",children:Object(d.jsx)("button",{type:"button",className:"p-link",onClick:function(){return l.setRightSideBarActive(!0)},children:Object(d.jsx)("i",{className:"pi pi-align-right"})})})]})})]})})),ee=new Map([["added",{title:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e:",icon:"pi pi-plus",color:"rgb(104, 159, 56)"}],["updated",{title:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u043e:",icon:"pi pi-pencil",color:"rgb(2, 136, 209)"}],["removed",{title:"\u0423\u0434\u0430\u043b\u0435\u043d\u043e:",icon:"pi pi-trash",color:"rgb(251, 192, 45)"}],["archived",{title:"\u0410\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u043e:",icon:"pi pi-inbox",color:"rgb(96, 125, 139)"}],["commented",{title:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439:",icon:"pi pi-comment",color:"rgb(96, 125, 139)"}],["imported",{title:"\u0418\u043c\u043f\u043e\u0440\u0442:",icon:"pi pi-download",color:"rgb(156, 39, 176)"}],["exported",{title:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442:",icon:"pi pi-upload",color:"rgb(156, 39, 176)"}],["signed_in",{title:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u043e:",icon:"pi pi-user-edit",color:"rgb(104, 159, 56)"}],["signed_out",{title:"\u041e\u0442\u043e\u0437\u0432\u0430\u043d\u043e:",icon:"pi pi-user-minus",color:"rgb(251, 192, 45)"}]]);!function(e){e[e.success=0]="success",e[e.info=1]="info",e[e.warning=2]="warning",e[e.error=3]="error"}(V||(V={}));var te=n(12),ne=n(13),ie={render_options:{only:["id","summary","table","action","detail","created_at"],include:["user","organization"]},includes:["user","organization"],user:{only:["id","email"],include:["person_name"]},organization:{only:["id","name"]}},ae=function(){function e(){Object(te.a)(this,e)}return Object(ne.a)(e,null,[{key:"getAudits",value:function(){var e=Object(M.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.post("".concat(U,"model/Audit/"),Object(h.a)(Object(h.a)({},t),ie)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),se=Object(c.a)((function(e){var t,n=Object(i.useContext)(Mn),a=n.layoutStore,s=n.userStore,r=Object(T.h)("layout-sidebar-right",{"layout-sidebar-right-active":a.rightSideBarActive()}),o=Object(i.useState)(null),c=Object(p.a)(o,2),l=c[0],u=c[1],h=Object(i.useState)(null),f=Object(p.a)(h,2),_=f[0],m=f[1];return Object(i.useEffect)((function(){var e;null===_&&s.userInfo&&(s.userInfo.roles.includes("ADMIN")?m({sorts:["created_at desc"]}):m({user_organization_id_eq:null===(e=s.userInfo)||void 0===e?void 0:e.organization.id,sorts:["created_at desc"]}))}),[_,s.userInfo,null===(t=s.userInfo)||void 0===t?void 0:t.organization]),Object(i.useEffect)((function(){null===l&&null!==_&&ae.getAudits({q:_,limit:200}).then((function(e){return u(e.data)})).catch((function(){return u([])}))}),[l,_]),Object(d.jsxs)("div",{className:r,children:[Object(d.jsx)("h5",{children:"\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c"}),Object(d.jsx)("div",{className:"widget-timeline",children:null===l||0===l.length?"\u0421\u043e\u0431\u044b\u0442\u0438\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e":l.map((function(e){var t=ee.get(e.action);if(void 0===t)throw Error("\u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 action");var n=new Date(e.created_at).toLocaleString("ru",S);return Object(d.jsxs)("div",{className:"timeline-event",children:[Object(d.jsx)("span",{className:"timeline-event-icon",style:{backgroundColor:t.color},children:Object(d.jsx)("i",{className:t.icon})}),Object(d.jsxs)("div",{className:"timeline-event-title",children:[n," ",t.title]}),Object(d.jsxs)("div",{className:"timeline-event-detail",children:[e.summary?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("b",{children:"\u0433\u0434\u0435: "})," ",Object(d.jsx)("em",{children:e.summary})]}):"",e.detail?Object(d.jsxs)("p",{children:[Object(d.jsx)("b",{children:"\u0447\u0442\u043e: "}),e.detail]}):"",Object(d.jsx)("b",{children:"\u043a\u0435\u043c: "})," ",Object(d.jsx)("em",{children:e.user.email})]})]},e.id)}))})]})})),re=(n(135),n(136),n(96)),oe=n(18),ce=function(e){return e.items?Object(d.jsxs)("div",{className:"layout-action",children:[Object(d.jsx)(oe.a,{target:".layout-action .p-speeddial-semi-circle.p-speeddial-direction-left .p-speeddial-action",position:"left"}),Object(d.jsx)(re.a,{model:e.items,radius:80,direction:"left",type:"semi-circle"})]}):Object(d.jsx)(d.Fragment,{})},le=n(50),de=n(5),ue=Object(c.a)((function(e){var t=Object(i.useContext)(Mn),n=t.layoutStore,a=t.userStore,s=n.rightSideBarActive(),r=n.layoutStaticInactive(),o=n.profileMenuActive(),c=n.notificationsMenuActive(),l=Object(T.h)("layout-wrapper layout-static p-ripple layout-sidebar-indigo",{"layout-static-inactive":r},{"layout-mobile-active":n.tabletOrMobile()}),u=Object(i.useState)(null),h=Object(p.a)(u,2),f=h[0],_=h[1],m=a.user().id;Object(i.useEffect)((function(){void 0!==m&&null===f&&_(a.userInfo)}),[m,f,a.userInfo]);var b=n.isLoading?Object(d.jsx)(le.a,{}):e.content;return Object(de.d)("ru",{startsWith:"\u041d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441",contains:"\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442",notContains:"\u041d\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442",endsWith:"\u041e\u043a\u0430\u043d\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u043d\u0430",equals:"\u0420\u0430\u0432\u043d\u043e",notEquals:"\u041d\u0435 \u0440\u0430\u0432\u043d\u043e",noFilter:"\u041b\u044e\u0431\u043e\u0435",lt:"\u041c\u0435\u043d\u044c\u0448\u0435 \u0447\u0435\u043c",lte:"\u041c\u0435\u043d\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e",gt:"\u0411\u043e\u043b\u044c\u0448\u0435",gte:"\u0411\u043e\u043b\u044c\u0448\u0435 \u043b\u0438\u0431\u043e \u0440\u0430\u0432\u043d\u043e",dateIs:"\u0420\u0430\u0432\u043d\u0430",dateIsNot:"\u041d\u0435 \u0440\u0430\u0432\u043d\u0430",dateBefore:"\u0420\u0430\u043d\u0435\u0435 \u0447\u0435\u043c",dateAfter:"\u041f\u043e\u0437\u0436\u0435 \u0447\u0435\u043c",custom:"\u0421\u0432\u043e\u0435",clear:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c",apply:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c",matchAll:"\u0443\u0441\u043b\u043e\u0432\u0438\u044f (\u0418)",matchAny:"\u0443\u0441\u043b\u043e\u0432\u0438\u044f (\u0418\u041b\u0418)",addRule:"+ \u0443\u0441\u043b\u043e\u0432\u0438\u0435",removeRule:" - \u0443\u0441\u043b\u043e\u0432\u0438\u0435",accept:"\u0414\u0410",reject:"\u041d\u0415\u0422",closeText:"\u0437\u0430\u043a\u0440\u044b\u0442\u044c",prevText:"\u043d\u0430\u0437\u0430\u0434",nextText:"\u0432\u043f\u0435\u0440\u0435\u0434",currentText:"\u0442\u0435\u043a\u0443\u0449\u0438\u0439",monthNames:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],monthNamesShort:["\u042f\u043d\u0432","\u0424\u0435\u0432","\u041c\u0430\u0440","\u0410\u043f\u0440","\u041c\u0430\u0439","\u0418\u044e\u043d","\u0418\u044e\u043b","\u0410\u0432\u0433","\u0421\u0435\u043d","\u041e\u043a\u0442","\u041d\u043e\u044f","\u0414\u0435\u043a"],dayNames:["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430"],dayNamesShort:["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"],dayNamesMin:["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"],weekHeader:"\u041d\u0435\u0434",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",month:"\u041c\u0435\u0441",week:"\u041d\u0435\u0434\u0435\u043b\u044f",day:"\u0414\u0435\u043d\u044c",timeOnlyTitle:"\u0412\u044b\u0431\u043e\u0440 \u0432\u0440\u0435\u043c\u0435\u043d\u0438",timeText:"\u0412\u0440\u0435\u043c\u044f",hourText:"\u0427\u0430\u0441\u044b",minuteText:"\u041c\u0438\u043d\u0443\u0442\u044b",secondText:"\u0421\u0435\u043a\u0443\u043d\u0434\u044b",allDayText:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0434\u0435\u043d\u044c"}),Object(d.jsxs)("div",{className:l,"data-theme":"light",children:[Object(d.jsxs)("div",{className:"layout-content-wrapper",onClick:function(){s?n.setRightSideBarActive(!1):o?n.setProfileMenuActive(!1):c&&n.setNotificationsMenuActive(!1)},children:[Object(d.jsx)($,{title:e.title,userInfo:f}),Object(d.jsxs)("div",{className:"layout-content",children:[b,Object(d.jsx)(ce,{items:e.actionItems})]}),Object(d.jsx)(w,{userInfo:f})]}),Object(d.jsx)(Y,{activeUrl:e.url}),Object(d.jsx)(se,{}),Object(d.jsx)("div",{className:"layout-search"}),Object(d.jsx)("div",{className:"layout-mask modal-in",onClick:function(){n.setTabletOrMobile(!1)}})]})})),he=n(75),pe=n(97),fe=n(17),_e=n(10),me=n(25),be=n(65),ve=[{code:1,name:"\u043e\u043a\u043e\u043d\u0447\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435",s_name:"\u041e\u041a\u041d"},{code:2,name:"\u043f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435",s_name:"\u041f\u0420\u0412"},{code:3,name:"\u0432\u0437\u0430\u043c\u0435\u043d \u043f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e",s_name:"\u0412\u041f"},{code:4,name:"\u0432\u0437\u0430\u043c\u0435\u043d \u043e\u043a\u043e\u043d\u0447\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e",s_name:"\u0412O"}],je=Object(c.a)((function(){var e,t=Object(i.useContext)(Mn).certificateStore,n=t.cert;return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(f.a,{className:"c-section p-mr-2 p-mb-2",header:function(){return Object(d.jsx)("span",{children:"\u0421\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0435"})},children:[Object(d.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(d.jsxs)("div",{className:"p-field p-col-6 p-md-2",children:[Object(d.jsx)("label",{htmlFor:"series",children:"\u0421\u0435\u0440\u0438\u044f"}),Object(d.jsx)(_e.a,{id:"series",value:n.series,type:"text",placeholder:"\u0417\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438",disabled:!0})]}),Object(d.jsxs)("div",{className:"p-field p-col-6 p-md-4",children:[Object(d.jsx)("label",{htmlFor:"number",children:"\u041d\u043e\u043c\u0435\u0440"}),Object(d.jsx)(_e.a,{id:"number",value:n.number,disabled:!0,type:"text",placeholder:"\u0417\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438"})]}),Object(d.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(d.jsx)("label",{htmlFor:"icon",children:"\u0414\u0430\u0442\u0430"}),Object(d.jsx)(me.a,{id:"icon",dateFormat:"dd.mm.yy",value:n.issueDate,disabled:!0})]}),Object(d.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(d.jsx)("label",{htmlFor:"cert_type",children:"\u0412\u0438\u0434 \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430"}),Object(d.jsx)(fe.a,{inputId:"cert_type",placeholder:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",autoFocus:!0,options:n.certType?[3,4].includes(n.certType)?ve.filter((function(e){return[4,3,1].includes(e.code)})):ve:ve.filter((function(e){return[1,2].includes(e.code)})),optionLabel:"name",value:ve.find((function(e){return e.code===n.certType})),onChange:function(e){return t.cert.certType=e.value.code},disabled:n.id>-1})]})]}),Object(d.jsx)(be.a,{}),Object(d.jsxs)("div",{className:"p-grid p-mt-2",children:[Object(d.jsxs)("div",{className:"p-col-6 p-d-flex p-flex-column p-jc-left p-ai-center p-flex-md-row p-flex-wrap",children:[Object(d.jsx)("div",{className:"overview-number p-mr-1 p-mb-1",style:{padding:"0.1rem"},children:"\u0420\u0410\u041d\u0415\u0415 \u0412\u042b\u0414\u0410\u041d\u041d\u041e\u0413\u041e:"}),Object(d.jsx)("div",{className:"overview-subtext p-mr-1 p-mb-1",style:{fontWeight:600,padding:"0.2rem"},children:n.numberPrev?"".concat(n.seriesPrev," ").concat(n.numberPrev," \u043e\u0442 ").concat(null===(e=n.effTimePrev)||void 0===e?void 0:e.toLocaleString("ru",I)):"\u041d\u0415\u0422"})]}),Object(d.jsxs)("div",{className:"p-col-6 p-d-flex p-flex-column p-jc-left p-ai-center p-flex-md-row p-flex-wrap",style:{borderLeft:"1px #dee2e6",borderLeftStyle:"solid"},children:[Object(d.jsx)("div",{className:"overview-number p-mr-1 p-mb-1",style:{padding:"0.1rem"},children:"\u0421\u0442\u0430\u0442\u0443\u0441:"}),Object(d.jsx)("div",{className:"overview-subtext p-mr-1 p-mb-1",style:{fontWeight:600,background:n.latestOne?"rgb(211 47 47 / 22%)":"#c8e6c9",color:n.latestOne?"rgb(211 47 47)":"#256029",padding:"0.2rem"},children:n.latestOne?"\u0417\u0410\u041c\u0415\u041d\u0415\u041d\u041e":"\u0410\u041a\u0422\u0423\u0410\u041b\u042c\u041d\u041e\u0415"})]})]})]},t.cert.id)})})),ge=n(37),Oe=n(46),xe=(n(58),"28"),ye=[{section:"0",code:"0",suggestion:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0438\u043f \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430",done:!1},{section:"1",code:"\u043f.1",suggestion:"\u041f\u043e\u043b\u044f \u0424\u0418\u041e \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b, \u0435\u0441\u043b\u0438 \u0443\u043c\u0435\u0440\u0448\u0438\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d",done:!1},{section:"1",code:"\u043f.2",suggestion:"\u0423\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u0430 \u0443\u043c\u0435\u0440\u0448\u0435\u0433\u043e \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"1",code:"\u043f.3",suggestion:"\u0423\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u0434\u0430\u0442\u044b \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u0438\u043b\u0438 \u043f\u0440\u0438\u0447\u0438\u043d\u044b \u0435\u0435 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"1",code:"\u043f.7",suggestion:"\u0423\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u0434\u0430\u0442\u044b \u0441\u043c\u0435\u0440\u0442\u0438 \u0438\u043b\u0438 \u043f\u0440\u0438\u0447\u0438\u043d\u044b \u0435\u0435 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"2",code:"\u043f.4.1",suggestion:"\u0423\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u0441\u0435\u0440\u0438\u0438 \u0414\u0423\u041b \u0443\u043c\u0435\u0440\u0448\u0435\u0433\u043e \u0438\u043b\u0438 \u043f\u0440\u0438\u0447\u0438\u043d\u044b \u0435\u0433\u043e \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"2",code:"\u043f.4.2",suggestion:"\u0423\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u043d\u043e\u043c\u0435\u0440\u0430 \u0414\u0423\u041b \u0443\u043c\u0435\u0440\u0448\u0435\u0433\u043e \u0438\u043b\u0438 \u043f\u0440\u0438\u0447\u0438\u043d\u044b \u0435\u0433\u043e \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"2",code:"\u043f.4.3",suggestion:"\u0423\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0430 \u0432\u044b\u0434\u0430\u0432\u0448\u0435\u0433\u043e \u0414\u0423\u041b \u0443\u043c\u0435\u0440\u0448\u0435\u0433\u043e \u0438\u043b\u0438 \u043f\u0440\u0438\u0447\u0438\u043d\u044b \u0435\u0433\u043e \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"2",code:"\u043f.4.4",suggestion:"\u0423\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u0434\u0430\u0442\u044b \u0432\u044b\u0434\u0430\u0447\u0438 \u0414\u0423\u041b \u0443\u043c\u0435\u0440\u0448\u0435\u0433\u043e \u0438\u043b\u0438 \u043f\u0440\u0438\u0447\u0438\u043d\u044b \u0435\u0433\u043e \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"2",code:"\u043f.4.5",suggestion:"\u0423\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u043a\u043e\u0434\u0430 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0414\u0423\u041b \u0443\u043c\u0435\u0440\u0448\u0435\u0433\u043e \u0438\u043b\u0438 \u043f\u0440\u0438\u0447\u0438\u043d\u044b \u0435\u0433\u043e \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"2",code:"\u043f.5",suggestion:"\u0423\u043a\u0430\u0437\u0430\u043d\u0438\u0435 SNILS \u0443\u043c\u0435\u0440\u0448\u0435\u0433\u043e \u0438\u043b\u0438 \u043f\u0440\u0438\u0447\u0438\u043d\u044b \u0435\u0433\u043e \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"2",code:"\u043f.6",suggestion:"\u0423\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u0438\u0441\u0430 \u041e\u041c\u0421 \u0438\u043b\u0438 \u043f\u0440\u0438\u0447\u0438\u043d\u044b \u0435\u0433\u043e \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"3",code:"\u043f.8",suggestion:"\u041c\u0435\u0441\u0442\u043e \u0436\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0438\u043b\u0438 \u043f\u0440\u0438\u0447\u0438\u043d\u0430 \u0435\u0433\u043e \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"3",code:"\u043f.9",suggestion:"\u0412\u0438\u0434 \u043c\u0435\u0441\u0442\u0430 \u0436\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0438\u043b\u0438 \u043f\u0440\u0438\u0447\u0438\u043d\u0430 \u0435\u0433\u043e \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"3",code:"\u043f.10",suggestion:"\u0412\u0438\u0434 \u043c\u0435\u0441\u0442\u0430 \u0441\u043c\u0435\u0440\u0442\u0438 \u0438\u043b\u0438 \u043f\u0440\u0438\u0447\u0438\u043d\u0430 \u0435\u0433\u043e \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"3",code:"\u043f.11",suggestion:"\u0412\u0438\u0434 \u043c\u0435\u0441\u0442\u0430 \u0441\u043c\u0435\u0440\u0442\u0438 \u0438\u043b\u0438 \u043f\u0440\u0438\u0447\u0438\u043d\u0430 \u0435\u0433\u043e \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"5",code:"\u043f.12",suggestion:"\u0412\u044b\u0431\u043e\u0440 \u043c\u0435\u0441\u0442\u0430 \u043d\u0430\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u044f \u0441\u043c\u0435\u0440\u0442\u0438 - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"5",code:"\u043f.13",suggestion:"\u0412\u044b\u0431\u043e\u0440 \u0441\u0440\u043e\u043a\u0430 \u0431\u0435\u0440\u0435\u043c\u043c\u0435\u043d\u043e\u0441\u0442\u0438 \u0434\u043b\u044f \u0434\u0435\u0442\u0435\u0439 \u043e\u0442 168 \u0447 \u0434\u043e 1\u043c\u0435\u0441\u044f\u0446\u0430  - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!0},{section:"5",code:"\u043f.14.1",suggestion:"\u0412\u043d\u0435\u0441\u0435\u043d\u0438\u0435 \u0432\u0435\u0441\u0441\u0430 \u0434\u043b\u044f \u0434\u0435\u0442\u0435\u0439 \u043e\u0442 168 \u0447 \u0434\u043e \u0433\u043e\u0434\u0430  - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!0},{section:"5",code:"\u043f.14.2",suggestion:"\u0412\u043d\u0435\u0441\u0435\u043d\u0438\u0435 \u043f\u043e\u0440\u044f\u0434\u043a\u043e\u0432\u043e\u0433\u043e \u043d\u043e\u043c\u0435\u0440\u0430 \u0431\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u043c\u0430\u0442\u0435\u0440\u0438 \u0434\u043b\u044f \u0434\u0435\u0442\u0435\u0439 \u043e\u0442 168 \u0447 \u0434\u043e \u0433\u043e\u0434\u0430  - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!0},{section:"5",code:"\u043f.14.3",suggestion:"\u0412\u043d\u0435\u0441\u0435\u043d\u0438\u0435 \u0424\u0418\u041e \u043c\u0430\u0442\u0435\u0440\u0438 \u0434\u043b\u044f \u0434\u0435\u0442\u0435\u0439 \u043e\u0442 168 \u0447 \u0434\u043e \u0433\u043e\u0434\u0430  - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!0},{section:"5",code:"\u043f.14.4",suggestion:"\u0412\u043d\u0435\u0441\u0435\u043d\u0438\u0435 \u0434\u0430\u0442\u044b \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u043c\u0430\u0442\u0435\u0440\u0438 \u0434\u043b\u044f \u0434\u0435\u0442\u0435\u0439 \u043e\u0442 168 \u0447 \u0434\u043e \u0433\u043e\u0434\u0430  - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!0},{section:"5",code:"\u043f.14.5",suggestion:"\u0412\u043d\u0435\u0441\u0435\u043d\u0438\u0435 \u0430\u0434\u0440\u0435\u0441\u0430 \u0436\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u043c\u0430\u0442\u0435\u0440\u0438 \u0434\u043b\u044f \u0434\u0435\u0442\u0435\u0439 \u043e\u0442 168 \u0447 \u0434\u043e \u0433\u043e\u0434\u0430  - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!0},{section:"5",code:"\u043f.15",suggestion:"\u0423\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u0441\u0435\u043c\u0435\u0439\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u044f - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"5",code:"\u043f.16",suggestion:"\u0423\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u044f - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"5",code:"\u043f.17",suggestion:"\u0423\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u0437\u0430\u043d\u044f\u0442\u043e\u0441\u0442\u0438 - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"6",code:"\u043f.18",suggestion:"\u0423\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u0440\u043e\u0434\u0430 \u043f\u0440\u0438\u0447\u0438\u043d\u044b \u0441\u043c\u0435\u0440\u0442\u0438 - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"6",code:"\u043f.19",suggestion:"\u0423\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0434\u0430\u0442\u0443, \u0432\u0440\u0435\u043c\u044f \u0438 \u043e\u0431\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0442\u0440\u0430\u0432\u043c\u044b (\u043e\u0442\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f), \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0441\u043c\u0435\u0440\u0442\u0438 \u043d\u0435 \u043e\u0442 \u0437\u0430\u0431\u043e\u043b\u0435\u0432\u0430\u043d\u0438\u044f - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"6",code:"\u043f.20",suggestion:"\u0423\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u043c\u0435\u0434\u0438\u0446\u0438\u043d\u0441\u043a\u043e\u0433\u043e \u0440\u0430\u0431\u043e\u0442\u043d\u0438\u043a\u0430, \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0432\u0448\u0435\u0433\u043e \u043f\u0440\u0438\u0447\u0438\u043d\u044b \u0441\u043c\u0435\u0440\u0442\u0438 - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"6",code:"\u043f.21",suggestion:"\u0423\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0440\u0438\u0447\u0438\u043d\u044b \u0441\u043c\u0435\u0440\u0442\u0438 - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"7",code:"\u043f.22.a)",suggestion:"\u0423\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u044b \u0430) - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"7",code:"\u043f.22.a)\u0442",suggestion:"\u041f\u0435\u0440\u0438\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043c\u0435\u0436\u0434\u0443 \u043d\u0430\u0447\u0430\u043b\u043e\u043c \u043f\u0430\u0442\u043e\u043b. \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0438 \u0441\u043c\u0435\u0440\u0442\u044c\u044e \u0432 \u043f\u0440\u0438\u0447\u0438\u043d\u0435 \u0430) - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"7",code:"\u043f.22.\u0431)",suggestion:"\u0423\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u044b \u0431) \u0438\u043b\u0438 \u0435\u0435 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"7",code:"\u043f.22.\u0431)\u0442",suggestion:"\u041f\u0435\u0440\u0438\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043c\u0435\u0436\u0434\u0443 \u043d\u0430\u0447\u0430\u043b\u043e\u043c \u043f\u0430\u0442\u043e\u043b. \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0438 \u0441\u043c\u0435\u0440\u0442\u044c\u044e \u0432 \u043f\u0440\u0438\u0447\u0438\u043d\u0435 \u0431) \u0438\u043b\u0438 \u0435\u0433\u043e \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0435 - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"7",code:"\u043f.22.\u0432)",suggestion:"\u0423\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u044b \u0432) \u0438\u043b\u0438 \u0435\u0435 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"7",code:"\u043f.22.\u0432)\u0442",suggestion:"\u041f\u0435\u0440\u0438\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043c\u0435\u0436\u0434\u0443 \u043d\u0430\u0447\u0430\u043b\u043e\u043c \u043f\u0430\u0442\u043e\u043b. \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0438 \u0441\u043c\u0435\u0440\u0442\u044c\u044e \u0432 \u043f\u0440\u0438\u0447\u0438\u043d\u0435 \u0432) \u0438\u043b\u0438 \u0435\u0433\u043e \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0435 - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"7",code:"\u043f.22.\u0433)",suggestion:"\u0423\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u044b \u0433) \u0438\u043b\u0438 \u0435\u0435 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"7",code:"\u043f.22.\u0433)\u0442",suggestion:"\u041f\u0435\u0440\u0438\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043c\u0435\u0436\u0434\u0443 \u043d\u0430\u0447\u0430\u043b\u043e\u043c \u043f\u0430\u0442\u043e\u043b. \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0438 \u0441\u043c\u0435\u0440\u0442\u044c\u044e \u0432 \u043f\u0440\u0438\u0447\u0438\u043d\u0435 \u0433) \u0438\u043b\u0438 \u0435\u0433\u043e \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0435 - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"8",code:"\u043f.22.II.1",suggestion:"\u0423\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u043a\u043e\u0434\u0430 \u043f\u0440\u043e\u0447\u0435\u0433\u043e \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0438\u043b\u0438 \u043f\u0440\u0438\u0447\u0438\u043d\u044b \u0435\u0433\u043e \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!0},{section:"8",code:"\u043f.22.II.2",suggestion:"\u0423\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u043f\u0435\u0440\u0438\u043e\u0434\u0430 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043c\u0435\u0436\u0434\u0443 \u043d\u0430\u0447\u0430\u043b\u043e\u043c \u043f\u0430\u0442\u043e\u043b. \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0438 \u0441\u043c\u0435\u0440\u0442\u044c\u044e \u0438\u043b\u0438 \u043f\u0440\u0438\u0447\u0438\u043d\u044b \u0435\u0433\u043e \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!0},{section:"9",code:"\u043f.23",suggestion:"\u0423\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u043f\u0435\u0440\u0438\u043e\u0434\u0430 \u043d\u0430\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u044f \u0441\u043c\u0435\u0440\u0442\u0438 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0414\u0422\u041f  - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"9",code:"\u043f.24",suggestion:"\u0423\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u0441\u0440\u043e\u043a\u0430 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0430\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u044f \u0441\u043c\u0435\u0440\u0442\u0438 \u043f\u0440\u0438 \u0431\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0441\u0442\u0438  - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"9",code:"\u043f.25.1",suggestion:"\u0423\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u0432\u0440\u0430\u0447\u0435 (\u0441\u0443\u0434\u0435\u0431\u043d\u043e-\u043c\u0435\u0434\u0438\u0446\u0438\u043d\u0441\u043a\u043e\u043c \u044d\u043a\u0441\u043f\u0435\u0440\u0442\u0435, \u0444\u0435\u043b\u044c\u0434\u0448\u0435\u0440\u0435, \u0430\u043a\u0443\u0448\u0435\u0440\u043a\u0435), \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0432\u0448\u0435\u043c \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"9",code:"\u043f.25.2",suggestion:"\u0423\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u0435 \u043c\u0435\u0434\u0438\u0446\u0438\u043d\u0441\u043a\u043e\u0439 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"9",code:"\u043f.26",suggestion:"\u0423\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e\u0431 \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u043c \u0437\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 \u043c\u0435\u0434\u0438\u0446\u0438\u043d\u0441\u043a\u0438\u0445 \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432 \u043b\u0438\u0446\u0435 - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",done:!1},{section:"10",code:"*A",suggestion:"\u0423\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u0424\u0418\u041e \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u043f\u0435\u0447\u0430\u0442\u0438",done:!1},{section:"10",code:"*B",suggestion:"\u0423\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u0434\u0430\u0442\u044b \u0432\u044b\u0434\u0430\u0447\u0438 - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u043f\u0435\u0447\u0430\u0442\u0438",done:!1},{section:"10",code:"*\u0421",suggestion:"\u0423\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u0421\u041d\u0418\u041b\u0421 \u0438\u043b\u0438 \u0438\u043d\u043e\u0433\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u044f \u043b\u0438\u0447\u043d\u043e\u0441\u0442\u0438 - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u043f\u0435\u0447\u0430\u0442\u0438",done:!1},{section:"11",code:"1",suggestion:"\u041a\u0440\u0438\u043f\u0442\u043e\u041f\u0440\u043e \u042d\u0426\u041f Browser plug-in \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d",done:!1},{section:"11",code:"2",suggestion:"\u041a\u0440\u0438\u043f\u0442\u043e\u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d",done:!1},{section:"11",code:"3",suggestion:"\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442 \u043f\u043e\u0434\u043f\u0438\u0441\u0438 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d",done:!1}],Ce=[{code:"NI",name:"\u041d\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438"},{code:"INV",name:"\u041d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"},{code:"DER",name:"\u0418\u0437\u0432\u043b\u0435\u043a\u0430\u0435\u043c\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"},{code:"OTH",name:"\u0414\u0440\u0443\u0433\u043e\u0435"},{code:"NINF",name:"\u041c\u0438\u043d\u0443\u0441 \u0431\u0435\u0441\u043a\u043e\u043d\u0435\u0447\u043d\u043e\u0441\u0442\u044c"},{code:"PINF",name:"\u041f\u043b\u044e\u0441 \u0431\u0435\u0441\u043a\u043e\u043d\u0435\u0447\u043d\u043e\u0441\u0442\u044c"},{code:"UNC",name:"\u041a\u043e\u0434\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u0435 \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u043b\u043e\u0441\u044c"},{code:"MSK",name:"\u0421\u043a\u0440\u044b\u0442\u043e"},{code:"NA",name:"\u041d\u0435\u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043c\u043e"},{code:"UNK",name:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"},{code:"ASKU",name:"\u0417\u0430\u043f\u0440\u043e\u0448\u0435\u043d\u043e, \u043d\u043e \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"},{code:"NAV",name:"\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e"},{code:"NASK",name:"\u041d\u0435 \u0437\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u043b\u043e\u0441\u044c"},{code:"QS",name:"\u0414\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"},{code:"TRC",name:"\u0422\u0440\u0443\u0434\u043d\u043e\u0440\u0430\u0437\u043b\u0438\u0447\u0438\u043c\u043e"}],Ne={NI:0,INV:1,DER:2,OTH:3,NINF:4,PINF:5,UNC:6,MSK:7,NA:8,UNK:9,ASKU:10,NAV:11,NASK:12,QS:13,TRC:14},Ae=10,Ee=[{code:1,name:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0433\u0440. \u0420\u0424",s_mask:"99 99",n_mask:"999999",c_mask:"999-999"},{code:2,name:"\u0417\u0430\u0433\u0440\u0430\u043d\u0438\u0447\u043d\u044b\u0439 \u043f\u0430\u0441\u043f\u043e\u0440\u0442 \u0433\u0440. \u0420\u0424",s_mask:"99",n_mask:"9999999",c_mask:"\u0424\u041c\u0421 99999"},{code:3,name:"\u0421\u043b\u0443\u0436\u0435\u0431\u043d\u044b\u0439 \u043f\u0430\u0441\u043f\u043e\u0440\u0442"},{code:4,name:"\u0412\u0440\u0435\u043c. \u0443\u0434. \u043b\u0438\u0447\u043d\u043e\u0441\u0442\u0438(\u0444\u043e\u0440\u043c\u0430 \u2116 2\u041f)"},{code:6,name:"\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u0438",n_mask:"999999"},{code:8,name:"\u0423\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u0435 \u043b\u0438\u0447\u043d\u043e\u0441\u0442\u0438 \u0432\u043e\u0435\u043d\u043d\u043e\u0441\u043b\u0443\u0436\u0430\u0449\u0435\u0433\u043e"},{code:9,name:"\u0412\u043e\u0435\u043d\u043d\u044b\u0439 \u0431\u0438\u043b\u0435\u0442"},{code:10,name:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0438\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0438\u043d\u0430"},{code:11,name:"\u0412\u0438\u0434 \u043d\u0430 \u0436\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e"},{code:17,name:"\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u043d\u0430 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0435 \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u0435 \u0432 \u0420\u0424"},{code:25,name:"\u0421\u043f\u0440\u0430\u0432\u043a\u0430 \u043e\u0431 \u043e\u0441\u0432\u043e\u0431\u043e\u0436\u0434\u0435\u043d\u0438\u0438 \u0438\u0437 \u043c\u0435\u0441\u0442\u0430 \u043b\u0438\u0448\u0435\u043d\u0438\u044f \u0441\u0432\u043e\u0431\u043e\u0434\u044b"},{code:36,name:"\u0412\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0435 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u0435"},{code:38,name:"\u041e\u0445\u043e\u0442\u043d\u0438\u0447\u0438\u0439 \u0431\u0438\u043b\u0435\u0442"}],Se={severity:"error",summary:"\u0421\u0431\u043e\u0439",detail:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u043f\u043e-\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0434\u043d\u0435\u0435",life:3e3,baseZIndex:999},Ie=function(e){var t=Object(i.useState)(e.value?Ce[e.value]:null),n=Object(p.a)(t,2),a=n[0],s=n[1],r=Object(i.useState)(e.checked||!1),o=Object(p.a)(r,2),c=o[0],l=o[1],u=e.paraNum?{marginLeft:"-0.76rem"}:{},h=e.nullFlavors&&e.nullFlavors.length>0&&e.field_name?e.nullFlavors.filter((function(t){return t.parent_attr!==e.field_name})):[],f=!!(e.nullFlavors&&e.nullFlavors.length>0&&e.field_name)&&e.nullFlavors.find((function(t){return t.parent_attr===e.field_name}));Object(i.useEffect)((function(){if(e.nullFlavors){var t=e.nullFlavors.find((function(t){return t.parent_attr===e.field_name&&!t._destroy}));t?(s(Ce[t.code]),!0!==e.checked&&l(!1)):!1!==e.checked&&l(!0)}}),[e.nullFlavors,e.field_name,e.checked]);var _=!e.lincked&&Object(d.jsx)(ge.a,{style:{marginLeft:"0.4rem"},checked:c,disabled:e.disabled,onChange:function(t){if(l(t.checked),e.nullFlavors)if(e.setCheck&&t.checked)f&&f.id?(e.nullFlavors.forEach((function(t){t.parent_attr===e.field_name&&(t._destroy="1")})),e.setCheck(t)):e.setCheck(t,h);else if(e.setCheck&&e.value&&e.field_name){var n=h;n.push({parent_attr:e.field_name,code:e.value}),e.setCheck(t,n)}else e.setCheck&&e.setCheck(t);else e.setCheck&&e.setCheck(t)}}),m=e.lincked?{marginTop:"0.4rem"}:{},b=e.lincked&&!e.checked?Object(d.jsx)(d.Fragment,{}):Object(d.jsxs)("div",{className:"p-checkbox-right p-field-checkbox",style:m,children:[e.label,_]},"nf_".concat(e.checked,"_").concat(e.paraNum)),v=!e.lincked&&Object(d.jsx)(fe.a,{id:"p"+e.field_name,style:u,value:a,options:e.options,onChange:function(t){if(s(t.value),e.onChange){var n={parent_attr:e.field_name,code:Ce.findIndex((function(e){return e.code===t.value.code}))},i=h;i.push(n),e.onChange(t.value,i)}else if(e.nullFlavors){var a=e.nullFlavors.findIndex((function(t){return t.parent_attr===e.field_name}));if(!(a>-1))throw new Error("Error change nullFlavor: invalid field name:  ".concat(e.field_name));e.nullFlavors[a].code=Ce.findIndex((function(e){return e.code===t.value.code}))}},optionLabel:"name",placeholder:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f"},"dd_".concat(e.field_name,"_").concat(e.checked)),j=c?Object(d.jsx)("div",{style:u,children:e.field}):Object(d.jsx)("div",{style:{width:"200px"},children:v});return Object(d.jsxs)(d.Fragment,{children:[b,j]})},we=function(e){if(void 0!==e){var t={code:e.code,parent_attr:e.parent_attr};return e.id&&(t.id=e.id),e.parent_guid&&(t.parent_guid=e.parent_guid),t}},ke=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:9,a=n.findIndex((function(t){return t.parent_attr===e}));if(t&&-1!==a&&n[a].id)do{n[a]._destroy="1",a=n.findIndex((function(t){return t.parent_attr===e&&!t._destroy&&t.id}))}while(-1!==a);else t&&-1!==a?n.splice(a,1):t||-1===a||"1"!==n[a]._destroy?t||-1!==a||n.push({code:i,parent_attr:e}):n[a]=Object(h.a)({},we(n[a]))},Te=n(7),De=function(){function e(t){var n;Object(te.a)(this,e),this._id=void 0,this._identityCardType=void 0,this._series=void 0,this._number=void 0,this._issueOrgName=void 0,this._issueOrgCode=void 0,this._issueOrgDate=void 0,this._parentGUID=void 0,this._nullFlavors=void 0,this._id=t.id,this._identityCardType=t.identity_card_type_id,t.series&&(this._series=t.series),this._number=t.number,this._issueOrgName=t.issueOrgName,t.issueOrgCode&&(this._issueOrgCode=t.issueOrgCode),t.issueDate&&(this._issueOrgDate=new Date(t.issueDate)),this._parentGUID=t.parentGUID,this._nullFlavors=(null===(n=t.null_flavors)||void 0===n?void 0:n.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{code:Ne[e.code]})})))||[],Object(Te.e)(this,void 0,{deep:!1})}return Object(ne.a)(e,[{key:"getAttributes",value:function(){var e={};return this._id&&(e.id=this._id),this._identityCardType&&(e.identity_card_type_id=this._identityCardType),this._issueOrgCode&&(e.issueOrgCode=this._issueOrgCode),this._issueOrgDate&&(e.issueDate=this._issueOrgDate.toDateString()),this._issueOrgName&&(e.issueOrgName=this._issueOrgName),this._nullFlavors.length>0&&(e.null_flavors_attributes=this.null_flavors_attributes()),this._number&&(e.number=this._number),this._parentGUID&&(e.parentGUID=this._parentGUID),this._series&&(e.series=this._series),e}},{key:"identityCardType",get:function(){return this._identityCardType},set:function(e){this._identityCardType=e}},{key:"series",get:function(){return this._series?this._series:""},set:function(e){this._series=e}},{key:"number",get:function(){return this._number},set:function(e){this._number=e}},{key:"issueOrgName",get:function(){return this._issueOrgName},set:function(e){this._issueOrgName=e}},{key:"issueOrgDate",get:function(){return this._issueOrgDate},set:function(e){this._issueOrgDate=e}},{key:"issueOrgCode",get:function(){return this._issueOrgCode?this._issueOrgCode:""},set:function(e){this._issueOrgCode=e}},{key:"parentGUID",get:function(){return this._parentGUID}},{key:"nullFlavors",get:function(){return this._nullFlavors},set:function(e){this._nullFlavors=e}},{key:"null_flavors_attributes",value:function(){return this._nullFlavors.map((function(e){return Object(h.a)({},e)}))}}]),e}(),Fe=n(41),Le=function(){function e(){var t,n,i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(te.a)(this,e),this._id=void 0,this._personName=void 0,this._SNILS=void 0,this._nullFlavors=void 0,this._address=void 0,this._contacts=void 0,this._oldOne=void 0,this._oldOne=a,this._personName=a.person_name,this._SNILS=a.SNILS,this._id=a.id,this._address=Object(h.a)(Object(h.a)({},a.address),{},{null_flavors_attributes:(null===(t=a.address)||void 0===t||null===(n=t.null_flavors)||void 0===n?void 0:n.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{code:Ne[e.code]})})))||[]}),this._nullFlavors=(null===(i=a.null_flavors)||void 0===i?void 0:i.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{code:Ne[e.code]})})))||[],this._contacts=a.contacts||[],Object(Te.e)(this,void 0,{deep:!1})}return Object(ne.a)(e,[{key:"getAttributes",value:function(){var e,t={};return this._id&&(t.id=this._id),this._SNILS&&(t.SNILS=this._SNILS),this._address&&this._address.state&&this._address.streetAddressLine?t.address_attributes=Object(h.a)({},this._address):this._oldOne&&(null===(e=this._oldOne.address)||void 0===e?void 0:e.id)&&(t.address_attributes={id:this._oldOne.address.id,_destroy:"1"}),this._contacts.length>0&&(t.contacts_attributes=Object(Fe.a)(this._contacts)),this._nullFlavors.length>0&&(t.null_flavors_attributes=this.null_flavors_attributes()),this._personName&&(t.person_name_attributes=Object(h.a)({},this._personName)),t}},{key:"fio",get:function(){return this._personName},set:function(e){this._personName=e}},{key:"nullFlavors",get:function(){return this._nullFlavors},set:function(e){this._nullFlavors=e}},{key:"null_flavors_attributes",value:function(){return this._nullFlavors.map((function(e){return Object(h.a)({},e)}))}},{key:"SNILS",get:function(){return this._SNILS},set:function(e){this._SNILS=e}},{key:"id",get:function(){return this._id}},{key:"address",get:function(){return this._address},set:function(e){this._address=e}},{key:"contacts",get:function(){return this._contacts},set:function(e){this._contacts=e}},{key:"fullName",value:function(){var e=this._personName;return e?"".concat(e.family," ").concat(e.given_1," ").concat(e.given_2?e.given_2:""):""}}]),e}(),Me=function(e){return e?"".concat(e.family," ").concat(e.given_1," ").concat(e.given_2?e.given_2:"").trim():""},Re=function(e){var t=Object(i.useState)(Me(e.personName)),n=Object(p.a)(t,2),a=n[0],s=n[1],r=e.submitted&&(!e.personName||!e.personName.family||!e.personName.given_1);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(_e.a,{id:"fio",type:"text",value:a,onChange:function(t){var n,i;s(t.target.value);var a=t.target.value.trim().split(" "),r={};(null===(n=e.personName)||void 0===n?void 0:n.id)&&(r.id=null===(i=e.personName)||void 0===i?void 0:i.id),a&&a.length>1?(r=Object(h.a)(Object(h.a)({},r),{},{family:a[0],given_1:a[1]}),a[2]&&(r.given_2=a[2])):r=Object(h.a)(Object(h.a)({},r),{},{family:"",given_1:""}),e.onChange(r)},className:Object(T.h)({"p-invalid":r})}),r&&Object(d.jsx)("small",{className:"p-error",children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f, \u0438\u043c\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b"})]})},Pe=Object(c.a)((function(){var e=Object(i.useContext)(Mn),t=e.certificateStore,n=e.suggestionsStore,a=e.layoutStore,s=t.cert,r=s.patient,o=r.person,c=Object(i.useState)(!!r.birth_year),l=Object(p.a)(c,2),u=l[0],h=l[1],_=Object(i.useState)(!!s.deathYear),m=Object(p.a)(_,2),b=m[0],v=m[1],j=n.identified,g=n.fromRelatives?"ASKU":"NA UNK",O=void 0!==s.deathDatetime&&-1===s.nullFlavors.findIndex((function(e){return"death_time"===e.parent_attr}));return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(f.a,{className:"c-section p-mr-2 p-mb-2",header:function(){return Object(d.jsx)("span",{children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u043c\u0435\u0440\u0448\u0435\u0433\u043e"})},children:Object(d.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(d.jsxs)("div",{className:"p-field-checkbox p-col-12 p-lg-6",children:[Object(d.jsx)(ge.a,{inputId:"notIdentified",checked:!n.identified,onChange:function(e){e.checked?(r.person=void 0,r.identity=void 0,s.policyOMS=void 0):(r.person=new Le,u&&(h(!1),r.setBirthDay(r.birth_date,!1))),ke("person",r.person,r.nullFlavors,9),ke("identity",r.identity,r.nullFlavors,9),ke("policy_OMS",s.policyOMS,s.nullFlavors,9),n.identified=!e.checked}}),Object(d.jsx)("label",{htmlFor:"notIdentified",children:"\u0423\u043c\u0435\u0440\u0448\u0438\u0439 \u043d\u0435 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d"})]}),Object(d.jsxs)("div",{className:"p-field-checkbox p-col-12 p-lg-6",children:[Object(d.jsx)(ge.a,{inputId:"fromRelatives",checked:n.fromRelatives,onChange:function(e){n.fromRelatives=e.checked,e.checked?(r.person||(r.person=new Le,ke("person",r.person,r.nullFlavors)),u&&(h(!1),r.setBirthDay(r.birth_date,!1)),r.identity=void 0,ke("identity",r.identity,r.nullFlavors,Ae)):r.identity=new De({identity_card_type_id:Ee[0].code})}}),Object(d.jsx)("label",{htmlFor:"fromRelatives",children:"\u0412\u043d\u0435\u0441\u0435\u043d\u043e \u0441\u043e \u0441\u043b\u043e\u0432 \u0440\u043e\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a\u043e\u0432"})]}),Object(d.jsxs)("div",{className:"p-field p-d-flex p-flex-wrap p-jc-start",children:[Object(d.jsx)("div",{className:"paragraph p-mr-1",children:" 1. "}),Object(d.jsx)("div",{className:"p-paragraph-field p-mr-2 p-mb-2",children:Object(d.jsx)(Ie,{disabled:!n.fromRelatives,checked:j,paraNum:!0,label:Object(d.jsx)("label",{htmlFor:"family",children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f, \u0438\u043c\u044f, \u043e\u0442\u0447\u0435\u0441\u0442\u0432\u043e(\u043f\u0440\u0438 \u043d\u0430\u043b\u0438\u0447\u0438\u0438)"}),field:Object(d.jsx)(Re,{personName:null===o||void 0===o?void 0:o.fio,onChange:function(e){o&&(""===(null===e||void 0===e?void 0:e.family)||o.fio&&""!==o.fio.family||(a.message={severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",detail:"\u0424\u0418\u041e \u0443\u043c\u0435\u0440\u0448\u0435\u0433\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u0410 \u0432 \u043f.22",life:3e3}),o.fio=e||{family:"",given_1:""},ke("fio.given_2",o.fio.given_2,o.nullFlavors,9))}}),options:Ce.filter((function(e){return g.includes(e.code)})),value:n.fromRelatives?Ae:9,nullFlavors:r.nullFlavors,field_name:"person"})},"pdiv1_".concat(j))]}),Object(d.jsxs)("div",{className:"p-d-flex p-jc-center",children:[Object(d.jsx)("div",{className:"paragraph p-mr-1",children:" 2. "}),Object(d.jsx)("div",{className:"p-paragraph-field",children:Object(d.jsxs)("div",{className:"p-formgroup-inline",children:[Object(d.jsx)("div",{className:"p-field-radiobutton p-radiobutton",children:"\u041f\u043e\u043b"}),Object(d.jsxs)("div",{className:"p-field-radiobutton",children:[Object(d.jsx)(Oe.a,{name:"undef",checked:4===r.gender,onChange:function(e){e.checked?r.gender=4:r.gender=void 0}}),Object(d.jsx)("label",{htmlFor:"undef",children:" \u041d\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0439 "})]}),Object(d.jsxs)("div",{className:"p-field-radiobutton",children:[Object(d.jsx)(Oe.a,{name:"female",checked:2===r.gender,onChange:function(e){e.checked?r.gender=2:r.gender=void 0}}),Object(d.jsx)("label",{htmlFor:"female",children:" \u0416\u0435\u043d\u0441\u043a\u0438\u0439"})]}),Object(d.jsxs)("div",{className:"p-field-radiobutton",children:[Object(d.jsx)(Oe.a,{name:"male",checked:1===r.gender,onChange:function(e){e.checked?r.gender=1:r.gender=void 0}}),Object(d.jsx)("label",{htmlFor:"male",children:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439"})]})]})})]}),Object(d.jsxs)("div",{className:"p-field p-d-flex p-jc-center",children:[Object(d.jsx)("div",{className:"paragraph p-mr-1",children:" 3. "}),Object(d.jsx)("div",{className:"p-paragraph-field",children:Object(d.jsx)(Ie,{paraNum:!0,disabled:n.identified,label:Object(d.jsx)("label",{htmlFor:"dateBirth",children:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"}),checked:n.identified||u,setCheck:function(e,t){e.checked||(r.birth_date=void 0,r.birth_year=void 0),t&&(r.nullFlavors=t)},onChange:function(e,t){t&&(r.nullFlavors=t)},field:Object(d.jsxs)("div",{className:"p-d-flex p-jc-start p-ai-center",children:[Object(d.jsx)(me.a,{id:"dateBirth",className:"p-mr-2",locale:"ru",dateFormat:u?"yy":"dd.mm.yy",mask:u?"9999":"99.99.9999",value:r.birth_date,onChange:function(e){return r.setBirthDay(e.target.value,u)},showIcon:!0}),Object(d.jsxs)("div",{className:"p-field-checkbox",children:[Object(d.jsx)(ge.a,{checked:u,inputId:"bd_year",disabled:n.identified,onChange:function(e){h(e.checked),r.setBirthDay(r.birth_date,e.checked)}}),Object(d.jsx)("label",{htmlFor:"bd_year",children:"\u0422\u043e\u043b\u044c\u043a\u043e \u0433\u043e\u0434"})]})]}),options:Ce.filter((function(e){return"ASKU UNK".includes(e.code)})),value:n.fromRelatives?Ae:9,field_name:"birth_date",nullFlavors:r.nullFlavors})},"pdiv5_".concat(j))]}),Object(d.jsxs)("div",{className:"p-field p-d-flex p-jc-center",children:[Object(d.jsx)("div",{className:"paragraph p-mr-1",children:" 7. "}),Object(d.jsx)("div",{className:"p-paragraph-field p-mr-3 p-mb-2",children:Object(d.jsx)(Ie,{paraNum:!0,label:Object(d.jsx)("label",{htmlFor:"dateDeath",children:"\u0414\u0430\u0442\u0430 \u0441\u043c\u0435\u0440\u0442\u0438"}),checked:void 0!==s.deathDatetime,setCheck:function(e,t){e.checked?s.setDeathDay(new Date,!1):s.setDeathDay(void 0,!1),t&&(s.nullFlavors=t)},onChange:function(e,t){t&&(s.nullFlavors=t)},field:Object(d.jsxs)("div",{className:"p-d-flex p-jc-start p-ai-center",children:[Object(d.jsx)(me.a,{id:"dateDeath",className:"p-mr-2",locale:"ru",dateFormat:b?"yy":"dd.mm.yy",mask:b?"9999":"99.99.9999",value:s.deathDatetime,onChange:function(e){return s.setDeathDay(e.target.value,b)},showIcon:!0}),Object(d.jsxs)("div",{className:"p-field-checkbox",children:[Object(d.jsx)(ge.a,{checked:b,inputId:"bd_year",onChange:function(e){v(e.checked),s.setDeathDay(s.deathDatetime,e.checked)}}),Object(d.jsx)("label",{htmlFor:"bd_year",children:"\u0422\u043e\u043b\u044c\u043a\u043e \u0433\u043e\u0434"})]})]}),options:Ce.filter((function(e){return"ASKU UNK".includes(e.code)})),value:9,field_name:"death_datetime",nullFlavors:s.nullFlavors})}),Object(d.jsx)("div",{className:"p-paragraph-field",children:Object(d.jsx)(Ie,{disabled:b,label:Object(d.jsx)("label",{htmlFor:"timeDeath",children:"\u0412\u0440\u0435\u043c\u044f \u0441\u043c\u0435\u0440\u0442\u0438"}),checked:O&&!b,setCheck:function(e,t){t&&(s.nullFlavors=t)},onChange:function(e,t){t&&(s.nullFlavors=t)},field:Object(d.jsx)(me.a,{id:"timeDeath",timeOnly:!0,hourFormat:"24",locale:"ru",value:s.deathDatetime,showIcon:!0}),options:Ce.filter((function(e){return"ASKU UNK".includes(e.code)})),value:9,field_name:"death_time",nullFlavors:s.nullFlavors})},"pdivdt_".concat(b,"_").concat(O))]})]})})})})),Ue=n(27),Be=n(40),Ge=function(e){var t=e.identity,n=e.dulValue,i={type:"text",id:"series",value:null===t||void 0===t?void 0:t.series,onChange:function(e){t&&(t.series=e.target.value)}},a=(null===n||void 0===n?void 0:n.s_mask)?Object(d.jsx)(Ue.a,Object(h.a)({},Object(h.a)({mask:null===n||void 0===n?void 0:n.s_mask},i))):Object(d.jsx)(_e.a,Object(h.a)({},i)),s={type:"text",id:"docNumber",value:null===t||void 0===t?void 0:t.number,onChange:function(e){t&&(t.number=e.target.value)}},r=(null===n||void 0===n?void 0:n.n_mask)?Object(d.jsx)(Ue.a,Object(h.a)({},Object(h.a)({mask:null===n||void 0===n?void 0:n.n_mask},s))):Object(d.jsx)(_e.a,Object(h.a)({},s)),o={type:"text",id:"depCode",value:null===t||void 0===t?void 0:t.issueOrgCode,onChange:function(e){t&&(t.issueOrgCode=e.target.value)}};return[a,r,(null===n||void 0===n?void 0:n.c_mask)?Object(d.jsx)(Ue.a,Object(h.a)({},Object(h.a)({mask:null===n||void 0===n?void 0:n.c_mask},o))):Object(d.jsx)(_e.a,Object(h.a)({},o))]},Ke=Object(c.a)((function(){var e,t,n,a,s=Object(i.useContext)(Mn),r=s.certificateStore,o=s.suggestionsStore,c=o.identified,l=r.cert,u=l.patient,h=u.identity,_=Object(i.useState)(c&&-1===u.nullFlavors.findIndex((function(e){return!e._destroy&&"identity"===e.parent_attr}))),m=Object(p.a)(_,2),b=m[0],v=m[1],j=Object(i.useState)(Ee.find((function(e){return e.code===(null===h||void 0===h?void 0:h.identityCardType)}))),g=Object(p.a)(j,2),O=g[0],x=g[1],y=u.person,C=b?"UNK":"UNK ASKU NA",N=Ge({dulValue:O,identity:h}),A=Object(p.a)(N,3),E=A[0],S=A[1],I=A[2];return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(f.a,{className:"c-section p-mr-2 p-mb-2",header:function(){return Object(d.jsx)("span",{children:"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u0443\u043c\u0435\u0440\u0448\u0435\u0433\u043e"})},children:Object(d.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(d.jsxs)("div",{className:"p-field p-d-flex p-flex-wrap p-jc-start",children:[Object(d.jsx)("div",{className:"paragraph p-mr-1",children:"4. "}),Object(d.jsx)("div",{className:"p-paragraph-field p-mr-2 p-mb-2",children:Object(d.jsx)(Ie,{disabled:!c,paraNum:!0,checked:b,setCheck:function(e,t){e.checked?(u.identity=new De({identity_card_type_id:Ee[0].code}),c||(o.identified=!0)):u.identity=void 0,t&&(u.nullFlavors=t),v(e.checked)},nullFlavors:u.nullFlavors,field_name:"identity",label:Object(d.jsx)("label",{htmlFor:"identity_card_type",children:"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442, \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u044f\u044e\u0449\u0435\u0439 \u043b\u0438\u0447\u043d\u043e\u0441\u0442\u044c \u0443\u043c\u0435\u0440\u0448\u0435\u0433\u043e: "}),field:Object(d.jsx)(fe.a,{id:"identity_card_type",value:O,autoFocus:!0,options:Ee,optionLabel:"name",onChange:function(e){h?h.identityCardType=e.value.code:(u.identity=new De({identity_card_type_id:e.value.code}),ke("identity",u.identity,u.nullFlavors)),x(Ee.find((function(t){return t.code===e.value.code})))}}),options:Ce.filter((function(e){return C.includes(e.code)})),value:b?9:Ae})}),Object(d.jsx)("div",{className:"p-paragraph-field p-mr-2 p-mb-2",style:{marginLeft:"1.5rem"},children:Object(d.jsx)(Ie,{label:Object(d.jsx)("label",{htmlFor:"series",children:"\u0421\u0435\u0440\u0438\u044f"}),checked:b&&-1===(null===(e=u.identity)||void 0===e?void 0:e.nullFlavors.findIndex((function(e){return"series"===e.parent_attr}))),setCheck:function(e,t){e.checked&&u.identity?u.identity.series="":u.identity&&(u.identity.series=void 0)},field:E,field_name:"series",options:c?[Ce[8]]:[Ce[10]],value:8,nullFlavors:null===(t=u.identity)||void 0===t?void 0:t.nullFlavors,lincked:!b})},"ser_".concat(b)),Object(d.jsx)("div",{className:"p-paragraph-field p-mr-2 p-mb-2",style:{marginLeft:"1.5rem"},children:Object(d.jsx)(Ie,{label:Object(d.jsx)("label",{htmlFor:"docNumber",children:"\u041d\u043e\u043c\u0435\u0440"}),checked:b,field:S,options:Ce.filter((function(e){return"ASKU UNK".includes(e.code)})),value:c?9:Ae,lincked:!0})},"num_".concat(b)),Object(d.jsx)("div",{className:"p-paragraph-field p-mr-3 p-mb-2",style:{marginLeft:"1.5rem"},children:Object(d.jsx)(Ie,{label:Object(d.jsx)("label",{htmlFor:"issueOrgName",children:"\u041a\u0435\u043c \u0432\u044b\u0434\u0430\u043d"}),checked:b,field:Object(d.jsx)(Be.a,{id:"issueOrgName",value:null===h||void 0===h?void 0:h.issueOrgName,cols:65,rows:2,disabled:!c,onChange:function(e){h&&(h.issueOrgName=e.target.value)}}),options:Ce.filter((function(e){return"ASKU UNK".includes(e.code)})),value:c?9:Ae,lincked:!0})},"org_".concat(b)),Object(d.jsx)("div",{className:"p-paragraph-field p-mr-2 p-mb-2",style:{marginLeft:"1.5rem"},children:Object(d.jsx)(Ie,{label:Object(d.jsx)("label",{htmlFor:"issueDate",children:"\u041a\u043e\u0433\u0434\u0430 \u0432\u044b\u0434\u0430\u043d"}),checked:b,field:Object(d.jsx)(me.a,{id:"issueDate",className:"p-mr-2",dateFormat:"dd.mm.yy",locale:"ru",mask:"99.99.9999",value:null===h||void 0===h?void 0:h.issueOrgDate,onChange:function(e){h&&(h.issueOrgDate=e.target.value)},showIcon:!0}),options:Ce.filter((function(e){return"ASKU UNK".includes(e.code)})),value:c?9:Ae,field_name:"issueDate",lincked:!0})},"pdiv5_".concat(b)),Object(d.jsx)("div",{className:"p-paragraph-field p-mr-2 p-mb-2",style:{marginLeft:"1.5rem"},children:Object(d.jsx)(Ie,{label:Object(d.jsx)("label",{htmlFor:"depCode",children:"\u041a\u043e\u0434 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f"}),checked:b&&-1===(null===(n=u.identity)||void 0===n?void 0:n.nullFlavors.findIndex((function(e){return"issueOrgCode"===e.parent_attr}))),setCheck:function(e,t){e.checked&&u.identity?u.identity.issueOrgCode="":u.identity&&(u.identity.issueOrgCode=void 0),t&&u.identity&&(u.identity.nullFlavors=t)},field:I,options:c?[Ce[8]]:[Ce[10]],value:c?8:Ae,nullFlavors:null===(a=u.identity)||void 0===a?void 0:a.nullFlavors,lincked:!b,field_name:"issueOrgCode"})},"code_".concat(b))]}),Object(d.jsxs)("div",{className:"p-field p-d-flex p-jc-center",children:[Object(d.jsx)("div",{className:"paragraph p-mr-1",children:" 5. "}),Object(d.jsx)("div",{className:"p-paragraph-field",children:Object(d.jsx)(Ie,{paraNum:!0,label:Object(d.jsx)("label",{htmlFor:"snils",children:"\u0421\u041d\u0418\u041b\u0421"}),disabled:!c,checked:y&&-1===y.nullFlavors.findIndex((function(e){return"SNILS"===e.parent_attr&&!e._destroy})),setCheck:function(e,t){y&&(t&&(y.nullFlavors=t),e.checked||(y.SNILS=void 0))},field:Object(d.jsx)(Ue.a,{id:"snils",type:"text",mask:"999-999-999 99",value:null===y||void 0===y?void 0:y.SNILS,onChange:function(e){y&&(y.SNILS=e.target.value)}}),options:Ce.filter((function(e){return"ASKU UNK NA".includes(e.code)})),value:b?9:Ae,field_name:"SNILS",nullFlavors:null===y||void 0===y?void 0:y.nullFlavors})})]}),Object(d.jsxs)("div",{className:"p-field p-d-flex p-jc-center",children:[Object(d.jsx)("div",{className:"paragraph p-mr-1",children:"6.* "}),Object(d.jsx)("div",{className:"p-paragraph-field p-mr-3 p-mb-2",children:Object(d.jsx)(Ie,{paraNum:!0,label:Object(d.jsx)("label",{htmlFor:"policyOMS",children:"\u0421\u0435\u0440\u0438\u044f \u0438 \u043d\u043e\u043c\u0435\u0440 \u043f\u043e\u043b\u0438\u0441\u0430 \u041e\u041c\u0421"}),checked:c&&-1===l.nullFlavors.findIndex((function(e){return"policy_OMS"===e.parent_attr&&!e._destroy})),setCheck:function(e,t){t&&(l.nullFlavors=t),e.checked||(l.policyOMS=void 0)},field:Object(d.jsx)(_e.a,{id:"policyOMS",type:"text",value:l.policyOMS,onChange:function(e){l.policyOMS=e.target.value}}),options:Ce.filter((function(e){return"ASKU UNK NA".includes(e.code)})),value:b?9:Ae,field_name:"policy_OMS",nullFlavors:l.nullFlavors})})]}),Object(d.jsx)("div",{className:"p-field p-d-flex p-flex-wrap p-jc-start",style:{width:"98%",paddingLeft:"0.5rem"},children:Object(d.jsx)("em",{children:"* \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u0441\u043c\u0435\u0440\u0442\u0438 \u0440\u0435\u0431\u0435\u043d\u043a\u0430 \u0434\u043e \u0433\u043e\u0434\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0432 \u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u0438 \u043c\u0430\u0442\u0435\u0440\u0438"})})]})})})})),ze=n(8),He=n(32),Ve=n(52),qe=n(35),Ye=Object(c.a)((function(e){var t,n,a,s,r,o,c,l=Object(i.useContext)(Mn).addressStore,u=Object(i.useState)(l.isLoading),f=Object(p.a)(u,1)[0],_=l.address,m=_.streetAddressLine,b=l.regionsOptions,v=Object(i.useState)(""),j=Object(p.a)(v,2),g=j[0],O=j[1];Object(i.useEffect)((function(){return O(m)}),[m]);var x=Object(i.useState)(),y=Object(p.a)(x,2),C=y[0],N=y[1];Object(i.useEffect)((function(){return N(null===b||void 0===b?void 0:b.find((function(e){var t;return e.code===(null===(t=_.state)||void 0===t?void 0:t.code)})))}),[b,_.state]);var A=Object(i.useState)(""),E=Object(p.a)(A,2),S=E[0],I=E[1];Object(i.useEffect)((function(){var e;return I((null===(e=_.district)||void 0===e?void 0:e.name)||"")}),[null===(t=_.district)||void 0===t?void 0:t.name]);var w=Object(i.useState)((null===(n=_.city)||void 0===n?void 0:n.name)||""),k=Object(p.a)(w,2),T=k[0],D=k[1];Object(i.useEffect)((function(){var e;return D((null===(e=_.city)||void 0===e?void 0:e.name)||"")}),[null===(a=_.city)||void 0===a?void 0:a.name]);var F=Object(i.useState)((null===(s=_.town)||void 0===s?void 0:s.name)||""),R=Object(p.a)(F,2),P=R[0],U=R[1];Object(i.useEffect)((function(){var e;return U((null===(e=_.town)||void 0===e?void 0:e.name)||"")}),[null===(r=_.town)||void 0===r?void 0:r.name]);var B=Object(i.useState)((null===(o=_.street)||void 0===o?void 0:o.name)||""),G=Object(p.a)(B,2),K=G[0],z=G[1];Object(i.useEffect)((function(){var e;return z((null===(e=_.street)||void 0===e?void 0:e.name)||"")}),[null===(c=_.street)||void 0===c?void 0:c.name]);var H=Object(i.useState)(_.housenum||""),V=Object(p.a)(H,2),q=V[0],Y=V[1];Object(i.useEffect)((function(){return Y(_.housenum||"")}),[_.housenum]);var X=Object(i.useState)(l.fiasOptions),W=Object(p.a)(X,2),Z=W[0],Q=W[1],J=Object(i.useRef)(null),$=function e(t){if(null!==t)switch(t.parent&&e(t.parent),t.postalCode&&t.postalCode.length>0&&(_.postalCode=t.postalCode),_.aoGUID=t.AOGUID,_.houseGUID=t.HouseGUID,_.streetAddressLine=t.streetAddressLine,t.level){case"Region":t.code&&(_.state={code:t.code.slice(0,2),name:t.name}),N(null===b||void 0===b?void 0:b.find((function(e){var t;return e.code===(null===(t=_.state)||void 0===t?void 0:t.code)})));break;case"City":_.city={code:t.AOGUID,name:t.name},D(t.name);break;case"District":_.district={code:t.AOGUID,name:t.name},I(t.name);break;case"RailWayObject":case"Town":_.town={code:t.AOGUID,name:t.name},U(t.name);break;case"building":_.housenum=t.housenum,_.buildnum=t.buildnum,_.strucnum=t.strucnum;break;case"Street":z(t.name),_.street={code:t.AOGUID,name:t.name}}};Object(i.useEffect)((function(){var e;void 0===b?l.fetchRegionOptions():void 0===_.state||null===_.state?(N(null===b||void 0===b?void 0:b.find((function(e){return e.code===xe}))),_.state=C):(null===(e=_.state)||void 0===e?void 0:e.code)&&N(null===b||void 0===b?void 0:b.find((function(e){var t;return e.code===(null===(t=_.state)||void 0===t?void 0:t.code)})))}),[b,_,l,C]);var ee=function(){l.dialogVisible=!1},te=function(e,t){var n;e.value&&(null===(n=e.value)||void 0===n?void 0:n.AOGUID)?(l.clear(),$(e.value)):t(e.value)},ne=function(e,t,n){l.getChildItems(e,t,n).then((function(e){return Q(e)})).catch((function(e){J.current&&J.current.show(Object(h.a)(Object(h.a)({},Se),{},{detail:"\u043e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043a \u0424\u0418\u0410\u0421: ".concat(e.message)})),Q([])}))},ie=Object(d.jsxs)("div",{children:[Object(d.jsx)(ze.a,{label:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c",icon:"pi pi-check",disabled:!((l.manualMode||!l.isNotStrictly())&&l.address.oldOne.streetAddressLine!==l.streetAddressLine()),onClick:function(){l.isNotStrictly()&&l.manualMode&&(_.housenum=q,null===_.houseGUID&&q?l.address.streetAddressLine="".concat(g).concat(_.housenum.length>0?", "+_.housenum:""):l.address.streetAddressLine=g),l.onAddrComplete&&l.onAddrComplete(),ee()},className:"p-button-text p-button-success"}),Object(d.jsx)(ze.a,{label:"\u041e\u0442\u043c\u0435\u043d\u0430",icon:"pi pi-times",onClick:function(){e.onCancel&&e.onCancel(),ee()},className:"p-button-text"})]});return Object(d.jsx)(Ve.a,{footer:ie,header:"\u0412\u0432\u043e\u0434 \u0430\u0434\u0440\u0435\u0441\u0430 \u043f\u043e\u0441\u0440\u0435\u0434\u0441\u0442\u0432\u043e\u043c \u0424\u0418\u0410\u0421",visible:l.dialogVisible,onHide:ee,breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"50vw"},modal:!0,children:Object(d.jsxs)("div",{className:"p-grid p-fluid",children:[Object(d.jsx)("div",{className:"p-field p-col-12",children:Object(d.jsxs)("div",{className:"p-inputgroup",children:[Object(d.jsx)("span",{className:"p-inputgroup-addon",children:"\u0421\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430:"}),Object(d.jsx)(He.a,{id:"searchFIAS",disabled:f,value:g,suggestions:Z,completeMethod:function(e){var t,n,i,a=(null===(t=_.state)||void 0===t?void 0:t.name)?e.query.replace((null===(n=_.state)||void 0===n?void 0:n.name)+",",""):e.query;a.trim().length>1&&(l.searchBar(a.trim(),null===(i=_.state)||void 0===i?void 0:i.code),Q(l.fiasOptions))},field:"streetAddressLine",onChange:function(e){var t;e.value&&(null===(t=e.value)||void 0===t?void 0:t.AOGUID)?(l.clear(),$(e.value),O(e.value.streetAddressLine)):O(e.target.value)},placeholder:"\u0420\u0435\u0433\u0438\u043e\u043d, \u0413\u043e\u0440\u043e\u0434(\u0420\u0430\u0439\u043e\u043d),(\u041d\u0430\u0441.\u043f\u0443\u043d\u043a\u0442), \u0423\u043b\u0438\u0446\u0430, \u0414\u043e\u043c"})]})}),Object(d.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(d.jsx)("label",{htmlFor:"region",children:"\u0441\u0443\u0431\u044a\u0435\u043a\u0442 \u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u043e\u0439 \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u0438"}),Object(d.jsx)(fe.a,{id:"region",value:C,filter:!0,filterBy:"name",onChange:function(e){_.state=e.value,l.clear(),N(e.value)},options:b,optionLabel:"name"})]}),Object(d.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(d.jsx)("label",{htmlFor:"district",children:"\u0440\u0430\u0439\u043e\u043d"}),Object(d.jsx)(He.a,{id:"district",dropdown:!0,value:S,forceSelection:!0,field:"name",disabled:f,onChange:function(e){return te(e,I)},suggestions:Z,completeMethod:function(e){var t,n;(null===(t=_.state)||void 0===t?void 0:t.code)&&ne(null===(n=_.state)||void 0===n?void 0:n.code,"district",e.query)}})]}),Object(d.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(d.jsx)("label",{htmlFor:"city",children:"\u0433\u043e\u0440\u043e\u0434"}),Object(d.jsx)(He.a,{id:"city",dropdown:!0,value:T,forceSelection:!0,field:"name",onChange:function(e){return te(e,D)},suggestions:Z,completeMethod:function(e){var t,n;(null===(t=_.state)||void 0===t?void 0:t.code)&&ne(null===(n=_.state)||void 0===n?void 0:n.code,"city",e.query)}})]}),Object(d.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(d.jsx)("label",{htmlFor:"town",children:"\u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442"}),Object(d.jsx)(He.a,{id:"town",dropdown:!0,value:P,forceSelection:!0,field:"name",onChange:function(e){return te(e,U)},suggestions:Z,completeMethod:function(){var e=Object(M.a)(L.a.mark((function e(t){var n,i,a,s,r,o;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=null===(n=_.state)||void 0===n?void 0:n.code,(null===(i=_.city)||void 0===i?void 0:i.code)&&(o=null===(a=_.city)||void 0===a?void 0:a.code),(null===(s=_.district)||void 0===s?void 0:s.code)&&(o=null===(r=_.district)||void 0===r?void 0:r.code),o&&ne(o,"town",t.query);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]}),Object(d.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(d.jsx)("label",{htmlFor:"street",children:"\u0443\u043b\u0438\u0446\u0430"}),Object(d.jsx)(He.a,{id:"street",forceSelection:!0,value:K,field:"name",dropdown:!0,onChange:function(e){return te(e,z)},suggestions:Z,completeMethod:function(){var e=Object(M.a)(L.a.mark((function e(t){var n,i,a,s,r,o,c,l;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=null===(n=_.state)||void 0===n?void 0:n.code,(null===(i=_.district)||void 0===i?void 0:i.code)&&(l=null===(a=_.district)||void 0===a?void 0:a.code),(null===(s=_.city)||void 0===s?void 0:s.code)&&(l=null===(r=_.city)||void 0===r?void 0:r.code),(null===(o=_.town)||void 0===o?void 0:o.code)&&(l=null===(c=_.town)||void 0===c?void 0:c.code),l&&ne(l,"street",t.query);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]}),Object(d.jsxs)("div",{className:"p-field p-col-12 p-md-4",style:{maxWidth:"7rem"},children:[Object(d.jsx)("label",{htmlFor:"housenum",children:"\u0434\u043e\u043c"}),Object(d.jsx)(He.a,{id:"housenum",dropdown:!0,value:q,field:"name",onChange:function(e){var t;e.value&&(null===(t=e.value)||void 0===t?void 0:t.AOGUID)?(l.clear(),$(e.value),Y(e.value.name)):(Y(e.value),_.housenum=e.value,_.houseGUID=null)},suggestions:Z,completeMethod:function(){var e=Object(M.a)(L.a.mark((function e(t){var n,i,a,s,r,o,c,l,d,u;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=null===(n=_.state)||void 0===n?void 0:n.code,(null===(i=_.district)||void 0===i?void 0:i.code)&&(u=null===(a=_.district)||void 0===a?void 0:a.code),(null===(s=_.city)||void 0===s?void 0:s.code)&&(u=null===(r=_.city)||void 0===r?void 0:r.code),(null===(o=_.town)||void 0===o?void 0:o.code)&&(u=null===(c=_.town)||void 0===c?void 0:c.code),(null===(l=_.street)||void 0===l?void 0:l.code)&&(u=null===(d=_.street)||void 0===d?void 0:d.code),u&&ne(u,"building",t.query);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]}),Object(d.jsxs)("div",{className:"p-field p-col-12 p-md-4",style:{maxWidth:"7rem"},children:[Object(d.jsx)("label",{htmlFor:"strucnum",children:"\u0441\u0442\u0440."}),Object(d.jsx)(_e.a,{id:"strucnum",value:_.strucnum||"",onChange:function(e){e.target.value.trim().length>0&&(_.strucnum=e.target.value)}})]}),Object(d.jsxs)("div",{className:"p-field p-col-12 p-md-4",style:{maxWidth:"7rem"},children:[Object(d.jsx)("label",{htmlFor:"buildnum",children:"\u043a\u043e\u0440\u043f."}),Object(d.jsx)(_e.a,{id:"buildnum",value:_.buildnum||"",onChange:function(e){e.target.value.trim().length>0&&(_.buildnum=e.target.value)}})]}),Object(d.jsxs)("div",{className:"p-field p-col-12 p-md-4",style:{maxWidth:"9rem"},children:[Object(d.jsx)("label",{htmlFor:"flat",children:"\u043a\u0432\u0430\u0440\u0442\u0438\u0440\u0430(\u043e\u0444\u0438\u0441)"}),Object(d.jsx)(_e.a,{id:"flat",value:_.flat||"",onChange:function(e){_.flat=e.target.value}})]}),Object(d.jsxs)("div",{className:"p-field p-col-12 p-md-4",children:[Object(d.jsx)("label",{htmlFor:"postalCode",children:"\u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u043a\u043e\u0434"}),Object(d.jsx)(_e.a,{id:"postalCode",disabled:void 0!==_.aoGUID,value:_.postalCode||"",onChange:function(e){_.postalCode=e.target.value}})]}),Object(d.jsx)(qe.a,{ref:J})]})})})),Xe=function(){function e(){Object(te.a)(this,e)}return Object(ne.a)(e,null,[{key:"getRegions",value:function(){var e=Object(M.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z.get("".concat(B,"?level=region&limit=120")));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"searchBar",value:function(){var e=Object(M.a)(L.a.mark((function e(t){var n,i=arguments;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:xe,e.abrupt("return",z.get("".concat(B,"?searchBar=1&withParent=1&regionID=").concat(n,"&total_found=1&query=").concat(t)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChildItems",value:function(){var e=Object(M.a)(L.a.mark((function e(t,n){var i,a,s,r=arguments;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.length>2&&void 0!==r[2]?r[2]:"",a=r.length>3&&void 0!==r[3]?r[3]:"120",s=2===t.length?"regionID=".concat(t):"parent=".concat(t),e.abrupt("return",z.get("".concat(B,"?").concat(s,"&withParent=1&level=").concat(n,"&query=").concat(i,"&limit=").concat(a)));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),We=function(){function e(t){Object(te.a)(this,e),this._oldOne=void 0,this._id=void 0,this._streetAddressLine=void 0,this._state=void 0,this._district=void 0,this._city=void 0,this._town=void 0,this._street=void 0,this._aoGUID=void 0,this._houseGUID=void 0,this._housenum=void 0,this._buildnum=void 0,this._strucnum=void 0,this._flat=void 0,this._postalCode=void 0,this._nullFlavors=void 0,this._parent=void 0,this._nullFlavors=t.null_flavors_attributes&&t.null_flavors_attributes.length>0?Object(Fe.a)(t.null_flavors_attributes):[],t.id&&(this._id=t.id),this._oldOne=t,this._streetAddressLine=t.streetAddressLine,this._aoGUID=t.aoGUID,this._houseGUID=t.houseGUID,this._postalCode=t.postalCode,this._housenum=t.house_number,this._buildnum=t.building_number,this._strucnum=t.struct_number,this._flat=t.flat_number,this._parent=t.parent_guid,this.fetchAddressHierarchy(),Object(Te.e)(this,void 0,{deep:!1})}return Object(ne.a)(e,[{key:"oldOne",get:function(){return this._oldOne}},{key:"id",get:function(){return this._id},set:function(e){this._id=e}},{key:"streetAddressLine",get:function(){return this._streetAddressLine},set:function(e){this._streetAddressLine=e}},{key:"state",get:function(){return this._state},set:function(e){this._state=e}},{key:"flat",get:function(){return this._flat},set:function(e){this._flat=e}},{key:"postalCode",get:function(){return this._postalCode},set:function(e){this._postalCode=e}},{key:"housenum",get:function(){return this._housenum},set:function(e){this._housenum=e}},{key:"buildnum",get:function(){return this._buildnum},set:function(e){this._buildnum=e}},{key:"strucnum",get:function(){return this._strucnum},set:function(e){this._strucnum=e}},{key:"street",get:function(){return this._street},set:function(e){this._street=e}},{key:"town",get:function(){return this._town},set:function(e){this._town=e}},{key:"aoGUID",get:function(){return this._aoGUID},set:function(e){this._aoGUID=e}},{key:"houseGUID",get:function(){return this._houseGUID},set:function(e){this._houseGUID=e}},{key:"district",get:function(){return this._district},set:function(e){this._district=e}},{key:"city",get:function(){return this._city},set:function(e){this._city=e}},{key:"parent",get:function(){return this._parent}},{key:"nullFlavors",get:function(){return this._nullFlavors},set:function(e){this._nullFlavors=e}},{key:"null_flavors_attributes",value:function(){return this._nullFlavors.map((function(e){return Object(h.a)({},e)}))}},{key:"parseFiasItem",value:function(e){switch(e.level){case"building":this._streetAddressLine=e.streetAddressLine;break;case"Street":this._street={code:e.AOGUID,name:"".concat(e.name," ").concat(e.shortname)};break;case"Town":case"RailWayObject":this._town={code:e.AOGUID,name:"".concat(e.name," ").concat(e.shortname)};break;case"City":this._city={code:e.AOGUID,name:"".concat(e.name," ").concat(e.shortname)};break;case"District":this._district={code:e.AOGUID,name:"".concat(e.name," ").concat(e.shortname)};break;case"Region":if(e.code){var t=e.code.slice(0,2);this._state={code:t,name:"".concat(e.name)}}break;default:console.log("invalid fiasItem.level",e)}e.parent&&this.parseFiasItem(e.parent)}},{key:"fetchAddressHierarchy",value:function(){var e=this;this._aoGUID&&Xe.getChildItems(this._aoGUID,this._houseGUID?"building":"","","1").then((function(t){t.data.data&&t.data.data.forEach((function(t){e.parseFiasItem(t)}))})).catch((function(e){return console.log(e)}))}}]),e}(),Ze={state:xe,streetAddressLine:""},Qe=Object(c.a)((function(e){var t=e.submitted,n=e.value,a=Object(i.useContext)(Mn).addressStore,s=e.strictly?!n||!n.houseGUID:!n||n.streetAddressLine&&n.streetAddressLine.split(",").length<3,r="bt_addr_".concat(e.id);return Object(i.useEffect)((function(){a.manualMode!==!e.strictly&&(a.manualMode=!e.strictly)}),[a,e.strictly]),Object(d.jsxs)("div",{className:Object(T.h)({"p-field":!!e.label},e.className),children:[e.label&&Object(d.jsx)("label",{htmlFor:r,children:e.label}),Object(d.jsxs)("div",{className:"p-inputgroup",children:[Object(d.jsx)(ze.a,{id:"bt_addr_dialog",label:"\u0412\u0432\u043e\u0434",onClick:function(){a.address=new We(e.value||Ze),a.dialogVisible=!0,a.onAddrComplete=e.onChange},style:{width:"5rem"}}),Object(d.jsx)(_e.a,{title:null===n||void 0===n?void 0:n.streetAddressLine,value:null===n||void 0===n?void 0:n.streetAddressLine,placeholder:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u0432\u0438\u0434\u0430: \u0410\u043c\u0443\u0440\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c, \u041d-\u0441\u043a\u0438\u0439 \u0440\u0430\u0439\u043e\u043d, \u0441\u0435\u043b\u043e \u0422\u043e\u0441\u0435\u0432\u043e, \u0443\u043b\u0438\u0446\u0430 \u0422\u043e\u0432\u0430\u0440\u043d\u0430\u044f, \u0434\u043e\u043c 13, \u043a\u0432. 9",className:Object(T.h)({"p-invalid":t&&s})}),Object(d.jsx)(ze.a,{icon:"pi pi-times",className:"p-button-danger",onClick:function(){if(n){var t=Ze;n.id&&(t.id=n.id),n.parent_guid&&(t.parent_guid=n.parent_guid),n.null_flavors_attributes&&(t.null_flavors_attributes=n.null_flavors_attributes),e.onClear(t),a.address=new We(t)}}})]}),t&&s&&Object(d.jsx)("small",{className:"p-error",children:"\u0410\u0434\u0440\u0435\u0441\u0441 \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435 \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0438\u043b\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"})]})})),Je=function(e){var t=Object(i.useState)(e.value),n=Object(p.a)(t,2),a=n[0],s=n[1];return Object(d.jsxs)("div",{className:"p-formgroup-inline",style:{marginLeft:"-0.76rem"},children:[Object(d.jsxs)("div",{className:"p-field-radiobutton",children:[Object(d.jsx)(Oe.a,{name:"urban",checked:1===a,onChange:function(t){t.checked?(s(1),e.onChange(1)):(s(void 0),e.onChange(void 0))}}),Object(d.jsx)("label",{htmlFor:"undef",children:"\u0413\u043e\u0440\u043e\u0434\u0441\u043a\u0430\u044f"})]}),Object(d.jsxs)("div",{className:"p-field-radiobutton",children:[Object(d.jsx)(Oe.a,{name:"vilage",checked:2===a,onChange:function(t){t.checked?(s(2),e.onChange(2)):(s(void 0),e.onChange(void 0))}}),Object(d.jsx)("label",{htmlFor:"vilage",children:"\u0421\u0435\u043b\u044c\u0441\u043a\u0430\u044f"})]})]},"rbt_".concat(a))},$e=Object(c.a)((function(){var e,t,n=Object(i.useContext)(Mn),a=n.addressStore,s=n.certificateStore,r=n.suggestionsStore,o=s.cert,c=o.patient,l=Object(i.useState)(null===(e=c.person)||void 0===e?void 0:e.address),u=Object(p.a)(l,2),_=u[0],m=u[1],b=Object(i.useState)(o.deathAddr),v=Object(p.a)(b,2),j=v[0],g=v[1],O=r.identified,x=!!c.person&&-1===c.person.nullFlavors.findIndex((function(e){return"address"===e.parent_attr&&!e._destroy})),y=!!j||-1===o.nullFlavors.findIndex((function(e){return"death_addr"===e.parent_attr})),C=r.fromRelatives,N=s.submitted,A=function(){if(c.person){var e,t;if(o.deathAreaType=o.lifeAreaType,c.person.address)o.deathAddr=Object(h.a)(Object(h.a)({},c.person.address),{},{null_flavors_attributes:(null===(e=c.person.address)||void 0===e||null===(t=e.null_flavors_attributes)||void 0===t?void 0:t.map((function(e){return{parent_attr:e.parent_attr,code:e.code}})))||[],id:void 0,parent_guid:void 0});else o.deathAddr=void 0;g(o.deathAddr)}};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(f.a,{className:"c-section p-mr-2 p-mb-2",header:function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("span",{children:"\u0410\u0434\u0440\u0435\u0441\u0430 \u043c\u0435\u0441\u0442 \u0436\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0438 \u0441\u043c\u0435\u0440\u0442\u0438"}),Object(d.jsx)(ze.a,{type:"button",onClick:A,label:"\u0421\u041e\u0412\u041f\u0410\u0414\u0410\u042e\u0422",disabled:!x,className:"p-button-raised p-button-success"})]})},children:Object(d.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(d.jsxs)("div",{className:"p-field p-d-flex p-jc-start",style:{width:"98%"},children:[Object(d.jsx)("div",{className:"paragraph p-mr-1",children:"8."}),Object(d.jsx)("div",{className:"p-paragraph-field",style:{width:"98%"},children:Object(d.jsx)(Ie,{paraNum:!0,label:Object(d.jsx)("label",{htmlFor:"addr",children:"\u041c\u0435\u0441\u0442\u043e \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e\u0433\u043e \u0436\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430(\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438)"}),checked:O&&x,setCheck:function(e,t){c.person&&(t&&(c.person.nullFlavors=t),e.checked||(c.person.address=void 0))},field:Object(d.jsx)(Qe,{submitted:N,id:"person_addr",value:_||Ze,onClear:function(e){c.person&&(c.person.address=e,m(c.person.address))},onChange:function(){c.person&&(c.person.address=a.addressProps(),m(c.person.address))}}),options:Ce.filter((function(e){return"ASKU UNK".includes(e.code)})),value:C?Ae:9,field_name:"address",nullFlavors:null===(t=c.person)||void 0===t?void 0:t.nullFlavors})})]}),Object(d.jsxs)("div",{className:"p-d-flex p-jc-center",children:[Object(d.jsx)("div",{className:"paragraph p-mr-1",children:"9."}),Object(d.jsx)("div",{className:"p-paragraph-field",children:Object(d.jsx)(Ie,{label:Object(d.jsx)("label",{htmlFor:"urban",children:"\u041c\u0435\u0441\u0442\u043d\u043e\u0441\u0442\u044c"}),checked:O&&!!o.lifeAreaType,setCheck:function(e,t){t&&(o.nullFlavors=t),e.checked||(o.lifeAreaType=void 0)},onChange:function(e,t){t&&(o.nullFlavors=t)},field:Object(d.jsx)(Je,{value:o.lifeAreaType,onChange:function(e){o.lifeAreaType=e}}),options:Ce.filter((function(e){return"ASKU UNK".includes(e.code)})),value:C?Ae:9,field_name:"life_area_type",nullFlavors:o.nullFlavors})})]}),Object(d.jsxs)("div",{className:"p-field p-d-flex p-jc-start",style:{width:"98%"},children:[Object(d.jsx)("div",{className:"paragraph p-mr-1",children:"10."}),Object(d.jsx)("div",{className:"p-paragraph-field",style:{width:"98%"},children:Object(d.jsx)(Ie,{paraNum:!0,label:Object(d.jsx)("label",{htmlFor:"death_addr",children:"\u0410\u0434\u0440\u0435\u0441 \u043c\u0435\u0441\u0442\u0430 \u0441\u043c\u0435\u0440\u0442\u0438"}),checked:y,setCheck:function(e,t){t&&(o.nullFlavors=t),e.checked||(o.deathAddr=void 0)},field:Object(d.jsx)(Qe,{submitted:N,id:"death_addr",value:j||Ze,onClear:function(e){o.deathAddr=e,g(o.deathAddr)},onChange:function(){o.deathAddr=a.addressProps(),g(o.deathAddr)}}),options:Ce.filter((function(e){return"ASKU UNK".includes(e.code)})),value:C?Ae:9,field_name:"death_addr",nullFlavors:o.nullFlavors})})]}),Object(d.jsxs)("div",{className:"p-d-flex p-jc-center",children:[Object(d.jsx)("div",{className:"paragraph p-mr-1",children:"11."}),Object(d.jsx)("div",{className:"p-paragraph-field",children:Object(d.jsx)(Ie,{label:Object(d.jsx)("label",{htmlFor:"urban",children:"\u041c\u0435\u0441\u0442\u043d\u043e\u0441\u0442\u044c"}),checked:!!o.deathAreaType&&-1===o.nullFlavors.findIndex((function(e){return"death_area_type"===e.parent_attr&&!e._destroy})),setCheck:function(e,t){t&&(o.nullFlavors=t),e.checked||(o.deathAreaType=void 0)},onChange:function(e,t){t&&(o.nullFlavors=t)},field:Object(d.jsx)(Je,{value:o.deathAreaType,onChange:function(e){o.deathAreaType=e}}),options:Ce.filter((function(e){return"ASKU UNK".includes(e.code)})),value:C?Ae:9,field_name:"death_area_type",nullFlavors:o.nullFlavors})},"dArea_".concat(o.deathAreaType))]})]})}),Object(d.jsx)(Ye,{})]})})),et=[{code:1,name:"\u043d\u0430 \u043c\u0435\u0441\u0442\u0435 \u043f\u0440\u043e\u0438\u0441\u0448\u0435\u0441\u0442\u0432\u0438\u044f"},{code:2,name:"\u0432 \u043c\u0430\u0448\u0438\u043d\u0435 \u0441\u043a\u043e\u0440\u043e\u0439 \u043f\u043e\u043c\u043e\u0449\u0438"},{code:3,name:"\u0432 \u0441\u0442\u0430\u0446\u0438\u043e\u043d\u0430\u0440\u0435"},{code:4,name:"\u0434\u043e\u043c\u0430"},{code:5,name:"\u0432 \u0434\u0440\u0443\u0433\u043e\u043c \u043c\u0435\u0441\u0442\u0435"},{code:7,name:"\u0432 \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"}],tt=[{code:4,name:"\u0441\u043e\u0441\u0442\u043e\u044f\u043b(\u0430) \u0432 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u043c \u0431\u0440\u0430\u043a\u0435"},{code:5,name:" \u043d\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043b(\u0430) \u0432 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u043c \u0431\u0440\u0430\u043a\u0435"},{code:3,name:" \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"}],nt=[{code:1,name:"\u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0435: \u0432\u044b\u0441\u0448\u0435\u0435"},{code:2,name:"\u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0435: \u043d\u0435\u043f\u043e\u043b\u043d\u043e\u0435 \u0432\u044b\u0441\u0448\u0435\u0435"},{code:3,name:"\u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0435: \u0441\u0440\u0435\u0434\u043d\u0435\u0435 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0435"},{code:5,name:"\u043e\u0431\u0449\u0435\u0435: \u0441\u0440\u0435\u0434\u043d\u0435\u0435"},{code:6,name:"\u043e\u0431\u0449\u0435\u0435: \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0435"},{code:7,name:"\u043e\u0431\u0449\u0435\u0435: \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0435"},{code:10,name:"\u043e\u0431\u0449\u0435\u0435: \u0434\u043e\u0448\u043a\u043e\u043b\u044c\u043d\u043e\u0435"},{code:11,name:"\u043d\u0435 \u0438\u043c\u0435\u0435\u0442 \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u044f"},{code:9,name:"\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"}],it=[{code:5,name:"\u0420\u0430\u0431\u043e\u0442\u0430\u043b(\u0430)"},{code:6,name:"\u041f\u0440\u043e\u0445\u043e\u0434\u0438\u043b(\u0430) \u0432\u043e\u0435\u043d\u043d\u0443\u044e \u0441\u043b\u0443\u0436\u0431\u0443 \u0438\u043b\u0438 \u043f\u0440\u0438\u0440\u0430\u0432\u043d\u0435\u043d\u043d\u0443\u044e \u043a \u043d\u0435\u0439 \u0441\u043b\u0443\u0436\u0431\u0443"},{code:4,name:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442(\u043a\u0430)"},{code:7,name:"\u041f\u0435\u043d\u0441\u0438\u043e\u043d\u0435\u0440(\u043a\u0430)"},{code:8,name:"\u041d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u043b(\u0430)"},{code:10,name:"\u041f\u0440\u043e\u0447\u0438\u0435"},{code:22,name:"\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"}],at=[{code:1,name:" \u0434\u043e\u043d\u043e\u0448\u0435\u043d\u043d\u044b\u0439 (37-41 \u043d\u0435\u0434\u0435\u043b\u0438)"},{code:2,name:" \u043d\u0435\u0434\u043e\u043d\u043e\u0448\u0435\u043d\u043d\u044b\u0439 (\u043c\u0435\u043d\u0435\u0435 37 \u043d\u0435\u0434\u0435\u043b\u044c)"},{code:3,name:" \u043f\u0435\u0440\u0435\u043d\u043e\u0448\u0435\u043d\u043d\u044b\u0439 (42 \u043d\u0435\u0434\u0435\u043b\u0438 \u0438 \u0431\u043e\u043b\u0435\u0435)"}],st=n(162),rt=function(){function e(t){var n,i,a;Object(te.a)(this,e),this._id=void 0,this._guid=void 0,this._familyConnection=void 0,this._addr=void 0,this._fio=void 0,this._birthTime=void 0,this._nullFlavors=void 0,this._guid=t.guid||Object(st.a)(),this._nullFlavors=(null===(n=t.null_flavors)||void 0===n?void 0:n.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{code:Ne[e.code]})})))||[],this._id=t.id,this._familyConnection=t.family_connection||1,this._fio=t.person_name,t.birthTime&&(this._birthTime=new Date(t.birthTime)),this._addr=Object(h.a)(Object(h.a)({},t.addr),{},{null_flavors_attributes:(null===(i=t.addr)||void 0===i||null===(a=i.null_flavors)||void 0===a?void 0:a.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{code:Ne[e.code]})})))||[]}),Object(Te.e)(this,void 0,{deep:!1})}return Object(ne.a)(e,[{key:"addr",get:function(){return this._addr},set:function(e){this._addr=e}},{key:"fio",get:function(){return this._fio},set:function(e){this._fio=e}},{key:"birthTime",get:function(){return this._birthTime},set:function(e){this._birthTime=e}},{key:"nullFlavors",get:function(){return this._nullFlavors},set:function(e){this._nullFlavors=e}},{key:"null_flavors_attributes",value:function(){return this._nullFlavors.map((function(e){return Object(h.a)({},e)}))}},{key:"getAttributes",value:function(){var e={family_connection:this._familyConnection,guid:this._guid};return this._nullFlavors.length>0&&(e.null_flavors_attributes=this.null_flavors_attributes()),this._addr&&(e.addr_attributes=Object(h.a)({},this._addr)),this._birthTime&&(e.birthTime=this._birthTime.toLocaleDateString()),this._fio&&(e.person_name_attributes=Object(h.a)({},this._fio)),this._id&&(e.id=this._id),e}}]),e}(),ot=function(){function e(){var t,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;(Object(te.a)(this,e),this._id=void 0,this._guid=void 0,this._termPregnancy=void 0,this._weight=void 0,this._whichAccount=void 0,this._relatedSubject=void 0,this._address=void 0,this._nullFlavors=void 0,i)?(this._id=i.id,this._guid=i.guid||Object(st.a)(),this._termPregnancy=i.term_pregnancy,this._weight=i.weight,this._whichAccount=i.which_account,this._address=Object(h.a)(Object(h.a)({},i.address),{},{null_flavors_attributes:(null===(t=i.address)||void 0===t||null===(n=t.null_flavors)||void 0===n?void 0:n.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{code:Ne[e.code]})})))||[]}),i.null_flavors&&i.null_flavors.length>0?this._nullFlavors=i.null_flavors.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{code:Ne[e.code]})})):this._nullFlavors=[],i.related_subject&&(this._relatedSubject=new rt(i.related_subject))):(this._nullFlavors=[],this._guid=Object(st.a)());Object(Te.e)(this,void 0,{deep:!1})}return Object(ne.a)(e,[{key:"termPregnancy",get:function(){return this._termPregnancy},set:function(e){this._termPregnancy=e}},{key:"weight",get:function(){return this._weight},set:function(e){this._weight=e}},{key:"whichAccount",get:function(){return this._whichAccount},set:function(e){this._whichAccount=e}},{key:"relatedSubject",get:function(){return this._relatedSubject},set:function(e){this._relatedSubject=e}},{key:"nullFlavors",get:function(){return this._nullFlavors},set:function(e){this._nullFlavors=e}},{key:"address",get:function(){return this._address},set:function(e){this._address=e}},{key:"null_flavors_attributes",value:function(){return this._nullFlavors.map((function(e){return Object(h.a)({},e)}))}},{key:"getAttributes",value:function(){var e={guid:this._guid};return this._nullFlavors.length>0&&(e.null_flavors_attributes=this.null_flavors_attributes()),this._relatedSubject&&(e.related_subject_attributes=this._relatedSubject.getAttributes()),this._termPregnancy&&(e.term_pregnancy=this._termPregnancy),this._weight&&(e.weight=this._weight),this._whichAccount&&(e.which_account=this._whichAccount),this._id&&(e.id=this._id),this._address&&this._address.state&&this._address.streetAddressLine&&(e.address_attributes=Object(h.a)({},this._address)),e}}]),e}(),ct=n(56),lt=function(e){var t=Object(i.useContext)(Mn),n=t.addressStore,a=t.certificateStore,s=Object(i.useState)(""),r=Object(p.a)(s,2),o=r[0],c=r[1],l=a.submitted,u=Object(i.useState)(e.childInfo||new ot({})),h=Object(p.a)(u,1)[0],f=Object(i.useState)(h.relatedSubject||new rt({})),_=Object(p.a)(f,1)[0],m=Object(i.useState)(_.addr),b=Object(p.a)(m,2),v=b[0],j=b[1];Object(i.useEffect)((function(){var t;c(_.fio?"".concat(_.fio.family," ").concat(_.fio.given_1," ").concat(null===(t=_.fio)||void 0===t?void 0:t.given_2):""),h.relatedSubject!==_&&(h.relatedSubject=_),e.childInfo||e.onChange(h)}),[e,h,_]);var g=Ce.filter((function(e){return"UNK".includes(e.code)})),O=-1===_.nullFlavors.findIndex((function(e){return"addr"===e.parent_attr}));return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"p-field p-grid",style:{width:"90%"},children:[Object(d.jsx)("label",{htmlFor:"weight",className:"p-col-fixed",style:{width:"85%"},children:"\u043c\u0430\u0441\u0441\u0430 \u0442\u0435\u043b\u0430 \u0440\u0435\u0431\u0435\u043d\u043a\u0430 \u043f\u0440\u0438 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u0438 (\u0433\u0440\u0430\u043c\u043c)"}),Object(d.jsx)("div",{className:"p-col",children:Object(d.jsx)(ct.a,{id:"weight",value:h.weight,max:9999,min:10,onChange:function(e){e.value?h.weight=e.value:h.weight=void 0},type:"text"})})]}),Object(d.jsxs)("div",{className:"p-field p-grid",style:{width:"90%"},children:[Object(d.jsx)("label",{htmlFor:"which_account",className:"p-col-fixed",style:{width:"85%"},children:"\u043a\u0430\u043a\u0438\u043c \u043f\u043e \u0441\u0447\u0435\u0442\u0443 \u0431\u044b\u043b \u0440\u0435\u0431\u0435\u043d\u043e\u043a \u0443 \u043c\u0430\u0442\u0435\u0440\u0438 (\u0441\u0447\u0438\u0442\u0430\u044f \u0443\u043c\u0435\u0440\u0448\u0438\u0445 \u0438 \u043d\u0435 \u0441\u0447\u0438\u0442\u0430\u044f \u043c\u0435\u0440\u0442\u0432\u043e\u0440\u043e\u0436\u0434\u0435\u043d\u043d\u044b\u0445)"}),Object(d.jsx)("div",{className:"p-col",children:Object(d.jsx)(ct.a,{id:"which_account",max:99,min:1,onChange:function(e){e.value?h.whichAccount=e.value:h.whichAccount=void 0},value:h.whichAccount,type:"text"})})]}),Object(d.jsx)("div",{className:"p-paragraph-field p-mr-2 p-mb-2",children:Object(d.jsx)(Ie,{setCheck:function(t,n){t.checked||(_.fio=void 0,e.onChange(h)),n&&(_.nullFlavors=n)},label:Object(d.jsx)("label",{htmlFor:"fio",children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f \u043c\u0430\u0442\u0435\u0440\u0438, \u0438\u043c\u044f, \u043e\u0442\u0447\u0435\u0441\u0442\u0432\u043e(\u043f\u0440\u0438 \u043d\u0430\u043b\u0438\u0447\u0438\u0438)"}),field:Object(d.jsx)(_e.a,{id:"fio",type:"text",value:o,onChange:function(t){c(t.target.value);var n=t.target.value.trim().split(" ");if(n&&n.length>1){var i={family:n[0],given_1:n[1]};n[2]?i.given_2=n[2]:ke("given_2",i.given_2,_.nullFlavors,8),_.fio=i,e.onChange(h)}}}),options:g,value:9,nullFlavors:_.nullFlavors,field_name:"person_name"})}),Object(d.jsx)("div",{className:"p-paragraph-field p-mr-2 p-mb-2",children:Object(d.jsx)(Ie,{label:Object(d.jsx)("label",{htmlFor:"dateBirth",children:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u043c\u0430\u0442\u0435\u0440\u0438"}),setCheck:function(e,t){e.checked||(_.birthTime=void 0),t&&(_.nullFlavors=t)},onChange:function(e,t){t&&(_.nullFlavors=t)},field:Object(d.jsx)(me.a,{id:"dateBirth",showIcon:!0,dateFormat:"dd.mm.yy",locale:"ru",mask:"99.99.9999",value:_.birthTime,onChange:function(e){_.birthTime=e.target.value}}),options:g,value:9,nullFlavors:_.nullFlavors,field_name:"birthTime"})}),Object(d.jsx)("div",{className:"p-field",style:{width:"98%"},children:Object(d.jsx)(Ie,{label:Object(d.jsx)("label",{htmlFor:"mother_addr",children:"\u041c\u0435\u0441\u0442\u043e \u0436\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u043c\u0430\u0442\u0435\u0440\u0438"}),checked:O,setCheck:function(e,t){t&&(_.nullFlavors=t),e.checked||(_.addr=void 0)},field:Object(d.jsx)(Qe,{submitted:l,id:"mother_addr",value:v||Ze,onClear:function(e){_.addr=e,j(_.addr)},onChange:function(){_.addr=n.addressProps(),j(_.addr)}}),options:Ce.filter((function(e){return"ASKU UNK".includes(e.code)})),value:9,field_name:"addr",nullFlavors:_.nullFlavors})}),Object(d.jsx)(Ye,{})]})},dt=Object(c.a)((function(){var e,t,n,a=Object(i.useContext)(Mn),s=a.certificateStore,r=a.addressStore,o=Ce.filter((function(e){return"NA".includes(e.code)})),c=s.cert,l=c.hoursAge(),u=!!l&&l>168&&c.yearsAge()<1,h=u&&c.daysAge()<30,_=Object(i.useState)(null===(e=c.childInfo)||void 0===e?void 0:e.address),m=Object(p.a)(_,2),b=m[0],v=m[1];Object(i.useEffect)((function(){u&&void 0===c.childInfo?c.childInfo=new ot:u||void 0===c.childInfo||(c.childInfo=void 0)}),[u,c]);var j=c.childInfo;Object(i.useEffect)((function(){!h&&j&&(j.termPregnancy=void 0,ke("term_pregnancy",j.termPregnancy,j.nullFlavors,8))}),[h,j]),Object(i.useEffect)((function(){!u&&c.childInfo&&(c.childInfo=void 0,ke("related_subject",c.childInfo,c.nullFlavors,8))}),[u,c]);var g={minWidth:"210px",maxWidth:"500px",marginTop:"0.5rem",marginLeft:"-0.75rem"},O={paddingTop:"0.1rem"};return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(f.a,{className:"c-section p-mr-2 p-mb-2",header:function(){return Object(d.jsx)("span",{children:"\u041f\u0440\u043e\u0447\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0443\u043c\u0435\u0440\u0448\u0435\u0433\u043e"})},children:Object(d.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(d.jsxs)("div",{className:"p-field p-d-flex p-flex-wrap p-jc-start",children:[Object(d.jsx)("div",{className:"paragraph p-mr-1",children:"12. "}),Object(d.jsxs)("div",{className:"p-paragraph-field p-mr-2 p-mb-2",style:O,children:[Object(d.jsx)("label",{htmlFor:"deathPlaceType",children:"\u0421\u043c\u0435\u0440\u0442\u044c \u043d\u0430\u0441\u0442\u0443\u043f\u0438\u043b\u0430"}),Object(d.jsx)(fe.a,{inputId:"deathPlaceType",style:g,placeholder:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",options:et,optionLabel:"name",autoFocus:!0,value:et.find((function(e){return e.code===c.deathPlace})),onChange:function(e){c.deathPlace=e.value.code}})]})]}),Object(d.jsxs)("div",{className:"p-field p-d-flex p-flex-wrap p-jc-start",style:{width:"98%"},children:[Object(d.jsx)("div",{className:"paragraph p-mr-1",children:"13."}),Object(d.jsx)("div",{className:"p-paragraph-field p-mr-2 p-mb-2",style:{width:"90%"},children:Object(d.jsx)(Ie,{checked:h,disabled:!0,setCheck:function(e,t){t&&c.childInfo&&(c.childInfo.nullFlavors=t),e.checked||(c.childInfo=void 0)},label:Object(d.jsx)("label",{htmlFor:"MonthChild",children:"\u0414\u043b\u044f \u0434\u0435\u0442\u0435\u0439, \u0443\u043c\u0435\u0440\u0448\u0438\u0445 \u0432 \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0435 \u043e\u0442 168 \u0447\u0430\u0441. \u0434\u043e 1 \u043c\u0435\u0441\u044f\u0446\u0430"}),field:Object(d.jsx)(fe.a,{inputId:"MonthChild",placeholder:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",autoFocus:!0,style:{minWidth:"210px",maxWidth:"300px"},options:at,optionLabel:"name",value:at.find((function(e){var t;return e.code===(null===(t=c.childInfo)||void 0===t?void 0:t.termPregnancy)})),onChange:function(e){c.childInfo&&(c.childInfo.termPregnancy=e.value.code)}}),options:o,value:8,nullFlavors:null===(t=c.childInfo)||void 0===t?void 0:t.nullFlavors,field_name:"term_pregnancy",paraNum:!0},"MonthChild_".concat(h))})]}),Object(d.jsxs)("div",{className:"p-field p-d-flex p-flex-wrap p-jc-start",style:{width:"98%"},children:[Object(d.jsx)("div",{className:"paragraph p-mr-1",children:"14."}),Object(d.jsx)("div",{className:"p-paragraph-field p-mr-2 p-mb-2",style:{width:"90%"},children:Object(d.jsx)(Ie,{checked:u,disabled:!0,setCheck:function(e,t){t&&(c.nullFlavors=t),c.childInfo=void 0},label:Object(d.jsx)("label",{htmlFor:"YearChild",children:"\u0414\u043b\u044f \u0434\u0435\u0442\u0435\u0439, \u0443\u043c\u0435\u0440\u0448\u0438\u0445 \u0432 \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0435 \u043e\u0442 168 \u0447\u0430\u0441. \u0434\u043e 1 \u0433\u043e\u0434\u0430"}),field:Object(d.jsx)(lt,{childInfo:j,onChange:function(e){c.childInfo!==e&&(c.childInfo=e)}}),options:o,value:8,nullFlavors:c.nullFlavors,field_name:"related_subject",paraNum:!0},"YearChild_".concat(u))})]}),Object(d.jsxs)("div",{className:"p-field p-d-flex p-flex-wrap p-jc-start",style:{width:"98%"},children:[Object(d.jsx)("div",{className:"paragraph p-mr-1",children:"8K."}),Object(d.jsx)("div",{className:"p-paragraph-field p-mr-2 p-mb-2",style:{width:"90%"},children:Object(d.jsx)(Ie,{checked:u,disabled:!0,setCheck:function(e,t){c.childInfo&&(t&&(c.childInfo.nullFlavors=t),e.checked||(c.childInfo.address=void 0))},label:Object(d.jsx)("label",{htmlFor:"child_birth_addr",children:"\u041c\u0435\u0441\u0442\u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u0440\u0435\u0431\u0435\u043d\u043a\u0430"}),field:Object(d.jsx)(Qe,{submitted:!1,id:"child_birth_addr",value:b||Ze,onClear:function(e){c.childInfo&&(c.childInfo.address=e,v(c.childInfo.address))},onChange:function(){c.childInfo&&(c.childInfo.address=r.addressProps(),v(c.childInfo.address))}}),options:o,value:8,nullFlavors:null===(n=c.childInfo)||void 0===n?void 0:n.nullFlavors,field_name:"address",paraNum:!0},"YearChild_BP_".concat(u))})]}),Object(d.jsxs)("div",{className:"p-field p-d-flex p-flex-wrap p-jc-start",children:[Object(d.jsx)("div",{className:"paragraph p-mr-1",children:"15.*"}),Object(d.jsxs)("div",{className:"p-paragraph-field p-mr-2 p-mb-2",style:O,children:[Object(d.jsx)("label",{htmlFor:"marital_status",children:"\u0421\u0435\u043c\u0435\u0439\u043d\u043e\u0435 \u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435"}),Object(d.jsx)(fe.a,{inputId:"marital_status",style:g,placeholder:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",autoFocus:!0,options:tt,optionLabel:"name",value:tt.find((function(e){return e.code===c.maritalStatus})),onChange:function(e){c.maritalStatus=e.value.code}})]})]}),Object(d.jsxs)("div",{className:"p-field p-d-flex p-flex-wrap p-jc-start",children:[Object(d.jsx)("div",{className:"paragraph p-mr-1",children:"16.* "}),Object(d.jsxs)("div",{className:"p-paragraph-field p-mr-2 p-mb-2",style:O,children:[Object(d.jsx)("label",{htmlFor:"education_level",children:"\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435"}),Object(d.jsx)(fe.a,{inputId:"education_level",style:g,placeholder:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",autoFocus:!0,options:nt,optionLabel:"name",value:nt.find((function(e){return e.code===c.educationLevel})),onChange:function(e){c.educationLevel=e.value.code}})]})]}),Object(d.jsxs)("div",{className:"p-field p-d-flex p-flex-wrap p-jc-start",children:[Object(d.jsx)("div",{className:"paragraph p-mr-1",children:"17.*"}),Object(d.jsxs)("div",{className:"p-paragraph-field p-mr-2 p-mb-2",style:O,children:[Object(d.jsx)("label",{htmlFor:"social_status",children:"\u0417\u0430\u043d\u044f\u0442\u043e\u0441\u0442\u044c"}),Object(d.jsx)(fe.a,{inputId:"social_status",style:g,placeholder:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",autoFocus:!0,options:it,optionLabel:"name",value:it.find((function(e){return e.code===c.socialStatus})),onChange:function(e){c.socialStatus=e.value.code}})]})]}),Object(d.jsx)("div",{className:"p-field p-d-flex p-flex-wrap p-jc-start",style:{width:"98%",paddingLeft:"0.5rem"},children:Object(d.jsx)("em",{children:"* \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u0441\u043c\u0435\u0440\u0442\u0438 \u0440\u0435\u0431\u0435\u043d\u043a\u0430 \u0434\u043e \u0433\u043e\u0434\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0432 \u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u0438 \u043c\u0430\u0442\u0435\u0440\u0438"})})]})})})})),ut=[{code:1,name:"\u043e\u0442 \u0437\u0430\u0431\u043e\u043b\u0435\u0432\u0430\u043d\u0438\u044f"},{code:2,name:"\u043e\u0442 \u043d\u0435\u0441\u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0441\u043b\u0443\u0447\u0430\u044f, \u043d\u0435 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u043e\u0433\u043e \u0441 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u043e\u043c"},{code:3,name:"\u043e\u0442 \u043d\u0435\u0441\u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0441\u043b\u0443\u0447\u0430\u044f, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u043e\u0433\u043e \u0441 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u043e\u043c"},{code:4,name:"\u0443\u0431\u0438\u0439\u0441\u0442\u0432\u0430"},{code:5,name:"\u0441\u0430\u043c\u043e\u0443\u0431\u0438\u0439\u0441\u0442\u0432\u0430"},{code:6,name:"\u0432 \u0445\u043e\u0434\u0435 \u0432\u043e\u0435\u043d\u043d\u044b\u0445 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439"},{code:7,name:"\u0432 \u0445\u043e\u0434\u0435 \u0442\u0435\u0440\u0440\u043e\u0440\u0438\u0441\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439"},{code:8,name:"\u0440\u043e\u0434 \u0441\u043c\u0435\u0440\u0442\u0438 \u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d"}],ht=[{code:1,name:"\u0432\u0440\u0430\u0447, \u0442\u043e\u043b\u044c\u043a\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0432\u0448\u0438\u0439 \u0441\u043c\u0435\u0440\u0442\u044c"},{code:2,name:"\u043b\u0435\u0447\u0430\u0449\u0438\u0439 \u0432\u0440\u0430\u0447"},{code:3,name:"\u0444\u0435\u043b\u044c\u0434\u0448\u0435\u0440, \u0430\u043a\u0443\u0448\u0435\u0440\u043a\u0430"},{code:4,name:"\u0432\u0440\u0430\u0447-\u043f\u0430\u0442\u043e\u043b\u043e\u0433\u043e\u0430\u043d\u0430\u0442\u043e\u043c"},{code:5,name:"\u0432\u0440\u0430\u0447-\u0441\u0443\u0434\u0435\u0431\u043d\u043e-\u043c\u0435\u0434\u0438\u0446\u0438\u043d\u0441\u043a\u0438\u0439 \u044d\u043a\u0441\u043f\u0435\u0440\u0442"}],pt=[{code:1,name:"\u043e\u0441\u043c\u043e\u0442\u0440 \u0442\u0440\u0443\u043f\u0430"},{code:2,name:"\u0437\u0430\u043f\u0438\u0441\u0438 \u0432 \u043c\u0435\u0434\u0438\u0446\u0438\u043d\u0441\u043a\u043e\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438"},{code:3,name:"\u043f\u0440\u0435\u0434\u0448\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0435 \u043d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u0435 \u0437\u0430 \u043f\u0430\u0446\u0438\u0435\u043d\u0442\u043e\u043c"},{code:4,name:"\u0432\u0441\u043a\u0440\u044b\u0442\u0438\u0435"}],ft=Object(c.a)((function(){var e=Object(i.useContext)(Mn).certificateStore,t=Ce.filter((function(e){return"NA".includes(e.code)})),n=e.cert,a=void 0!==n.deathKind&&1!==n.deathKind,s={minWidth:"210px",maxWidth:"500px",marginTop:"0.5rem",marginLeft:"-0.75rem"},r={paddingTop:"0.1rem"};return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(f.a,{className:"c-section p-mr-2 p-mb-2",header:function(){return Object(d.jsx)("span",{children:"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u0440\u0438\u0447\u0438\u043d\u044b \u0441\u043c\u0435\u0440\u0442\u0438"})},children:Object(d.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(d.jsxs)("div",{className:"p-field p-d-flex p-flex-wrap p-jc-start",children:[Object(d.jsx)("div",{className:"paragraph p-mr-1",children:"18. "}),Object(d.jsxs)("div",{className:"p-paragraph-field p-mr-2 p-mb-2",style:r,children:[Object(d.jsx)("label",{htmlFor:"deathPlaceType",children:"\u0421\u043c\u0435\u0440\u0442\u044c \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430"}),Object(d.jsx)(fe.a,{inputId:"deathPlaceType",style:s,placeholder:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",options:ut,optionLabel:"name",autoFocus:!0,value:ut.find((function(e){return e.code===n.deathKind})),onChange:function(e){n.deathKind=e.value.code}})]})]}),Object(d.jsxs)("div",{className:"p-field p-d-flex p-flex-wrap p-jc-start",style:{width:"98%"},children:[Object(d.jsx)("div",{className:"paragraph p-mr-1",children:"19."}),Object(d.jsx)("div",{className:"p-paragraph-field p-mr-2 p-mb-2",style:{width:"90%"},children:Object(d.jsx)(Ie,{paraNum:!0,disabled:!0,checked:a,label:Object(d.jsx)("label",{htmlFor:"extReasonTime",children:" \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u0441\u043c\u0435\u0440\u0442\u0438 \u043e\u0442 \u043d\u0435\u0441\u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0441\u043b\u0443\u0447\u0430\u044f, \u0443\u0431\u0438\u0439\u0441\u0442\u0432\u0430, \u0441\u0430\u043c\u043e\u0443\u0431\u0438\u0439\u0441\u0442\u0432\u0430, \u043e\u0442 \u0432\u043e\u0435\u043d\u043d\u044b\u0445 \u0438 \u0442\u0435\u0440\u0440\u043e\u0440\u0438\u0441\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439, \u043f\u0440\u0438 \u043d\u0435\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u043e\u043c \u0440\u043e\u0434\u0435 \u0441\u043c\u0435\u0440\u0442\u0438 - \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0434\u0430\u0442\u0443, \u0432\u0440\u0435\u043c\u044f \u0438 \u043e\u0431\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0442\u0440\u0430\u0432\u043c\u044b (\u043e\u0442\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f)"}),setCheck:function(e,t){e.checked||(n.extReasonTime=void 0),t&&(n.nullFlavors=t)},onChange:function(e,t){t&&(n.nullFlavors=t)},field:Object(d.jsxs)("div",{className:"p-d-flex p-flex-wrap p-jc-start",children:[Object(d.jsx)(me.a,{id:"extReasonTime",showIcon:!0,className:"p-mr-3 p-mb-2",placeholder:"\u0434\u0430\u0442\u0430",dateFormat:"dd.mm.yy",locale:"ru",mask:"99.99.9999",panelStyle:{marginLeft:"12rem"},value:n.extReasonTime,onChange:function(e){n.extReasonTime=e.target.value}}),Object(d.jsx)(me.a,{id:"timereason",className:"p-mr-3 p-mb-2",timeOnly:!0,hourFormat:"24",placeholder:"\u0432\u0440\u0435\u043c\u044f",locale:"ru",value:n.extReasonTime,onChange:function(e){n.extReasonTime=e.target.value},showIcon:!0}),Object(d.jsx)(Be.a,{id:"extReasonDescription",value:n.extReasonDescription,cols:65,rows:2,placeholder:"\u043e\u0431\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430",onChange:function(e){n.extReasonDescription=e.target.value}})]}),options:t,value:8,nullFlavors:n.nullFlavors,field_name:"ext_reason_time"})},"pdivdt_".concat(a))]}),Object(d.jsxs)("div",{className:"p-field p-d-flex p-flex-wrap p-jc-start",children:[Object(d.jsx)("div",{className:"paragraph p-mr-1",children:"20. "}),Object(d.jsxs)("div",{className:"p-paragraph-field p-mr-2 p-mb-2",style:r,children:[Object(d.jsx)("label",{htmlFor:"establishedMedic",children:"\u041f\u0440\u0438\u0447\u0438\u043d\u044b \u0441\u043c\u0435\u0440\u0442\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u044b:"}),Object(d.jsx)(fe.a,{inputId:"establishedMedic",style:s,placeholder:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",options:ht,optionLabel:"name",autoFocus:!0,value:ht.find((function(e){return e.code===n.establishedMedic})),onChange:function(e){n.establishedMedic=e.value.code}})]})]}),Object(d.jsxs)("div",{className:"p-field p-d-flex p-flex-wrap p-jc-start",children:[Object(d.jsx)("div",{className:"paragraph p-mr-1",children:"21. "}),Object(d.jsxs)("div",{className:"p-paragraph-field p-mr-2 p-mb-2",style:r,children:[Object(d.jsx)("label",{htmlFor:"basisDetermining",children:"\u041d\u0430 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0438:"}),Object(d.jsx)(fe.a,{inputId:"basisDetermining",style:s,placeholder:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",options:pt,optionLabel:"name",autoFocus:!0,value:pt.find((function(e){return e.code===n.basisDetermining})),onChange:function(e){n.basisDetermining=e.value.code}})]})]})]})})})})),_t=function(){function e(t){var n;Object(te.a)(this,e),this._id=void 0,this._medicalServ=void 0,this._guid=void 0,this._textValue=void 0,this._effectiveTime=void 0,this._nullFlavors=void 0,this._id=t.id,this._guid=t.guid||Object(st.a)(),this._medicalServ=t.medical_serv,this._textValue=t.text_value,t.effective_time&&(this._effectiveTime=new Date(t.effective_time)),this._nullFlavors=(null===(n=t.null_flavors)||void 0===n?void 0:n.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{code:Ne[e.code]})})))||[],Object(Te.e)(this,void 0,{deep:!1})}return Object(ne.a)(e,[{key:"getAttributes",value:function(){var e={guid:this._guid};return this._id&&this._id>-1&&(e.id=this._id),this._effectiveTime&&(e.effective_time=this._effectiveTime.toLocaleString()),this._medicalServ&&(e.medical_serv_id=this._medicalServ.id),this._textValue&&(e.text_value=this._textValue),this._nullFlavors.length>0&&(e.null_flavors_attributes=this.null_flavors_attributes()),e}},{key:"id",get:function(){return this._id},set:function(e){this._id=e}},{key:"effectiveTime",get:function(){return this._effectiveTime},set:function(e){this._effectiveTime=e}},{key:"textValue",get:function(){return this._textValue},set:function(e){this._textValue=e}},{key:"medicalServ",get:function(){return this._medicalServ},set:function(e){this._medicalServ=e}},{key:"null_flavors_attributes",value:function(){return this._nullFlavors.map((function(e){return Object(h.a)({},e)}))}},{key:"guid",get:function(){return this._guid}},{key:"timeStr",value:function(){var e;return void 0===this._effectiveTime?"":null===(e=this._effectiveTime)||void 0===e?void 0:e.toLocaleString("ru",0===this._effectiveTime.getHours()&&0===this._effectiveTime.getMinutes()?I:S)}}]),e}(),mt=function(){function e(){var t,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(te.a)(this,e),this._oldOne=void 0,this._id=void 0,this._diagnosis=void 0,this._effectiveTime=void 0,this._years=void 0,this._months=void 0,this._weeks=void 0,this._days=void 0,this._hours=void 0,this._minutes=void 0,this._guid=void 0,this._procedures=void 0,this._nullFlavors=void 0,this._oldOne=Object(h.a)({},i),this._id=i.id,this._guid=i.guid||Object(st.a)(),this._diagnosis=i.diagnosis||i.ext_diagnosis,i.effective_time&&(this._effectiveTime=new Date(i.effective_time)),this._days=i.days,this._hours=i.hours,this._minutes=i.minutes,this._months=i.months,this._weeks=i.weeks,this._years=i.years,this._procedures=(null===(t=i.procedures)||void 0===t?void 0:t.map((function(e){return new _t(e)})))||[],this._nullFlavors=(null===(n=i.null_flavors)||void 0===n?void 0:n.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{code:Ne[e.code]})})))||[],Object(Te.e)(this,void 0,{deep:!1})}return Object(ne.a)(e,[{key:"id",get:function(){return this._id},set:function(e){this._id=e}},{key:"diagnosis",get:function(){return this._diagnosis},set:function(e){this._diagnosis=e}},{key:"effectiveTime",get:function(){return this._effectiveTime},set:function(e){this._effectiveTime=e}},{key:"years",get:function(){return this._years},set:function(e){this._years=e}},{key:"months",get:function(){return this._months},set:function(e){this._months=e}},{key:"weeks",get:function(){return this._weeks},set:function(e){this._weeks=e}},{key:"days",get:function(){return this._days},set:function(e){this._days=e}},{key:"hours",get:function(){return this._hours},set:function(e){this._hours=e}},{key:"minutes",get:function(){return this._minutes},set:function(e){this._minutes=e}},{key:"procedures",get:function(){return this._procedures},set:function(e){this._procedures=e}},{key:"nullFlavors",get:function(){return this._nullFlavors},set:function(e){this._nullFlavors=e}},{key:"null_flavors_attributes",value:function(){var e,t=this._nullFlavors.map((function(e){return Object(h.a)({},e)}));return null===(e=this._oldOne.null_flavors)||void 0===e||e.forEach((function(e){-1===t.findIndex((function(t){return t.id===e.id}))&&t.push({id:e.id,parent_guid:e.parent_guid,_destroy:"1"})})),t}},{key:"procNames",value:function(){var e="";return this._procedures.forEach((function(t){e+=t.textValue||t.medicalServ.name,t.effectiveTime&&(e+=" \u043e\u0442 "+t.timeStr()),e+="; "})),e}},{key:"getAttributes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={guid:this._guid};if(this._id&&this._id>-1&&(t.id=this._id),(this._days||this._oldOne.days)&&(t.days=this._days),(this._hours||this._oldOne.hours)&&(t.hours=this._hours),(this._minutes||this._oldOne.minutes)&&(t.minutes=this._minutes),(this._months||this._oldOne.months)&&(t.months=this._months),(this._weeks||this._oldOne.weeks)&&(t.weeks=this._weeks),(this._years||this._oldOne.years)&&(t.years=this._years),(this._effectiveTime||this._oldOne.effective_time)&&(t.effective_time=this._effectiveTime),this._diagnosis&&!e?t.diagnosis_id=Number.parseInt(this._diagnosis.id):this._oldOne.diagnosis&&(t.diagnosis_id=null),this._diagnosis&&e?t.ext_diagnosis_id=Number.parseInt(this._diagnosis.id):this._oldOne.diagnosis&&(t.ext_diagnosis_id=null),this._nullFlavors.length>0&&(t.null_flavors_attributes=this.null_flavors_attributes()),this._procedures.length>0&&(t.procedures_attributes=this._procedures.map((function(e){return e.getAttributes()}))),this._oldOne.procedures&&this._oldOne.procedures.length>0){var n=[];this._oldOne.procedures.forEach((function(e){t.procedures_attributes&&-1!==t.procedures_attributes.findIndex((function(t){return t.id===e.id}))||n.push({id:e.id,_destroy:"1"})})),t.procedures_attributes&&n.length>0?t.procedures_attributes=t.procedures_attributes.concat(n):n.length>0&&(t.procedures_attributes=n)}return t}}]),e}(),bt=function(){function e(){Object(te.a)(this,e)}return Object(ne.a)(e,null,[{key:"fetchDiagnoses",value:function(){var e=Object(M.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.post("".concat(U,"model/Diagnosis/"),{q:t,offset:0,limit:200}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchExtDiagnoses",value:function(){var e=Object(M.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.post("".concat(U,"model/ExtDiagnosis/"),{q:t,offset:0,limit:200}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMedicalServs",value:function(){var e=Object(M.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.post("".concat(U,"model/MedicalServ/"),{q:t,offset:0,limit:200}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),vt=Object(c.a)((function(e){var t,n,a=Ce.filter((function(e){return"ASKU NA UNK".includes(e.code)})),s={width:"86px"},r="p-field p-inputgroup p-mr-1",o=Object(i.useState)(e.checked||!1),c=Object(p.a)(o,2),l=c[0],u=c[1],h=Object(i.useState)([]),f=Object(p.a)(h,2),_=f[0],m=f[1],b=Object(i.useState)(""),v=Object(p.a)(b,2),j=v[0],g=v[1],O=Object(i.useState)(""),x=Object(p.a)(O,2),y=x[0],C=x[1],N=function(){I&&(I.days&&(I.days=null),I.effectiveTime&&(I.effectiveTime=null),I.hours&&(I.hours=null),I.minutes&&(I.minutes=null),I.months&&(I.months=null),I.weeks&&(I.weeks=null),I.years&&(I.years=null))},A=e.certificate.deathDatetime,E=Object(i.useState)(e.deathReason),S=Object(p.a)(E,2),I=S[0],w=S[1],k=void 0===e.onUp?Object(d.jsx)(d.Fragment,{}):Object(d.jsx)(ze.a,{icon:"pi pi-angle-up",onClick:e.onUp,className:"p-button-rounded p-button-secondary p-mr-1"}),T=void 0===e.onDown?Object(d.jsx)(d.Fragment,{}):Object(d.jsx)(ze.a,{icon:"pi pi-angle-down",onClick:e.onDown,className:"p-button-rounded p-button-secondary"}),D=function(e){return Object(d.jsxs)("span",{children:[Object(d.jsx)("span",{style:{marginRight:"4px"},children:e.ICD10}),Object(d.jsx)("span",{children:e.s_name})]})},F=l&&I&&A?Object(d.jsx)(Ie,{checked:l&&(!!I.effectiveTime||-1===I.nullFlavors.findIndex((function(e){return"effective_time"===e.parent_attr}))),label:Object(d.jsx)("label",{children:"\u041f\u0435\u0440\u0438\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043c\u0435\u0436\u0434\u0443 \u043d\u0430\u0447\u0430\u043b\u043e\u043c \u043f\u0430\u0442\u043e\u043b. \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0438 \u0441\u043c\u0435\u0440\u0442\u044c\u044e"}),options:a,paraNum:!0,value:9,nullFlavors:I.nullFlavors,setCheck:function(t,n){t.checked||N(),n&&(I.nullFlavors=n),e.onChange(I),e.onTimeChecked&&e.onTimeChecked(t.checked)},onChange:function(e,t){t&&(I.nullFlavors=t)},field_name:"effective_time",field:Object(d.jsxs)("div",{className:"p-fluid p-formgrid p-grid",style:{marginLeft:"0"},children:[Object(d.jsxs)("div",{className:r,style:s,children:[Object(d.jsx)("span",{className:"p-inputgroup-addon",children:"\u043b\u0435\u0442"}),Object(d.jsx)(_e.a,{id:"year",type:"number",min:0,max:99,onChange:function(t){var n=Number.parseInt(t.target.value);I.years=0===n?void 0:n,e.certificate.saveReasonEffTime(I),e.onChange(I)},value:I.years||""})]},"rt_".concat(A)),Object(d.jsxs)("div",{className:r,style:s,children:[Object(d.jsx)("span",{className:"p-inputgroup-addon",children:"\u043c\u0435\u0441"}),Object(d.jsx)(_e.a,{id:"month",type:"number",min:0,max:12,onChange:function(t){var n=Number.parseInt(t.target.value);I.months=0===n?void 0:n,e.certificate.saveReasonEffTime(I),e.onChange(I)},value:I.months||""})]}),Object(d.jsxs)("div",{className:r,style:s,children:[Object(d.jsx)("span",{className:"p-inputgroup-addon",children:"\u043d\u0435\u0434"}),Object(d.jsx)(_e.a,{id:"ned",type:"number",min:0,max:4,onChange:function(t){var n=Number.parseInt(t.target.value);I.weeks=0===n?void 0:n,e.certificate.saveReasonEffTime(I),e.onChange(I)},value:I.weeks||""})]}),Object(d.jsxs)("div",{className:r,style:s,children:[Object(d.jsx)("span",{className:"p-inputgroup-addon",children:"\u0441\u0443\u0442"}),Object(d.jsx)(_e.a,{id:"dne",type:"number",min:0,max:7,onChange:function(t){var n=Number.parseInt(t.target.value);I.days=0===n?void 0:n,e.certificate.saveReasonEffTime(I)&&e.onChange(I)},value:I.days||""})]}),Object(d.jsxs)("div",{className:r,style:s,children:[Object(d.jsx)("span",{className:"p-inputgroup-addon",children:"\u0447\u0430\u0441"}),Object(d.jsx)(_e.a,{id:"hours",type:"number",min:0,max:23,onChange:function(t){var n=Number.parseInt(t.target.value);I.hours=0===n?void 0:n,e.certificate.saveReasonEffTime(I)&&e.onChange(I)},value:I.hours||""})]}),Object(d.jsxs)("div",{className:r,style:s,children:[Object(d.jsx)("span",{className:"p-inputgroup-addon",children:"\u043c\u0438\u043d"}),Object(d.jsx)(_e.a,{id:"minut",type:"number",min:0,max:59,onChange:function(t){var n=Number.parseInt(t.target.value);I.minutes=0===n?void 0:n,e.certificate.saveReasonEffTime(I),e.onChange(I)},value:I.minutes||""})]})]})},"et_".concat(I.effectiveTime)):Object(d.jsx)(d.Fragment,{});return Object(d.jsxs)("div",{className:"p-paragraph-field",style:{width:"100%"},children:[Object(d.jsx)(Ie,{disabled:e.disabled,checked:l,setCheck:function(t,n){if(u(t.checked),t.checked){var i=new mt;e.onChange(i),w(i)}else I&&(I.nullFlavors=[],N(),I.diagnosis=void 0,I.nullFlavors.push({parent_attr:"effective_time",code:8}),I.nullFlavors.push({parent_attr:"diagnosis",code:8})),e.onChange(void 0);e.onDiagnosisChecked&&e.onDiagnosisChecked(t.checked,n)},label:Object(d.jsx)("label",{children:e.label}),options:a,nullFlavors:e.fieldName?e.certificate.nullFlavors:null===I||void 0===I?void 0:I.nullFlavors,paraNum:!0,field_name:e.fieldName||"diagnosis",value:8,field:Object(d.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(d.jsx)("div",{className:"p-field p-col-12 ".concat(e.isExt?"p-md-10":"p-md-8"),children:Object(d.jsx)(He.a,{id:"reason_text",placeholder:"\u0414\u0438\u0430\u0433\u043d\u043e\u0437",suggestions:_,delay:1e3,dropdown:!0,completeMethod:function(t){var n={};t.query.trim().length>0&&(n.s_name_cont=t.query.trim()),y&&y.trim().length>0&&(n.ICD10_start=y),e.isExt?bt.fetchExtDiagnoses(n).then((function(e){e.data.length>0?m(e.data):m([])})).catch((function(e){return console.log(e)})):bt.fetchDiagnoses(n).then((function(e){e.data.length>0?m(e.data):m([])})).catch((function(e){return console.log(e)}))},itemTemplate:D,field:"s_name",onChange:function(t){var n;I&&t.value.s_name?(I.diagnosis=t.value,I.diagnosis&&C(null===(n=I.diagnosis)||void 0===n?void 0:n.ICD10)):t.value?(I&&(I.diagnosis=void 0),g(t.value)):(I&&(I.diagnosis=void 0),g(""));null!=I&&e.onChange(I)},value:(null===(t=e.deathReason)||void 0===t?void 0:t.diagnosis)||j})}),Object(d.jsx)("div",{className:"p-field p-col-12 p-md-2",children:Object(d.jsx)(He.a,{id:"reason_code",placeholder:"\u041a\u043e\u0434",suggestions:_,delay:1e3,field:"ICD10",itemTemplate:D,completeMethod:function(t){t.query.trim().length>0&&(e.isExt?bt.fetchExtDiagnoses({ICD10_start:t.query.trim()}).then((function(e){e.data.length>0?m(e.data):m([])})).catch((function(e){return console.log(e)})):bt.fetchDiagnoses({ICD10_start:t.query.trim()}).then((function(e){e.data.length>0?m(e.data):m([])})).catch((function(e){return console.log(e)})))},onChange:function(t){var n;I&&t.value.s_name?(I.diagnosis=t.value,I.diagnosis&&C(null===(n=I.diagnosis)||void 0===n?void 0:n.ICD10)):t.value?(I&&(I.diagnosis=void 0),C(t.value)):(I&&(I.diagnosis=void 0),C(""));I&&e.onChange(I)},value:(null===(n=e.deathReason)||void 0===n?void 0:n.diagnosis)||y})}),Object(d.jsxs)("div",{className:"p-field ".concat(e.isExt?"":"p-col-12 p-md-2"),children:[k,T]})]})},"rs2_".concat(null===I||void 0===I?void 0:I.id,"_").concat(null===I||void 0===I?void 0:I.diagnosis)),F]})})),jt=function(){function e(){Object(te.a)(this,e)}return Object(ne.a)(e,null,[{key:"runACME",value:function(){var e=Object(M.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",H.post("".concat(G,"useACME"),{data_AIN:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),gt=function(e,t){var n,i,a,s,r,o,c,l,d,u,h,p,f,_,m,b,v,j,g,O,x,y,C=null===(n=t.deathDatetime)||void 0===n?void 0:n.toDateString(),N=null===(i=t.deathDatetime)||void 0===i?void 0:i.toLocaleDateString(),A=C?C.slice(-4):"0000",E=(null===(a=t.number)||void 0===a?void 0:a.slice(-4).padStart(6,"0"))||"000000",S=e?"0000":"0001",I=C?C.slice(4,7):"000",w=N?N.slice(3,5):"  ",k=N?N.slice(0,2):"  ",T=N?N.slice(-4):"    ",D=t.patient.birth_date,F=t.deathDatetime,L="9",M="999";if(F&&D){var R=F.getFullYear()-D.getFullYear();R>1?(L="1",M=R.toString().padStart(3,"0")):1===R?(R=F.getMonth()-D.getMonth())>0?(L="1",M="001"):(L="2",M=(R=F.getMonth()+12-D.getMonth()).toString().padStart(3,"0")):(R=F.getMonth()-D.getMonth())>1?(L="2",M=R.toString().padStart(3,"0")):1===R?(R=F.getDate()-D.getDate())>0?(L="1",M="001"):(L="3",M=(R=F.getDate()+30-D.getDate()).toString().padStart(3,"0")):(R=F.getDate()-D.getDate())>0?(L="3",M=R.toString().padStart(3,"0")):(L="3",M="000")}var P=" ";t.deathKind&&t.deathKind>0&&(P=["N","A","A","H","S","A","A","C"][t.deathKind-1]);var U=null===(s=t.reasonD)||void 0===s||null===(r=s.diagnosis)||void 0===r?void 0:r.ICD10;U=!U||!(U>="W00"&&U<="Y34.X")||U.lastIndexOf("X")>1||U.includes("Y06.")||U.includes("Y07.")||U.length<4?" ":U.substring(4,5);var B=null===(o=t.reasonA)||void 0===o||null===(c=o.diagnosis)||void 0===c?void 0:c.ICD10;B=B&&B.replace(".","").padEnd(4," ");var G=null===(l=t.reasonB)||void 0===l||null===(d=l.diagnosis)||void 0===d?void 0:d.ICD10;G=G&&G.replace(".","").padEnd(4," ");var K=null===(u=t.reasonC)||void 0===u||null===(h=u.diagnosis)||void 0===h?void 0:h.ICD10;K=K&&K.replace(".","").padEnd(4," ");var z=null===(p=t.reasonD)||void 0===p||null===(f=p.diagnosis)||void 0===f?void 0:f.ICD10;z=z&&z.replace(".","")," "!==U&&z?(z="&"+z).length>4&&(z=z.slice(0,4)):z&&" "===U&&(z=("&"+z).padEnd(5," ")),z&&z.length<4&&(z=z.padEnd(4," "));var H=[];H[0]=t.deathReasons.length<1||!e||null===(_=t.deathReasons[0].diagnosis)||void 0===_?void 0:_.ICD10.replace(".","").padEnd(4," "),H[1]=t.deathReasons.length<2||!e||null===(m=t.deathReasons[1].diagnosis)||void 0===m?void 0:m.ICD10.replace(".","").padEnd(4," "),H[2]=t.deathReasons.length<3||!e||null===(b=t.deathReasons[2].diagnosis)||void 0===b?void 0:b.ICD10.replace(".","").padEnd(4," "),H[3]=t.deathReasons.length<4||!e||null===(v=t.deathReasons[3].diagnosis)||void 0===v?void 0:v.ICD10.replace(".","").padEnd(4," "),B=B&&B.lastIndexOf("X")>1?B.slice(0,3)+" ":B,G=G&&G.lastIndexOf("X")>1?G.slice(0,3)+" ":G,K=K&&K.lastIndexOf("X")>1?K.slice(0,3)+" ":K;var V=H.map((function(e){return e&&e.lastIndexOf("X")>1?e.substring(0,3)+" ":e})),q=t.basisDetermining?4===t.basisDetermining?"Y":"N":"U",Y="3";t.pregnancyConnection&&(Y=["9","3","4","1"][t.pregnancyConnection]);var X=null===(j=t.extReasonTime)||void 0===j?void 0:j.toLocaleString(),W=X?X.substring(3,5):"99",Z=X?X.substring(0,2):"99",Q=X?X.substring(6,10):"9999",J=t.deathKind&&3===t.deathKind?"Y":" ",$=null===(g=t.reasonD)||void 0===g||null===(O=g.diagnosis)||void 0===O?void 0:O.ICD10;$=$&&$.length>5?$.substring(5,6):" ";var ee=null===(x=t.patient.person)||void 0===x||null===(y=x.address)||void 0===y?void 0:y.state;return ee=ee?ee.padStart(12," "):"            ",(A+"NC"+E+"1"+S+"1"+I+w+k+T+"20042004"+L+M+P+"  "+U+"     "+function(e,t,n,i,a){var s="",r="";return a.forEach((function(e){e&&(r+=" "+e)})),t||i||a[0]?!t||n||i||a[0]?t&&n&&!i&&!a[0]?s=e+"/"+t+"/"+n:t||i||!a[0]?t&&!n&&!i&&a[0]?s=e+"/"+t+"*"+r:t&&n&&!i&&a[0]?s=e+"/"+t+"/"+n+"*"+r:t||!i||a[0]?t&&!n&&i&&!a[0]?s=e+"/"+t+" "+i:t&&n&&i&&!a[0]?s=e+"/"+t+"/"+n+" "+i:!t&&i&&a[0]?s=e+"*"+r+" "+i:t&&!n&&i&&a[0]?s=e+"/"+t+"*"+r+" "+i:t&&n&&i&&a[0]&&(s=e+"/"+t+"/"+n+"*"+r+" "+i):s=e+" "+i:s=e+"*"+r:s=e+"/"+t:s=e,s.padEnd(120," ")}(B||"    ",G,K,z,V)+q+"  "+Y+" "+W+Z+Q+"9999"+J+"                              "+$+ee).padEnd(260," ")+"q"},Ot=function(e){var t="",n=e.substring(44,45),i=e.substring(53,54),a=e.substring(50,53),s=" "===n,r=" "===i,o="   "===a;return s&&!r?t="".concat(a,".").concat(i):s&&r&&!o?t="".concat(a,".X"):!s&&!o&&"V01"<a&&"Y98.X">=a?t="".concat(a,".").concat(n):!s&&!o&&"V">a&&(t="".concat(a,".").concat(i)),t},xt=Object(c.a)((function(){var e,t,n,a,s,r,o,c,l,u,h,p,_=Object(i.useContext)(Mn),m=_.certificateStore,b=_.layoutStore,v=m.cert,j=function(e){return e?"p-fluid p-d-flex p-jc-start ACME-reason":"p-fluid p-d-flex p-jc-start"},g=!!v.reasonB,O=!!v.reasonC,x=!!v.reasonD,y=function(e,t){if(e.id||t.id){var n=e.id;e.id=t.id,t.id=n}};return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(f.a,{className:"c-section p-mr-2 p-mb-2",header:function(){return Object(d.jsxs)("span",{children:[" ",Object(d.jsx)("span",{className:"paragraph p-mr-1",children:"22(I)."}),"  \u041f\u0440\u0438\u0447\u0438\u043d\u044b \u0441\u043c\u0435\u0440\u0442\u0438."]})},children:[Object(d.jsxs)("div",{className:j(!!v.reasonA&&v.reasonA===v.reasonACME),style:{width:"98%"},children:[Object(d.jsx)("div",{className:"paragraph p-mr-1",children:"\u0430) "}),Object(d.jsx)(vt,{label:"\u0411\u043e\u043b\u0435\u0437\u043d\u044c \u0438\u043b\u0438 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435, \u043d\u0435\u043f\u043e\u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u043f\u0440\u0438\u0432\u0435\u0434\u0448\u0435\u0435 \u043a \u0441\u043c\u0435\u0440\u0442\u0438",deathReason:v.reasonA,certificate:v,onChange:function(e){e!==v.reasonA&&(v.reasonA=e,b.message={severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",detail:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0410 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0430, \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f",life:3e3})},disabled:!0,checked:!0,fieldName:"a_reason",onDown:function(){if(v.reasonA||v.reasonB){y(v.reasonA||new mt,v.reasonB||new mt);var e=v.reasonA;v.reasonA=v.reasonB,v.reasonB=e}}},"ra2_".concat(null===(n=v.reasonA)||void 0===n?void 0:n.effectiveTime))]},"ra_".concat(null===(e=v.reasonA)||void 0===e||null===(t=e.diagnosis)||void 0===t?void 0:t.ICD10)),Object(d.jsxs)("div",{className:j(!!v.reasonB&&v.reasonB===v.reasonACME),style:{width:"98%"},children:[Object(d.jsx)("div",{className:"paragraph p-mr-1",children:"\u0431) "}),Object(d.jsx)(vt,{label:"\u041f\u0430\u0442\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043f\u0440\u0438\u0432\u0435\u043b\u043e \u043a \u0432\u043e\u0437\u043d\u0438\u043a\u043d\u043e\u0432\u0435\u043d\u0438\u044e \u043d\u0435\u043f\u043e\u0441- \u0440\u0435\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0439 \u043f\u0440\u0438\u0447\u0438\u043d\u044b \u0441\u043c\u0435\u0440\u0442\u0438",deathReason:v.reasonB,certificate:v,onChange:function(e){e!==v.reasonB&&(v.reasonB=e)},checked:g,fieldName:"b_reason",onDown:function(){if(v.reasonB||v.reasonC){y(v.reasonB||new mt,v.reasonC||new mt);var e=v.reasonB;v.reasonB=v.reasonC,v.reasonC=e}},onUp:function(){if(v.reasonB||v.reasonC){y(v.reasonC||new mt,v.reasonB||new mt);var e=v.reasonB;v.reasonB=v.reasonA,v.reasonA=e}}},"rb2_".concat(null===(r=v.reasonB)||void 0===r?void 0:r.id))]},"rb_".concat(null===(a=v.reasonB)||void 0===a||null===(s=a.diagnosis)||void 0===s?void 0:s.ICD10)),Object(d.jsxs)("div",{className:j(!!v.reasonC&&v.reasonC===v.reasonACME),style:{width:"98%"},children:[Object(d.jsx)("div",{className:"paragraph p-mr-1",children:"\u0432) "}),Object(d.jsx)(vt,{label:"\u041f\u0435\u0440\u0432\u043e\u043d\u0430\u0447\u0430\u043b\u044c\u043d\u0430\u044f \u043f\u0440\u0438\u0447\u0438\u043d\u0430 \u0441\u043c\u0435\u0440\u0442\u0438",deathReason:v.reasonC,certificate:v,onChange:function(e){e!==v.reasonC&&(v.reasonC=e)},fieldName:"c_reason",checked:O,onUp:function(){if(v.reasonC||v.reasonB){y(v.reasonC||new mt,v.reasonB||new mt);var e=v.reasonC;v.reasonC=v.reasonB,v.reasonB=e}}},"rc2_".concat(O,"_").concat(null===(l=v.reasonC)||void 0===l?void 0:l.effectiveTime))]},"rc_".concat(null===(o=v.reasonC)||void 0===o||null===(c=o.diagnosis)||void 0===c?void 0:c.ICD10)),Object(d.jsxs)("div",{className:j(!1),style:{width:"98%"},children:[Object(d.jsx)("div",{className:"paragraph p-mr-1",children:"\u0433) "}),Object(d.jsx)(vt,{label:"\u0412\u043d\u0435\u0448\u043d\u044f\u044f \u043f\u0440\u0438\u0447\u0438\u043d\u0430 \u0441\u043c\u0435\u0440\u0442\u0438 \u043f\u0440\u0438 \u0442\u0440\u0430\u0432\u043c\u0430\u0445 \u0438 \u043e\u0442\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f\u0445",deathReason:v.reasonD,certificate:v,onChange:function(e){e!==v.reasonD&&(v.reasonD=e)},fieldName:"d_reason",checked:x,isExt:!0},"rd2_".concat(x,"_").concat(null===(u=v.reasonD)||void 0===u?void 0:u.effectiveTime))]}),Object(d.jsxs)("div",{className:j(!1)+"p-fluid",style:{width:"98%",padding:"4px"},children:[Object(d.jsx)(ze.a,{type:"button",label:"ACME",style:{width:"5rem",height:"2.4rem"},className:"p-button-warning p-mr-2",onClick:function(){var e,t,n,i;(null===(e=v.reasonA)||void 0===e||null===(t=e.diagnosis)||void 0===t?void 0:t.ICD10)?(null===(n=v.reasonC)||void 0===n||null===(i=n.diagnosis)||void 0===i?void 0:i.ICD10)&&v.reasonC.diagnosis.ICD10.includes("U07")?(v.changeReasonACME(v.reasonC.diagnosis.ICD10),b.message={severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",detail:"".concat(v.reasonC.diagnosis.ICD10,"-\u043f\u0435\u0440\u0432\u043e\u043f\u0440\u0438\u0447\u0438\u043d\u0430 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u0430\u044f \u0410\u0421\u041c\u0415"),life:3e3}):function(e,t,n){var i=-1;try{var a=gt(!0,e);i=-2;var s=!!e.reasonD&&!!e.reasonD.diagnosis&&!!e.reasonD.diagnosis.ICD10,r=s?gt(!1,e):"";i=-3,jt.runACME(a+r).then((function(e){if(e.data&&e.data.length<120)n("\u0421\u0431\u043e\u0439 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438: \u043f\u043e\u043b\u0443\u0447\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u043e\u0442 \u0410\u0421\u041c\u0415: ".concat(e.data));else{var i=e.data.data_TIN.split("\r\n");if(console.log("response.data",e.data),s){var a="",r="";1===Number.parseInt(i[0].slice(6,12)+i[0].slice(13,17))?(a=Ot(i[0]),r=Ot(i[1])):(a=Ot(i[1]),r=Ot(i[0])),(a<"V00"||a>"Y99.X")&&(a=""),""===a&&(a=r),t(a)}else t(Ot(i[0]))}})).catch((function(e){n("\u0421\u0431\u043e\u0439 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438: \u043a\u043e\u0434 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f - 0, \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0441\u0442\u0438: ".concat(e))})),i=0}catch(o){n("\u0421\u0431\u043e\u0439 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438: \u043a\u043e\u0434 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f ".concat(i,", \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0441\u0442\u0438: ").concat(o))}}(v,(function(e){v.changeReasonACME(e),b.message={severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",detail:"".concat(e,"-\u043f\u0435\u0440\u0432\u043e\u043f\u0440\u0438\u0447\u0438\u043d\u0430 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u0430\u044f \u0410\u0421\u041c\u0415"),life:3e3}}),(function(e){b.message={severity:"error",summary:"\u0421\u0431\u043e\u0439",detail:e,life:7e3}})):b.message={severity:"warn",summary:"O\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u043e",detail:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0430) \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442",life:7e3}}}),Object(d.jsxs)("div",{className:"p-field  p-grid",children:[Object(d.jsx)("label",{htmlFor:"ACME",className:"p-col-fixed",style:{width:"226px"},children:"\u041f\u0435\u0440\u0432\u043e\u043d\u0430\u0447\u0430\u043b\u044c\u043d\u0430\u044f \u043f\u0440\u0438\u0447\u0438\u043d\u0430 \u043f\u043e \u0410\u0421\u041c\u0415"}),Object(d.jsx)("div",{className:"p-col-12 p-md-2",children:Object(d.jsx)(_e.a,{id:"ACME",type:"text",disabled:!0,value:(null===(h=v.reasonACME)||void 0===h||null===(p=h.diagnosis)||void 0===p?void 0:p.ICD10)||""})})]})]})]})})})),yt=Object(c.a)((function(){var e=Object(i.useContext)(Mn),t=e.certificateStore,n=e.temporaryIDStore,a=e.suggestionsStore,s=a.suggestions[38].done&&a.suggestions[39].done,r=t.cert,o=Object(i.useState)(new mt({id:n.lastDeathReasonID})),c=Object(p.a)(o,2),l=c[0],u=c[1],h=Object(i.useState)([]),b=Object(p.a)(h,2),v=b[0],j=b[1],g=Object(i.useState)(""),O=Object(p.a)(g,2),x=O[0],y=O[1],C=Object(i.useState)(""),N=Object(p.a)(C,2),A=N[0],E=N[1],S=Object(i.useState)(null),I=Object(p.a)(S,2),w=I[0],k=I[1],T=Object(i.useState)(!1),D=Object(p.a)(T,2),F=D[0],L=D[1],M=Object(i.useState)(!0),R=Object(p.a)(M,2),P=R[0],U=R[1],B=Object(i.useState)([]),G=Object(p.a)(B,2),K=G[0],z=G[1],H=Object(i.useState)([]),V=Object(p.a)(H,2),q=V[0],Y=V[1];Object(i.useEffect)((function(){a.suggestions[38].done=!(void 0===l.diagnosis&&(0===l.nullFlavors.length||-1===l.nullFlavors.findIndex((function(e){return"diagnosis"===e.parent_attr})))),a.suggestions[39].done=!(void 0===l.effectiveTime&&-1===l.nullFlavors.findIndex((function(e){return"effective_time"===e.parent_attr})))}),[l.diagnosis,l.effectiveTime,a.suggestions,l.nullFlavors]);var X,W=function(e){w?w.medicalServ=e.value:k(new _t({id:n.lastProcedureID,medical_serv:e.value})),y(e.value.name),E(e.value.s_code)},Z=function(e){return Object(d.jsxs)("span",{children:[Object(d.jsx)("span",{style:{marginRight:"4px"},children:e.s_code}),Object(d.jsx)("span",{children:e.name})]})};return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(f.a,{className:"c-section p-mr-2 p-mb-2",header:function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("span",{children:[Object(d.jsx)("span",{className:"paragraph p-mr-1",children:"22(II)."}),"\u041f\u0440\u043e\u0447\u0438\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f."]}),Object(d.jsx)(ze.a,{icon:"pi pi-plus",className:"p-ml-auto p-mr-2 p-button-sm p-button-raised p-button-success",label:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",disabled:!s||!l.diagnosis&&0===l.procedures.length||null!==w,onClick:function(){r.deathReasons.includes(l)||r.deathReasons.push(l),u(new mt({id:n.lastDeathReasonID}))}}),Object(d.jsx)(ze.a,{icon:"pi pi-minus",className:"p-button-sm p-button-raised p-button-danger",title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",disabled:0===q.length,onClick:function(){var e,t=null===(e=r.deathReasons)||void 0===e?void 0:e.filter((function(e){return!q.includes(e)}));r.deathReasons=t,Y([])}})]})},children:[Object(d.jsxs)("div",{className:(X=!1,X?"p-fluid p-d-flex p-jc-start ACME-reason":"p-fluid p-d-flex p-jc-start"),style:{width:"98%"},children:[Object(d.jsx)("div",{className:"paragraph p-mr-1",children:"*)"}),Object(d.jsx)(vt,{label:"\u0441\u043f\u043e\u0441\u043e\u0431\u0441\u0442\u0432\u043e\u0432\u0430\u0432\u0448\u0438\u0435 \u0441\u043c\u0435\u0440\u0442\u0438, \u043d\u043e \u043d\u0435 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0441 \u0431\u043e\u043b\u0435\u0437\u043d\u044c\u044e \u0438\u043b\u0438 \u043f\u0430\u0442\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u043c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435\u043c, \u043f\u0440\u0438\u0432\u0435\u0434\u0448\u0438\u043c \u043a \u043d\u0435\u0439",deathReason:l,certificate:r,onChange:function(e){e&&e!==l&&(e.id||(e.id=n.lastDeathReasonID),u(e))},onDiagnosisChecked:function(e){return U(e)},checked:P},"ra2_".concat(l.effectiveTime))]},"ra_".concat(l.id,"_").concat(P)),Object(d.jsxs)("div",{className:"p-fluid p-formgrid p-grid p-add-block",style:{marginLeft:"1rem"},children:[Object(d.jsx)("div",{className:"p-field p-col-12 p-md-9",children:Object(d.jsx)(He.a,{id:"procedure_text",placeholder:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0445\u0438\u0440\u0443\u0440\u0433\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",suggestions:v,delay:1e3,dropdown:!0,completeMethod:function(e){var t={};e.query.trim().length>0&&(t.name_cont=e.query.trim()),A.trim().length>0&&(t.s_code_start=A),bt.fetchMedicalServs(t).then((function(e){e.data.length>0?j(e.data):j([])})).catch((function(e){return console.log(e)}))},itemTemplate:Z,field:"name",onChange:function(e){e.value.s_code?W(e):y(e.value)},value:x})}),Object(d.jsx)("div",{className:"p-field p-col-12 p-md-3",children:Object(d.jsx)(He.a,{id:"procedure_code",placeholder:"\u041a\u043e\u0434",suggestions:v,delay:1e3,field:"s_code",itemTemplate:Z,completeMethod:function(e){e.query.trim().length>0&&bt.fetchMedicalServs({s_code_start:e.query.trim()}).then((function(e){e.data.length>0?j(e.data):j([])})).catch((function(e){return console.log(e)}))},onChange:function(e){e.value.s_code?W(e):E(e.value)},value:A})}),Object(d.jsx)("div",{className:"p-field p-col-12",children:Object(d.jsx)(_e.a,{id:"procedure_alterText",disabled:!w,placeholder:"\u0421\u0432\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435, \u0435\u0441\u043b\u0438 \u043e\u043d\u043e \u043e\u0442\u043b\u0438\u0447\u0430\u0435\u0442\u0441\u044f \u043e\u0442 \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0433\u043e",onChange:function(e){w&&(w.textValue=e.target.value)},value:(null===w||void 0===w?void 0:w.textValue)||""})}),Object(d.jsxs)("div",{className:"p-field p-col-12  p-d-flex p-ai-center",children:[Object(d.jsx)(me.a,{id:"effectiveDate",className:"p-mr-3",inputStyle:{width:"12.5rem"},showTime:!F,dateFormat:"dd.mm.yy",locale:"ru",mask:F?"99.99.9999":"99.99.9999 99:99",panelStyle:{margin:"10rem"},value:null===w||void 0===w?void 0:w.effectiveTime,onChange:function(e){null!==w&&(e.target.value?w.effectiveTime=e.target.value:w.effectiveTime=void 0)},showIcon:!0},"effectiveDate".concat(F)),Object(d.jsxs)("div",{className:"p-field-checkbox",children:[Object(d.jsx)(ge.a,{checked:F,inputId:"et_date",onChange:function(e){L(e.checked)}}),Object(d.jsx)("label",{htmlFor:"et_date",children:"\u0422\u043e\u043b\u044c\u043a\u043e \u0434\u0430\u0442\u0430"})]}),Object(d.jsx)(ze.a,{icon:"pi pi-plus",className:"p-ml-auto p-mr-2 p-button-sm p-button-raised p-button-success",title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0445\u0438\u0440.\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044e",disabled:null===w||void 0===w.medicalServ&&void 0===w.textValue,onClick:function(){w&&(-1===l.procedures.findIndex((function(e){return e.guid===w.guid}))&&l.procedures.push(w),k(null),E(""),y(""))}}),Object(d.jsx)(ze.a,{icon:"pi pi-minus",className:"p-button-sm p-button-raised p-button-danger",title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c  \u0445\u0438\u0440.\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044e",disabled:0===K.length,onClick:function(){var e=l.procedures.filter((function(e){return!K.includes(e)}));l.procedures=e,z([])}})]}),Object(d.jsx)("div",{className:"p-field p-col-12",children:Object(d.jsxs)(m.a,{value:l.procedures,selection:K,responsiveLayout:"scroll",dataKey:"id",className:"p-datatable-sm",emptyMessage:"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442",style:{width:"100%"},onSelectionChange:function(e){if(z(e.value),e.value&&e.value.length>0){var t,n=e.value[0];k(n),L(0===(null===(t=n.effectiveTime)||void 0===t?void 0:t.getHours())&&0===n.effectiveTime.getMinutes()),E(n.medicalServ.s_code),y(n.medicalServ.name)}else k(null),E(""),y("")},children:[Object(d.jsx)(_.a,{selectionMode:"multiple",headerStyle:{width:"3em"}}),Object(d.jsx)(_.a,{field:"medicalServ.name",header:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"}),Object(d.jsx)(_.a,{header:"\u0412\u0440\u0435\u043c\u044f",body:function(e){return e.timeStr()}})]})})]}),Object(d.jsxs)(m.a,{value:r.deathReasons,style:{marginTop:"8px",marginLeft:"10px"},className:"p-datatable-sm",emptyMessage:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442",selection:q,responsiveLayout:"scroll",dataKey:"id",onSelectionChange:function(e){Y(e.value),e.value&&e.value.length>0?u(e.value[0]):u(new mt({id:n.lastDeathReasonID}))},children:[Object(d.jsx)(_.a,{selectionMode:"multiple",headerStyle:{width:"3em"}}),Object(d.jsx)(_.a,{header:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",body:function(e){var t="";return e.diagnosis&&(t=e.diagnosis.s_name+";"),e.procedures.length>0&&(t+=e.procNames()),t}}),Object(d.jsx)(_.a,{header:"\u041f\u0435\u0440\u0438\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438",body:function(e){var t="";return void 0===e.effectiveTime||(e.years&&e.years>0&&(t+="\u043b\u0435\u0442:".concat(e.years," ")),e.months&&e.months>0&&(t+="\u043c\u0435\u0441: ".concat(e.months)),e.weeks&&e.weeks>0&&(t+="\u043d\u0435\u0434: ".concat(e.weeks)),e.days&&e.days>0&&(t+="\u0434\u043d: ".concat(e.days)),e.hours&&e.hours>0&&(t+="\u0447\u0430\u0441: ".concat(e.hours)),e.minutes&&e.minutes>0&&(t+="\u043c\u0438\u043d: ".concat(e.minutes))),t}}),Object(d.jsx)(_.a,{field:"diagnosis.ICD10",header:"K\u043e\u0434 \u041c\u041a\u041110"})]})]})})})),Ct=[{code:1,name:"\u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 30 \u0441\u0443\u0442\u043e\u043a"},{code:2,name:"\u0438\u0437 \u043d\u0438\u0445 \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 7 \u0441\u0443\u0442\u043e\u043a"}],Nt=[{code:1,name:"\u0441\u043c\u0435\u0440\u0442\u044c \u0431\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 (\u043d\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e \u043e\u0442 \u0441\u0440\u043e\u043a\u0430 \u0438 \u043b\u043e\u043a\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438)"},{code:2,name:"\u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u0440\u043e\u0434\u043e\u0432"},{code:3,name:"\u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 42 \u0434\u043d\u0435\u0439 \u043f\u043e\u0441\u043b\u0435 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0431\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0441\u0442\u0438"},{code:4,name:"\u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 43-365 \u0434\u043d\u0435\u0439 \u043f\u043e\u0441\u043b\u0435 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0431\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0441\u0442\u0438"}],At=function e(t){var n=t;if(Array.prototype.isPrototypeOf(n))return t;var i={};return Object.keys(t).forEach((function(n){t[n]===Object(t[n])?i[n]=e(t[n]):void 0!==t[n]&&(i[n]=t[n])})),i},Et={render_options:{only:["id","guid"],include:["position","person","organization"]},includes:["position","person","organization"],organization:{only:["id","name"]},position:{only:["id","name"]},person:{only:["id","SNILS"],include:["person_name","address","contacts"]}},St=function(){function e(){Object(te.a)(this,e)}return Object(ne.a)(e,null,[{key:"getDoctors",value:function(){var e=Object(M.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.post("".concat(U,"model/Doctor/"),Object(h.a)(Object(h.a)({},t),{},{offset:0,limit:100},Et)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPositions",value:function(){var e=Object(M.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.post("".concat(U,"model/Position/"),{q:t,offset:0,limit:200}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addDoctor",value:function(){var e=Object(M.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.post("".concat(U,"model/Doctor/add"),Object(h.a)({Doctor:t},Et)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateDoctor",value:function(){var e=Object(M.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.put("".concat(U,"model/Doctor/").concat(t.Doctor.id),Object(h.a)(Object(h.a)({},t),Et)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeDoctor",value:function(){var e=Object(M.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.delete("".concat(U,"model/Doctor/").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),It=function(){function e(t){Object(te.a)(this,e),this._id=void 0,this._time=void 0,this._doctorID=void 0,this._id=t.id,this._doctorID=t.doctor.id,t.time?this._time=new Date(t.time):this._time=new Date,Object(Te.e)(this)}return Object(ne.a)(e,[{key:"time",get:function(){return this._time},set:function(e){this._time=e}},{key:"doctorID",get:function(){return this._doctorID},set:function(e){this._doctorID=e}},{key:"id",get:function(){return this._id}},{key:"getAttributes",value:function(){var e={time:this._time};return this._id&&(e.id=this._id),this._doctorID&&(e.doctor_id=this._doctorID),e}}]),e}(),wt=Object(c.a)((function(){var e=Object(i.useContext)(Mn),t=e.userStore,n=e.certificateStore,a=e.layoutStore,s=n.cert,r=Object(i.useState)(null),o=Object(p.a)(r,2),c=o[0],l=o[1];Object(i.useEffect)((function(){null===c&&t.userInfo&&St.getDoctors({q:{organization_id_eq:t.userInfo.organization.id}}).then((function(e){var t=e.data.map((function(e){var t,n;return e.person&&e.person.person_name?{id:e.id,name:"".concat(e.person.person_name.family," ").concat(e.person.person_name.given_1," ").concat(e.person.person_name.given_2," ").concat(null===(n=e.position)||void 0===n?void 0:n.name)}:{id:e.id,name:null===(t=e.position)||void 0===t?void 0:t.name}}));t&&l(t)})).catch((function(e){return console.log("\u043e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043f\u0438\u0441\u043a\u0430 \u0432\u0440\u0430\u0447\u0435\u0439")}))}),[c,a,t.userInfo]);var u=Ce.filter((function(e){return"NA".includes(e.code)})),h=!!s.trafficAccident||-1===s.nullFlavors.findIndex((function(e){return"traffic_accident"===e.parent_attr})),_=!!s.pregnancyConnection||-1===s.nullFlavors.findIndex((function(e){return"pregnancy_connection"===e.parent_attr})),m={minWidth:"210px",maxWidth:"500px",marginTop:"0.5rem",marginLeft:"-0.75rem"},b={minWidth:"210px",maxWidth:"500px",marginTop:"0.5rem",marginLeft:"-1.25rem"},v={paddingTop:"0.1rem",width:"80%"};return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(f.a,{className:"c-section p-mr-2 p-mb-2",header:function(){return Object(d.jsx)("span",{children:"\u041f\u0440\u043e\u0447\u0438\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438 \u043f\u0440\u0438\u0447\u0438\u043d\u044b \u0441\u043c\u0435\u0440\u0442\u0438"})},children:Object(d.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(d.jsxs)("div",{className:"p-field p-d-flex p-flex-wrap p-jc-start",style:{width:"98%"},children:[Object(d.jsx)("div",{className:"paragraph p-mr-1",children:"23."}),Object(d.jsx)("div",{className:"p-paragraph-field p-mr-2 p-mb-2",style:{width:"90%"},children:Object(d.jsx)(Ie,{paraNum:!0,checked:h,label:Object(d.jsx)("label",{htmlFor:"trafficAccident",children:"\u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u0441\u043c\u0435\u0440\u0442\u0438 \u0432 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0435 \u0414\u0422\u041f: \u0441\u043c\u0435\u0440\u0442\u044c \u043d\u0430\u0441\u0442\u0443\u043f\u0438\u043b\u0430 \u2013"}),setCheck:function(e,t){e.checked||(s.trafficAccident=void 0),t&&(s.nullFlavors=t)},field:Object(d.jsx)(fe.a,{inputId:"trafficAccident",style:m,placeholder:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",options:Ct,optionLabel:"name",value:Ct.find((function(e){return e.code===s.trafficAccident})),onChange:function(e){return s.trafficAccident=e.value.code}}),options:u,value:8,nullFlavors:s.nullFlavors,field_name:"traffic_accident"})})]}),Object(d.jsxs)("div",{className:"p-field p-d-flex p-flex-wrap p-jc-start",style:{width:"98%"},children:[Object(d.jsx)("div",{className:"paragraph p-mr-1",children:"24."}),Object(d.jsx)("div",{className:"p-paragraph-field p-mr-2 p-mb-2",style:{width:"90%"},children:Object(d.jsx)(Ie,{paraNum:!0,checked:_,label:Object(d.jsx)("label",{htmlFor:"pregnancyConnection",children:" \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u0441\u043c\u0435\u0440\u0442\u0438 \u0431\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 (\u043d\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e \u043e\u0442 \u0441\u0440\u043e\u043a\u0430 \u0438 \u043b\u043e\u043a\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438) "}),setCheck:function(e,t){e.checked||(s.pregnancyConnection=void 0),t&&(s.nullFlavors=t)},onChange:function(e,t){t&&(s.nullFlavors=t)},field:Object(d.jsx)(fe.a,{inputId:"pregnancyConnection",style:m,placeholder:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",options:Nt,optionLabel:"name",value:Nt.find((function(e){return e.code===s.pregnancyConnection})),onChange:function(e){s.pregnancyConnection=e.value.code}}),options:u,value:8,nullFlavors:s.nullFlavors,field_name:"pregnancy_connection"})})]}),Object(d.jsx)("div",{className:"p-field p-d-flex p-flex-wrap p-jc-start",style:{width:"98%",paddingLeft:"0.5rem",fontWeight:600,fontSize:"larger"},children:"\u041f\u043e\u0434\u043f\u0438\u0441\u0438"}),Object(d.jsxs)("div",{className:"p-field p-d-flex p-flex-wrap p-jc-start",style:{width:"98%"},children:[Object(d.jsx)("div",{className:"paragraph p-mr-1",children:"25. "}),Object(d.jsxs)("div",{className:"p-paragraph-field p-mr-2 p-mb-2",style:v,children:[Object(d.jsx)("label",{htmlFor:"author",children:"\u0412\u0440\u0430\u0447 (\u0444\u0435\u043b\u044c\u0434\u0448\u0435\u0440, \u0430\u043a\u0443\u0448\u0435\u0440\u043a\u0430), \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0432\u0448\u0438\u0439 \u041c\u0435\u0434\u0438\u0446\u0438\u043d\u0441\u043a\u043e\u0435 \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u043e \u0441\u043c\u0435\u0440\u0442\u0438 *"}),Object(d.jsx)(fe.a,{inputId:"author",placeholder:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",style:b,optionLabel:"name",autoFocus:!0,className:"p-mb-2",options:c||[],value:null===c||void 0===c?void 0:c.find((function(e){var t;return e.id===(null===(t=s.author)||void 0===t?void 0:t.doctorID)})),showClear:!0,onChange:function(e){e.value?s.author=new It({doctor:e.value}):s.author=void 0}}),Object(d.jsx)("label",{htmlFor:"legalAuthenticator",children:"\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u043c\u0435\u0434\u0438\u0446\u0438\u043d\u0441\u043a\u043e\u0439 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 *"}),Object(d.jsx)(fe.a,{inputId:"legalAuthenticator",placeholder:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",style:b,optionLabel:"name",options:c||[],showClear:!0,value:null===c||void 0===c?void 0:c.find((function(e){var t;return e.id===(null===(t=s.legalAuthenticator)||void 0===t?void 0:t.doctorID)})),onChange:function(e){e.value?s.legalAuthenticator=new It({doctor:e.value}):s.legalAuthenticator=void 0}})]})]}),Object(d.jsxs)("div",{className:"p-field p-d-flex p-flex-wrap p-jc-start",style:{width:"98%"},children:[Object(d.jsx)("div",{className:"paragraph p-mr-1",children:"26. "}),Object(d.jsxs)("div",{className:"p-paragraph-field p-mr-2 p-mb-2",style:v,children:[Object(d.jsx)("label",{htmlFor:"authenticator",children:"\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u0435\u043d\u043e \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u043c *"}),Object(d.jsx)(fe.a,{inputId:"authenticator",placeholder:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",style:b,optionLabel:"name",options:c||[],showClear:!0,value:null===c||void 0===c?void 0:c.find((function(e){var t;return e.id===(null===(t=s.authenticator)||void 0===t?void 0:t.doctorID)})),onChange:function(e){e.value?s.authenticator=new It({doctor:e.value}):s.authenticator=void 0}})]})]}),Object(d.jsx)("div",{className:"p-field p-d-flex p-flex-wrap p-jc-start",style:{width:"98%",paddingLeft:"0.5rem"},children:Object(d.jsx)("em",{children:"* \u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0432 \u0434\u0435\u043d\u044c \u0444\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0431\u0443\u043c\u0430\u0436\u043d\u043e\u0433\u043e \u043d\u043e\u0441\u0438\u0442\u0435\u043b\u044f"})})]})})})})),kt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(te.a)(this,e),this._id=void 0,this._person=void 0,this._receiptDate=void 0,this._description=void 0,this._identity=void 0,this._original=void 0,this._oldOne=void 0,this._oldOne=Object(h.a)({},t),t.person?this._person=new Le(t.person):this._person=new Le,t.receipt_date?this._receiptDate=new Date(t.receipt_date):this._receiptDate=new Date,t.identity&&(this._identity=new De(t.identity)),this._id=t.id,this._description=t.description,this._original=void 0===t.original||t.original,Object(Te.e)(this,void 0,{deep:!1})}return Object(ne.a)(e,[{key:"getAttributes",value:function(){var e,t={};return this._id&&(t.id=this._id),t.description=this._description,t.original=this._original,t.receipt_date=null===(e=this._receiptDate)||void 0===e?void 0:e.toDateString(),this._person&&(t.person_attributes=this._person.getAttributes()),this._identity&&(t.identity_attributes=this._identity.getAttributes()),t}},{key:"oldOne",get:function(){return this._oldOne}},{key:"original",get:function(){return this._original},set:function(e){this._original=e}},{key:"identity",get:function(){return this._identity},set:function(e){this._identity=e}},{key:"description",get:function(){return this._description},set:function(e){this._description=e}},{key:"receiptDate",get:function(){return this._receiptDate},set:function(e){this._receiptDate=e}},{key:"person",get:function(){return this._person},set:function(e){this._person=e}},{key:"id",get:function(){return this._id}}]),e}(),Tt=Object(c.a)((function(){var e,t,n,a,s=Object(i.useContext)(Mn),r=s.certificateStore,o=s.suggestionsStore,c=s.layoutStore,l=r.cert,u=Object(i.useState)(l.participant||new kt),h=Object(p.a)(u,1)[0],_=h.person,m=h.identity,b=Object(i.useState)(!!h.identity),v=Object(p.a)(b,2),j=v[0],g=v[1],O=Object(i.useState)(Ee.find((function(e){return e.code===(null===m||void 0===m?void 0:m.identityCardType)}))),x=Object(p.a)(O,2),y=x[0],C=x[1];Object(i.useEffect)((function(){var e,t;(null===(e=h.person.fio)||void 0===e?void 0:e.family)&&(null===(t=h.person.fio)||void 0===t?void 0:t.given_1)&&(o.suggestions[45].done=!0)}),[null===(e=h.person.fio)||void 0===e?void 0:e.family,null===(t=h.person.fio)||void 0===t?void 0:t.given_1,o.suggestions]),Object(i.useEffect)((function(){h.receiptDate&&(o.suggestions[46].done=!0)}),[h.receiptDate,o.suggestions]),Object(i.useEffect)((function(){(h.person.SNILS||h.identity)&&(o.suggestions[47].done=!0)}),[h.identity,h.person.SNILS,o.suggestions]);var N=Ge({dulValue:y,identity:m}),A=Object(p.a)(N,3),E=A[0],S=A[1],I=A[2],w=!!l.participant||!(o.suggestions[47].done&&o.suggestions[46].done&&o.suggestions[45].done);return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(f.a,{className:"c-section p-mr-2 p-mb-2",header:function(){return Object(d.jsx)("span",{children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430"})},style:{paddingLeft:"1rem"},children:Object(d.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(d.jsxs)("div",{className:"p-field p-d-flex p-flex-wrap p-jc-start",children:[Object(d.jsxs)("div",{className:"p-paragraph-field p-col-6",children:[Object(d.jsx)("label",{htmlFor:"fio",children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f, \u0418\u043c\u044f, \u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e(\u043f\u0440\u0438 \u043d\u0430\u043b\u0438\u0447\u0438\u0438)"}),Object(d.jsx)(Re,{personName:null===(n=h.person)||void 0===n?void 0:n.fio,submitted:!1,onChange:function(e){h.person.fio=e}})]}),Object(d.jsxs)("div",{className:"p-paragraph-field p-col-5",children:[Object(d.jsx)("label",{htmlFor:"description",children:"\u041a\u0435\u043c \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442\u0441\u044f"}),Object(d.jsx)(_e.a,{value:h.description,placeholder:"\u0440\u043e\u0434\u0441\u0442\u0432./\u043f\u0440-\u043b\u044c",onChange:function(e){return h.description=e.target.value}})]}),Object(d.jsxs)("div",{className:"p-paragraph-field p-col-6",children:[Object(d.jsx)("label",{htmlFor:"description",children:"\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438"}),Object(d.jsx)(me.a,{id:"dateBirth",showIcon:!0,dateFormat:"dd.mm.yy",locale:"ru",mask:"99.99.9999",value:h.receiptDate,onChange:function(e){e.target.value&&(h.receiptDate=e.target.value)}})]}),Object(d.jsxs)("div",{className:"p-paragraph-field p-col-4",children:[Object(d.jsx)("label",{htmlFor:"snils",children:"\u0421\u041d\u0418\u041b\u0421"}),Object(d.jsx)(Ue.a,{id:"snils",type:"text",mask:"999-999-999 99",value:null===_||void 0===_?void 0:_.SNILS,onChange:function(e){_.SNILS=e.value}})]})]}),Object(d.jsxs)("div",{className:"p-field p-d-flex p-flex-wrap p-jc-start",children:[Object(d.jsx)("div",{className:"p-paragraph-field p-mr-2 p-mb-2",children:Object(d.jsx)(Ie,{checked:j,setCheck:function(e){e.checked?h.identity=new De({identity_card_type_id:Ee[0].code}):h.identity=void 0,g(e.checked)},label:Object(d.jsx)("label",{htmlFor:"identity_card_type",children:"\u0418\u043d\u043e\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442, \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u044f\u044e\u0449\u0435\u0439 \u043b\u0438\u0447\u043d\u043e\u0441\u0442\u044c: "}),field:Object(d.jsx)(fe.a,{id:"identity_card_type",value:y,autoFocus:!0,options:Ee,optionLabel:"name",onChange:function(e){m?m.identityCardType=e.value.code:h.identity=new De({identity_card_type_id:e.value.code}),C(Ee.find((function(t){return t.code===e.value.code})))}}),options:[Ce[8]],value:8})}),Object(d.jsx)("div",{className:"p-paragraph-field p-mr-2 p-mb-2",style:{marginLeft:"1.5rem"},children:Object(d.jsx)(Ie,{label:Object(d.jsx)("label",{htmlFor:"series",children:"\u0421\u0435\u0440\u0438\u044f"}),checked:j&&-1===(null===(a=h.identity)||void 0===a?void 0:a.nullFlavors.findIndex((function(e){return"series"===e.parent_attr}))),setCheck:function(e){e.checked&&h.identity?h.identity.series="":h.identity&&(h.identity.series=void 0)},field:E,field_name:"series",options:[Ce[8]],value:8,lincked:!j})},"ser_".concat(j)),Object(d.jsx)("div",{className:"p-paragraph-field p-mr-2 p-mb-2",style:{marginLeft:"1.5rem"},children:Object(d.jsx)(Ie,{label:Object(d.jsx)("label",{htmlFor:"docNumber",children:"\u041d\u043e\u043c\u0435\u0440"}),checked:j,field:S,options:[Ce[8]],value:8,lincked:!0})},"num_".concat(j)),Object(d.jsx)("div",{className:"p-paragraph-field p-mr-3 p-mb-2",style:{marginLeft:"1.5rem"},children:Object(d.jsx)(Ie,{label:Object(d.jsx)("label",{htmlFor:"issueOrgName",children:"\u041a\u0435\u043c \u0432\u044b\u0434\u0430\u043d"}),checked:j,field:Object(d.jsx)(Be.a,{id:"issueOrgName",value:null===m||void 0===m?void 0:m.issueOrgName,cols:65,rows:2,onChange:function(e){m&&(m.issueOrgName=e.target.value)}}),options:[Ce[8]],value:8,lincked:!0})},"org_".concat(j)),Object(d.jsx)("div",{className:"p-paragraph-field p-mr-2 p-mb-2",style:{marginLeft:"1.5rem"},children:Object(d.jsx)(Ie,{label:Object(d.jsx)("label",{htmlFor:"issueDate",children:"\u041a\u043e\u0433\u0434\u0430 \u0432\u044b\u0434\u0430\u043d"}),checked:j,field:Object(d.jsx)(me.a,{id:"issueDate",className:"p-mr-2",dateFormat:"dd.mm.yy",locale:"ru",mask:"99.99.9999",value:null===m||void 0===m?void 0:m.issueOrgDate,onChange:function(e){m&&(m.issueOrgDate=e.target.value)},showIcon:!0}),options:[Ce[8]],value:8,lincked:!0})},"pdiv5_".concat(j)),Object(d.jsx)("div",{className:"p-paragraph-field p-mr-2 p-mb-2",style:{marginLeft:"1.5rem"},children:Object(d.jsx)(Ie,{label:Object(d.jsx)("label",{htmlFor:"depCode",children:"\u041a\u043e\u0434 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f"}),checked:j,setCheck:function(e){e.checked&&h.identity?h.identity.issueOrgCode="":h.identity&&(h.identity.issueOrgCode=void 0)},field:I,options:[Ce[8]],value:8,lincked:!j,field_name:"issueOrgCode"})},"code_".concat(j)),Object(d.jsx)(ze.a,{type:"button",label:"\u0412\u042b\u0414\u0410\u0422\u042c",style:{height:"2.4rem"},className:"p-button-raised p-button-success",disabled:w,onClick:function(){l.participant=h,l.issueDate=h.receiptDate,c.message={severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",detail:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f \u0432\u0432\u0435\u0434\u0435\u043d\u044b, \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f, \u043f\u043e\u0441\u043b\u0435 \u0447\u0435\u0433\u043e \u0431\u0443\u0434\u0435\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u0430 \u043f\u0435\u0447\u0430\u0442\u044c.",life:3e3}}})]})]})})})})),Dt=n(98),Ft={except:["updated_at","created_at"]},Lt=Object(h.a)(Object(h.a)({},Ft),{},{include:["null_flavors"]}),Mt={only:["id","doctor","time"],include:["doctor"]},Rt={except:["diagnosis_id","updated_at","created_at"],include:["diagnosis","null_flavors"]},Pt={render_options:{except:["custodian_id","patient_id","updated_at"],include:["patient","author","legal_authenticator","audithor","a_reason","b_reason","c_reason","d_reason","death_addr","child_info","custodian","death_reasons","participant","null_flavors","latest_one"]},includes:["patient","participant","custodian","a_reason","b_reason","c_reason","d_reason","death_addr","child_info","death_reasons","latest_one"],death_addr:Lt,patient:{except:["person_id","updated_at","created_at"],include:["person","identity","null_flavors"]},identity:Lt,address:Lt,a_reason:Rt,b_reason:Rt,c_reason:Rt,d_reason:{except:["ext_diagnosis_id","updated_at","created_at"],include:["ext_diagnosis","null_flavors"]},author:Mt,legal_authenticator:Mt,audithor:Mt,death_reasons:{except:["diagnosis_id","updated_at","created_at"],include:["diagnosis","procedures","null_flavors"]},procedures:{except:["medical_serv_id","updated_at","created_at"],include:["medical_serv","null_flavors"]},child_info:{except:["related_subject_id","updated_at","created_at"],include:["related_subject","address","null_flavors"]},related_subject:{except:["person_name_id","updated_at","created_at"],include:["person_name","addr","null_flavors"]},addr:Lt,person:{except:["created_at","updated_at"],include:["person_name","address","null_flavors"]},doctor:{only:["id","person_name","position"],include:["person_name","position"]},participant:{except:["person_id","certificate_id","updated_at","created_at"],include:["person","identity"]},position:{only:["id","name"]},custodian:{only:["id","name"]},null_flavors:Ft},Ut=function(){function e(){Object(te.a)(this,e)}return Object(ne.a)(e,null,[{key:"getCertificates",value:function(){var e=Object(M.a)(L.a.mark((function e(t){var n,i,a=arguments;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:0,i=a.length>2&&void 0!==a[2]?a[2]:9,e.abrupt("return",q.post("".concat(U,"model/Certificate/"),Object(h.a)(Object(h.a)({},t),{},{offset:n,limit:i-n+1},Pt)));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCount",value:function(){var e=Object(M.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.post("".concat(U,"model/Certificate/"),Object(h.a)(Object(h.a)({},t),{},{count:"1"})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addCertificate",value:function(){var e=Object(M.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.post("".concat(U,"model/Certificate/add"),Object(h.a)({Certificate:t},Pt)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCertificate",value:function(){var e=Object(M.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.put("".concat(U,"model/Certificate/").concat(t.Certificate.id),Object(h.a)(Object(h.a)({},t),Pt)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeCertificate",value:function(){var e=Object(M.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.delete("".concat(U,"model/Certificate/").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCDA",value:function(){var e=Object(M.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.get("".concat(U,"clinical_document/").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Bt=(n(137),n(99)),Gt="\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d";function Kt(){}function zt(){return(zt=Object(M.a)(L.a.mark((function e(){var t,n,i;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(){return(i=Object(M.a)(L.a.mark((function e(n){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof n){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,window.cadesplugin.async_spawn(L.a.mark((function e(){var i,a,s,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.toString();case 3:return e.t0=e.sent,t.PlugInVersionTxt="\u0412\u0435\u0440\u0441\u0438\u044f \u043f\u043b\u0430\u0433\u0438\u043d\u0430: "+e.t0,t.PlugInEnabled=!0,e.next=8,window.cadesplugin.CreateObjectAsync("CAdESCOM.About");case 8:return i=e.sent,e.next=11,i.CSPVersion("",80);case 11:return a=e.sent,e.next=14,a.MajorVersion;case 14:return e.t1=e.sent,e.t2=e.t1+".",e.next=18,a.MinorVersion;case 18:return e.t3=e.sent,e.t4=e.t2+e.t3,e.t5=e.t4+".",e.next=23,a.BuildVersion;case 23:return e.t6=e.sent,(s=e.t5+e.t6)&&(t.CSPVersionTxt="\u0412\u0435\u0440\u0441\u0438\u044f \u043a\u0440\u0438\u043f\u0442\u043e\u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430: "+s),e.next=28,i.CSPName(80);case 28:r=e.sent,t.CspEnabled=!0,t.CspEnabledTxt="\u041a\u0440\u0438\u043f\u0442\u043e\u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440 - \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d",t.CSPNameTxt="\u041a\u0440\u0438\u043f\u0442\u043e\u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440: "+r,e.next=37;break;case 34:e.prev=34,e.t7=e.catch(0),t.CspEnabledTxt="\u041a\u0440\u0438\u043f\u0442\u043e\u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440 - \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d: "+e.t7.message;case 37:return e.abrupt("return",t);case 38:case"end":return e.stop()}}),e,null,[[0,34]])})),t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)},n=function(e){return i.apply(this,arguments)},t={PlugInEnabled:!1,PlugInEnabledTxt:"\u042d\u0426\u041f Browser plug-in - \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d",CspEnabled:!1,CspEnabledTxt:"\u041a\u0440\u0438\u043f\u0442\u043e\u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440 - \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d"},e.next=5,window.cadesplugin.async_spawn(L.a.mark((function e(){var i,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.cadesplugin.CreateObjectAsync("CAdESCOM.About");case 2:if(!(i=e.sent)){e.next=11;break}return t.PlugInEnabledTxt="\u042d\u0426\u041f Browser plug-in - \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d",e.next=7,i.PluginVersion;case 7:return a=e.sent,e.next=10,n(a);case 10:t=e.sent;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)})),t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Kt.prototype.checkQuotes=function(e){for(var t=0,n=0;n<e.length;n++)'"'===e[n]&&t++;return!(t%2)},Kt.prototype.extract=function(e,t){var n="",i=e.indexOf(t);if(i>=0){for(var a=e.indexOf(", ",i);a>0&&!this.checkQuotes(e.substr(i,a-i));)a=e.indexOf(", ",a+1);n=a<0?e.substr(i):e.substr(i,a-i)}return n},Kt.prototype.Print2Digit=function(e){return e<10?"0"+e:e},Kt.prototype.GetCertDate=function(e){var t=new Date(e);return this.Print2Digit(t.getUTCDate())+"."+this.Print2Digit(t.getUTCMonth()+1)+"."+t.getFullYear()+" "+this.Print2Digit(t.getUTCHours())+":"+this.Print2Digit(t.getUTCMinutes())+":"+this.Print2Digit(t.getUTCSeconds())},Kt.prototype.GetCertName=function(e){return this.extract(e,"CN=")},Kt.prototype.GetIssuer=function(e){return this.extract(e,"CN=")},Kt.prototype.GetCertInfoString=function(e,t){return this.extract(e,"CN=")+"; \u0412\u044b\u0434\u0430\u043d: "+this.GetCertDate(t)};var Ht=function(e){return e?"\u2705":"\u274c"};function Vt(e){return qt.apply(this,arguments)}function qt(){return(qt=Object(M.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.cadesplugin.async_spawn(L.a.mark((function e(){var n,i,a,s,r,o,c,l;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},i=Date.now(),e.t0=Date,e.next=5,t.ValidFromDate;case 5:return e.t1=e.sent,a=new e.t0(e.t1),e.t2=Date,e.next=10,t.ValidToDate;case 10:return e.t3=e.sent,s=new e.t2(e.t3),e.next=14,t.HasPrivateKey();case 14:return r=e.sent,o=!0,e.prev=16,e.next=19,t.IsValid();case 19:return c=e.sent,e.next=22,c.Result;case 22:o=e.sent,e.next=28;break;case 25:e.prev=25,e.t4=e.catch(16),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0447\u0442\u0435\u043d\u0438\u0438 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430 \u042d\u0426\u041f: "+window.cadesplugin.getLastError(e.t4));case 28:return i<a.getTime()?n.status="\u0421\u0440\u043e\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043d\u0435 \u043d\u0430\u0441\u0442\u0443\u043f\u0438\u043b":i>s.getTime()?n.status="\u0421\u0440\u043e\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0438\u0441\u0442\u0435\u043a":n.status=r?o?Gt:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0435 \u0446\u0435\u043f\u043e\u0447\u043a\u0438 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0432. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043d\u0430 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0435 \u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u044b \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u0423\u0426, \u0432\u044b\u0434\u0430\u0432\u0448\u0435\u0433\u043e \u0432\u0430\u0448 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442":"\u041d\u0435\u0442 \u043f\u0440\u0438\u0432\u044f\u0437\u043a\u0438 \u043a \u0437\u0430\u043a\u0440\u044b\u0442\u043e\u043c\u0443 \u043a\u043b\u044e\u0447\u0443",e.prev=29,l=Ht(o===Gt),e.t5=l,e.t6=new Kt,e.next=35,t.SubjectName;case 35:return e.t7=e.sent,e.t8=a,e.t9=e.t6.GetCertInfoString.call(e.t6,e.t7,e.t8),n.text=e.t5+e.t9,e.next=41,t.SerialNumber;case 41:n.serialNumber=e.sent,e.next=47;break;case 44:e.prev=44,e.t10=e.catch(29),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0447\u0442\u0435\u043d\u0438\u0438 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430 \u042d\u0426\u041f: "+window.cadesplugin.getLastError(e.t10));case 47:return e.abrupt("return",n);case 48:case"end":return e.stop()}}),e,null,[[16,25],[29,44]])})));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yt(){return(Yt=Object(M.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.cadesplugin.async_spawn(L.a.mark((function e(){var t,n,i,a,s,r,o,c,l,d,u,p,f;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,e.prev=1,e.next=4,window.cadesplugin.CreateObjectAsync("CAdESCOM.Store");case 4:if(n=e.sent){e.next=8;break}return alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0443 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0432 \u042d\u0426\u041f"),e.abrupt("return",!1);case 8:return e.next=10,n.Open();case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0430 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0432 \u042d\u0426\u041f"),t=!1;case 16:if(i={certsList:[],infoList:[]},a=void 0,s=0,!t){e.next=49;break}return e.prev=20,e.next=23,n.Certificates;case 23:return a=e.sent,e.next=26,a.Count;case 26:s=e.sent,e.next=32;break;case 29:e.prev=29,e.t1=e.catch(20),i.err="\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0441\u0432\u044f\u0437\u043a\u0438 \u042d\u0426\u041f-\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0432 \u0438\u043b\u0438 \u0438\u0445 \u0447\u0438\u0441\u043b\u0430: "+window.cadesplugin.getLastError(e.t1);case 32:r=1;case 33:if(!(r<=s)){e.next=47;break}return e.prev=34,e.next=37,a.Item(r);case 37:o=e.sent,i.certsList.push(o),e.next=44;break;case 41:e.prev=41,e.t2=e.catch(34),i.err="\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0438 \u042d\u0426\u041f-\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0432 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0430: "+window.cadesplugin.getLastError(e.t2);case 44:r++,e.next=33;break;case 47:return e.next=49,n.Close();case 49:return e.prev=49,e.next=52,n.Open(window.cadesplugin.CADESCOM_CONTAINER_STORE);case 52:return e.next=54,n.Certificates;case 54:c=e.sent,l=1;case 56:if(!(l<c.length)){e.next=81;break}return e.next=59,c.Item(l);case 59:d=e.sent,u=!1,p=0;case 62:if(!(p<a.length)){e.next=75;break}return e.next=65,a[p].SerialNumber;case 65:return e.t3=e.sent,e.next=68,d.SerialNumber;case 68:if(e.t4=e.sent,e.t3!==e.t4){e.next=72;break}return u=!0,e.abrupt("break",75);case 72:p++,e.next=62;break;case 75:if(!u){e.next=77;break}return e.abrupt("continue",78);case 77:i.certsList.push(d);case 78:l++,e.next=56;break;case 81:r=0;case 82:if(!(r<i.certsList.length)){e.next=96;break}return e.prev=83,e.next=86,Vt(i.certsList[r]);case 86:(f=e.sent)&&i.infoList.push(Object(h.a)({},f)),e.next=93;break;case 90:e.prev=90,e.t5=e.catch(83),i.err="\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0447\u0442\u0435\u043d\u0438\u0438 \u0441\u043f\u0438\u0441\u043a\u0430 \u042d\u0426\u041f-\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0432: "+window.cadesplugin.getLastError(e.t5);case 93:r++,e.next=82;break;case 96:return e.next=98,n.Close();case 98:return e.abrupt("return",i);case 101:e.prev=101,e.t6=e.catch(49),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0438 \u042d\u0426\u041f-\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0432 \u043a\u043e\u043d\u0442\u0435\u043d\u0435\u0440\u0430");case 104:case"end":return e.stop()}}),e,null,[[1,12],[20,29],[34,41],[49,101],[83,90]])})));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xt=n(101),Wt=Object(c.a)((function(){var e=Object(i.useState)(0),t=Object(p.a)(e,2),n=t[0],a=t[1],s=Object(i.useState)(),r=Object(p.a)(s,2),o=r[0],c=r[1],l=Object(i.useState)(null),u=Object(p.a)(l,2),b=u[0],v=u[1],j=Object(i.useState)(null),g=Object(p.a)(j,2),O=g[0],x=g[1],y=Object(i.useState)(),C=Object(p.a)(y,2),N=C[0],A=C[1],E=Object(i.useContext)(Mn),S=E.certificateStore,I=E.suggestionsStore,w=E.layoutStore,k=S.cert;Object(i.useEffect)((function(){null===b&&Ut.getCDA(k.id).then((function(e){v(e.data),a(1)})).catch((function(e){v("<error>".concat(e.message,"</error>"))}))}),[k.id,b,w]),Object(i.useMemo)((function(){Object(Xt.a)()}),[]),Object(i.useEffect)((function(){!o&&b&&function(){return zt.apply(this,arguments)}().then((function(e){e&&c(Object(h.a)({},e))}))}),[b,o,null===o||void 0===o?void 0:o.PlugInEnabled]),Object(i.useEffect)((function(){null===O&&o&&function(){return Yt.apply(this,arguments)}().then((function(e){x(e||null)}))})),Object(i.useEffect)((function(){o&&o.PlugInEnabled&&(I.suggestions[48].done=!0),o&&o.CspEnabled&&(I.suggestions[49].done=!0)}),[I.suggestions,o]);var T=Object(d.jsxs)("span",{children:[Object(d.jsx)(ze.a,{label:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c",icon:"pi pi-check",style:{marginRight:".25em"},disabled:!N}),Object(d.jsx)(ze.a,{label:"\u041e\u0442\u043e\u0437\u0432\u0430\u0442\u044c",icon:"pi pi-times",className:"p-button-secondary"})]});return Object(d.jsx)(f.a,{className:"c-section p-mr-2 p-mb-2",header:function(){return Object(d.jsx)("span",{children:"\u0412\u044b\u0433\u0440\u0443\u0437\u043a\u0430 \u0432 \u0420\u0420\u042d\u041c\u0414"})},footer:T,style:{paddingLeft:"1rem"},children:Object(d.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(d.jsx)(Dt.a,{model:[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c(\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c) \u0421\u042d\u041c\u0414"},{label:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c \u042d\u0426\u041f"},{label:"\u0412\u044b\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0421\u042d\u041c\u0414 \u0432 \u0420\u0420\u042d\u041c\u0414"}],activeIndex:n,className:"p-field p-col-12"}),Object(d.jsxs)("div",{className:"p-field p-col-12",children:[Object(d.jsx)("label",{htmlFor:"sign_data",children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0421\u042d\u041c\u0414"}),Object(d.jsx)("div",{id:"sign_data",style:{overflow:"auto",height:"344px",width:"100%",resize:"none",border:"1px solid #dee2e6",borderRadius:"4px",padding:"0.5rem"},children:Object(d.jsx)(Bt.a,{xml:b||"<ClinicalDocument>\u0414\u0430\u043d\u043d\u044b\u0435 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442</ClinicalDocument>",collapsible:!0})})]}),Object(d.jsx)("div",{className:"p-field p-col-12",children:Object(d.jsx)(Be.a,{value:o&&"".concat(null===o||void 0===o?void 0:o.PlugInEnabledTxt,"\n").concat((null===o||void 0===o?void 0:o.PlugInVersionTxt)||"\u0412\u0435\u0440\u0441\u0438\u044f \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0430","\n").concat(null===o||void 0===o?void 0:o.CspEnabledTxt,"\n").concat((null===o||void 0===o?void 0:o.CSPVersionTxt)||"")||"",rows:5,cols:30,disabled:!0})}),Object(d.jsxs)("div",{className:"p-field p-col-12",children:[Object(d.jsx)("label",{htmlFor:"CertListBox",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442 \u042d\u0426\u041f:"}),Object(d.jsxs)(m.a,{id:"CertListBox",value:(null===O||void 0===O?void 0:O.infoList)||[],emptyMessage:"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u042d\u0426\u041f \u0432 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435",responsiveLayout:"scroll",onSelectionChange:function(e){return A(e.value)},dataKey:"serialNumber",rowClassName:function(e){return e.status===Gt?"":"p-disabled"},isDataSelectable:function(e){return e.data.status===Gt},selection:N,children:[Object(d.jsx)(_.a,{field:"text",header:"\u0418\u0437\u0434\u0430\u0442\u0435\u043b\u044c"}),Object(d.jsx)(_.a,{field:"status",header:"\u0421\u0442\u0430\u0442\u0443\u0441"})]})]})]})})})),Zt=Object(c.a)((function(e){var t=Object(i.useContext)(Mn),n=t.certificateStore,a=t.userStore,s=t.layoutStore,r=t.suggestionsStore,o=Object(i.useState)(Number.parseInt(e.match.params.id)),c=Object(p.a)(o,2),l=c[0],u=c[1],b=Object(i.useState)(null),v=Object(p.a)(b,2),j=v[0],O=v[1];Object(i.useEffect)((function(){j&&(s.message=j,O(null))}),[s,j]),Object(i.useEffect)((function(){if(l!==n.cert.id&&-1!==l){var e=-1,t=n.certs;t.length>0&&(e=t.findIndex((function(e){return e.id===l}))),e>-1?(n.select(e),s.isLoading=!1):n.findById(l,(function(){s.isLoading=!1}))}else s.isLoading=!1}),[l,n,s,n.cert.id]),Object(i.useEffect)((function(){!s.isLoading&&s.message&&x.current&&(x.current.show(s.message),s.message=null)}),[s,s.isLoading,s.message]);var x=Object(i.useRef)(null),y=[{label:"\u041d\u0430\u0437\u0430\u0434",icon:"pi pi-chevron-left",command:function(){var t=Number.parseInt(e.location.search[e.location.search.length-1])-1;4===t&&t--,t>-1&&a.history().push("".concat(g,"/").concat(n.cert.id,"?q=").concat(t))}},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:"pi pi-trash p-danger",command:function(){s.isLoading=!0;var e=n.delete();e?e.then((function(e){s.isLoading=!1,n.clean(),u(n.cert.id),O({severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",detail:"\u0417\u0430\u043f\u0438\u0441\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u0430",life:3e3})})).catch((function(e){s.isLoading=!1,console.log(e),O(Se)})):s.isLoading=!1}},{label:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",icon:"pi pi-save p-success",command:function(){var e;if(r.suggestions[0].done&&r.suggestions[1].done){s.isLoading=!0;var t=n.save((function(e){O({severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",detail:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b",life:3e3}),u(e.id)}),(function(e){O(Se),console.log(e)}),null===(e=a.userInfo)||void 0===e?void 0:e.organization.sm_code);t?t.finally((function(){s.isLoading=!1})):(console.log("\u043d\u0435\u0442 \u044e\u0437\u0435\u0440\u0430"),s.isLoading=!1)}else O({severity:"warn",summary:"\u041e\u0422\u041a\u041b\u041e\u041d\u0415\u041d\u041e",detail:"\u0412\u043d\u0435\u0441\u0438\u0442\u0435 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u043d\u0430\u0431\u043e\u0440 \u0434\u0430\u043d\u043d\u044b\u0445: \u0432\u0438\u0434 \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430, \u0424\u0418\u041e \u0443\u043c\u0435\u0440\u0448\u0435\u0433\u043e(\u0434\u043b\u044f \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u044b\u0445)",life:6e3})}},{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",icon:"pi pi-plus",command:function(){try{n.createNew(),u(-1),O({severity:"success",summary:"\u041f\u0443\u0441\u0442\u043e\u0435  \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u043e!",detail:"\u0412\u043d\u0435\u0441\u0438\u0442\u0435 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0435, \u0447\u0442\u043e\u0431 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043d\u043e\u043c\u0435\u0440",life:3e3})}catch(e){O(Se)}}},{label:"\u0417\u0430\u043c\u0435\u043d\u0438\u0442\u044c",icon:"pi pi-sync",command:function(){if(n.cert.id<0||!n.cert.issueDate)O({severity:"warn",summary:"\u041e\u0422\u041a\u041b\u041e\u041d\u0415\u041d\u041e",detail:"\u0417\u0430\u043c\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0432\u044b\u0434\u0430\u043d\u043d\u044b\u0445 \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432"});else try{n.replace(),u(-1),O({severity:"success",summary:"C\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u0437\u0430\u043c\u0435\u043d\u0435\u043d\u043e!",detail:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0432\u0438\u0434 \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0435, \u0447\u0442\u043e\u0431 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043d\u043e\u043c\u0435\u0440",life:3e3})}catch(e){O(Se)}}},{label:"\u0414\u0430\u043b\u0435\u0435",icon:"pi pi-chevron-right",command:function(){var t=Number.parseInt(e.location.search[e.location.search.length-1])+1;4===t&&t++,t>-1&&a.history().push("".concat(g,"/").concat(n.cert.id,"?q=").concat(t))}}],C=r.redSuggestionsCount(),N=r.suggestions.filter((function(t){return t.section===e.location.search.slice(3)})),A={title:"\u041c\u0435\u0434\u0438\u0446\u0438\u043d\u0441\u043a\u043e\u0435 \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u043e \u0441\u043c\u0435\u0440\u0442\u0438",url:"".concat(g,"/").concat(l).concat(e.location.search),content:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"p-d-flex p-jc-center",children:[function(){switch(e.location.search){case"?q=0":return Object(d.jsx)(je,{});case"?q=1":return Object(d.jsx)(Pe,{});case"?q=2":return Object(d.jsx)(Ke,{});case"?q=3":return Object(d.jsx)($e,{});case"?q=5":return Object(d.jsx)(dt,{});case"?q=6":return Object(d.jsx)(ft,{});case"?q=7":return Object(d.jsx)(xt,{});case"?q=8":return Object(d.jsx)(yt,{});case"?q=9":return Object(d.jsx)(wt,{});case"?q=10":return Object(d.jsx)(Tt,{});case"?q=11":return Object(d.jsx)(Wt,{});default:return Object(d.jsx)(je,{})}}(),Object(d.jsx)(f.a,{className:"p-mr-2 p-mb-2 p-suggestion",header:function(){var e=0===C?Object(d.jsx)(he.a,{icon:"pi pi-check",shape:"circle",style:{height:"1.5rem",width:"1.5rem",backgroundColor:"rgb(104 159 56)",color:"white"}}):Object(d.jsx)(pe.a,{value:C,style:{backgroundColor:"rgb(204, 0, 0)",color:"white",marginLeft:"4px"}});return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("span",{children:"\u041a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}),e]})},children:Object(d.jsxs)(m.a,{className:"p-datatable-sm",rowClassName:function(e){return{"p-suggestion-actual":!e.done}},value:N,responsiveLayout:"scroll",children:[Object(d.jsx)(_.a,{field:"code",header:"\u041a\u043e\u0434"}),Object(d.jsx)(_.a,{field:"suggestion",header:"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430"}),Object(d.jsx)(_.a,{body:function(e){return e.done?Object(d.jsx)(he.a,{icon:"pi pi-check",shape:"circle",style:{color:"rgb(104 159 56)"}}):""}})]})},"p_sug_".concat(C))]}),Object(d.jsx)(qe.a,{ref:x})]}),actionItems:y};return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(ue,Object(h.a)({},A))})})),Qt=n(102),Jt=(n(151),n(152),n(153),n(91),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(te.a)(this,e),this._id=void 0,this._person=void 0,this._position=void 0,this._organization=void 0,this._guid=void 0,this._id=t.id,this._guid=t.guid||Object(st.a)(),this._person=t.person?new Le(t.person):new Le,this._organization=t.organization||void 0,this._position=t.position||void 0,Object(Te.e)(this,void 0,{deep:!1})}return Object(ne.a)(e,[{key:"getAttributes",value:function(){var e={guid:this._guid};return this._id&&(e.id=this._id),this._person&&(e.person_attributes=this._person.getAttributes()),this._organization&&(e.organization_id=this._organization.id),this._position&&(e.position_id=this._position.id),e}},{key:"id",get:function(){return this._id},set:function(e){this._id=e}},{key:"person",get:function(){return this._person}},{key:"guid",get:function(){return this._guid}},{key:"position",get:function(){return this._position},set:function(e){this._position=e}},{key:"organization",get:function(){return this._organization},set:function(e){this._organization=e}}]),e}()),$t=[9,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,144,145,146,149,150,195,196,197,198,449,450,451,452],en=Object(c.a)((function(){var e,t,n,s,r=Object(i.useContext)(Mn),o=r.addressStore,c=r.userStore,l={organization:null===(e=c.userInfo)||void 0===e?void 0:e.organization,guid:Object(st.a)(),person:{person_name:{family:"\u0422\u0435\u0441\u0442\u043e\u0432",given_1:"\u0422\u0435\u0441\u0442"},contacts:[],SNILS:"456-145-154 25"}},u=Object(i.useState)(new Jt(l)),f=Object(p.a)(u,2),b=f[0],v=f[1],j=Object(i.useState)([]),g=Object(p.a)(j,2),x=g[0],y=g[1],C=Object(i.useState)(!1),N=Object(p.a)(C,2),A=N[0],S=N[1],I=Object(i.useState)(!1),w=Object(p.a)(I,2),k=w[0],D=w[1],F=Object(i.useState)(!1),L=Object(p.a)(F,2),M=L[0],R=L[1],P=Object(i.useState)([]),U=Object(p.a)(P,2),B=U[0],G=U[1],K=Object(i.useState)(!1),z=Object(p.a)(K,2),H=z[0],V=z[1],q=Object(i.useState)({telcom_value:"",main:!1}),Y=Object(p.a)(q,2),X=Y[0],W=Y[1],Z=Object(i.useState)({telcom_value:"",main:!0}),Q=Object(p.a)(Z,2),J=Q[0],$=Q[1],ee=Object(i.useState)(""),te=Object(p.a)(ee,2),ne=te[0],ie=te[1],ae=Object(i.useState)([]),se=Object(p.a)(ae,2),re=se[0],oe=se[1],ce=Object(i.useRef)(null),le=Object(i.useRef)(null);Object(i.useEffect)((function(){c&&c.userInfo&&St.getDoctors({q:{organization_id_eq:c.userInfo.organization.id}}).then((function(e){y(e.data.filter((function(e){return e.position&&e.position.id in $t})))})).catch((function(){return y([])}))}),[c.userInfo]);var de=function(){b.id&&v(new Jt(l)),o.address=new We(Ze),V(!1),S(!0),W({telcom_value:"",main:!1}),$({telcom_value:"",main:!0}),ie("")},he=function(){V(!1),S(!1)},pe=function(){D(!1)},fe=function(){R(!1)},me=function(e){return x.findIndex((function(t){return t.id===e}))},be=function(){R(!0)},ve=function(e){var t=""===e.telcom_value?e.id?Object(h.a)(Object(h.a)({},e),E):Object(h.a)({},e):e.id?{id:e.id,parent_guid:e.parent_guid,telcom_use:e.telcom_use,telcom_value:e.telcom_value,main:e.main}:Object(h.a)({},e);if(void 0===b.person.contacts&&(b.person.contacts=[]),t.id){var n=b.person.contacts.findIndex((function(e){return e.id===t.id}));n>-1&&(b.person.contacts[n]=t)}else b.person.contacts.push(t)},je=Object(d.jsxs)(a.a.Fragment,{children:[Object(d.jsx)(ze.a,{label:"\u041e\u0422\u041c\u0415\u041d\u0410",icon:"pi pi-times",className:"p-button-text",onClick:he}),Object(d.jsx)(ze.a,{label:"\u0412\u041d\u0415\u0421\u0422\u0418",icon:"pi pi-check",className:"p-button-text p-button-success",onClick:function(){var e,t,n;if(V(!0),(null===(e=b.person)||void 0===e||null===(t=e.fio)||void 0===t?void 0:t.family.trim())&&(null===(n=b.person)||void 0===n?void 0:n.SNILS)&&b.position){var i=Object(Fe.a)(x);if(ve(J),ve(X),b.id){var a=me(b.id),s=function(e,t){var n,i,a,s,r,o,c,l,d;if(e.id!==t.id)return!1;var u,p,f,_,m,b={Doctor:{},audits:[]},v=function(e){var t=b.audits.filter((function(t){return t.field!==e.field}));t?(t.push(e),b.audits=t):b.audits.push(e)};(null===(n=e.position)||void 0===n?void 0:n.id)!==(null===(i=t.position)||void 0===i?void 0:i.id)&&(b.Doctor.position_id=null===(u=t.position)||void 0===u?void 0:u.id,v({field:"position",before:(null===(p=e.position)||void 0===p?void 0:p.id)+"",after:(null===(f=t.position)||void 0===f?void 0:f.id)+"",detail:"\u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c: ".concat(null===(_=e.position)||void 0===_?void 0:_.name," -> ").concat(null===(m=t.position)||void 0===m?void 0:m.name)}));var j={},g=e.person,O=t.person;(null===g||void 0===g?void 0:g.SNILS)!==(null===O||void 0===O?void 0:O.SNILS)&&(j.SNILS=null===O||void 0===O?void 0:O.SNILS,v({field:"person.SNILS",before:null===g||void 0===g?void 0:g.SNILS,after:null===O||void 0===O?void 0:O.SNILS,detail:"\u0421\u041d\u0418\u041b\u0421: ".concat(null===g||void 0===g?void 0:g.SNILS," -> ").concat(null===O||void 0===O?void 0:O.SNILS)}));var x={},y=null===g||void 0===g?void 0:g.person_name,C=null===(a=t.person)||void 0===a?void 0:a.fio;y&&C&&(y.family!==C.family&&(x.family=C.family,v({field:"person.person_name.family",before:y.family,after:C.family,detail:"\u0444\u0430\u043c\u0438\u043b\u0438\u044f: ".concat(y.family," -> ").concat(C.family)})),y.given_1!==C.given_1&&(x.given_1=C.given_1,v({field:"person.person_name.given_1",before:y.given_1,after:C.given_1,detail:"\u0438\u043c\u044f: ".concat(y.given_1," -> ").concat(C.given_1)})),y.given_2!==C.given_2&&(x.given_2=C.given_2,v({field:"person.person_name.given_2",before:y.given_2,after:C.given_2,detail:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e: ".concat(y.given_2," -> ").concat(C.given_2)}))),Object.keys(x).length>0&&t.person.fio&&(j.person_name_attributes=Object(h.a)({id:t.person.fio.id},x));var N=null===(s=g.address)||void 0===s?void 0:s.streetAddressLine,A=null===(r=O.address)||void 0===r?void 0:r.streetAddressLine;N!==A&&(j.address_attributes=O.address,v({field:"person.address",before:N,after:A,detail:"\u0430\u0434\u0440\u0435\u0441: ".concat(N," -> ").concat(A)}));var E=null===(o=g.contacts)||void 0===o?void 0:o.reduce((function(e,t){return"".concat(e," ").concat(t.telcom_value)}),"").trim(),S=null===(c=O.contacts)||void 0===c?void 0:c.reduce((function(e,t){return"".concat(e," ").concat(t.telcom_value)}),"").trim();E!==S&&(j.contacts_attributes=O.contacts,v({field:"person.contacts",before:E,after:S,detail:"\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: ".concat(E," -> ").concat(S)}));var I=null===(l=g.null_flavors)||void 0===l?void 0:l.reduce((function(e,t){return"".concat(e," ").concat(t.parent_attr).concat(t.code)}),"").trim(),w=null===(d=O.nullFlavors)||void 0===d?void 0:d.reduce((function(e,t){return"".concat(e," ").concat(t.parent_attr).concat(t.code)}),"").trim();return I!==w&&(j.null_flavor_attributes=O.null_flavors_attributes(),v({field:"person.nullFlavors",before:I,after:w,detail:"\u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b \u043f\u0440\u0438\u0447\u0438\u043d\u044b \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438"})),Object.keys(j).length>0&&(b.Doctor.person_attributes=Object(h.a)({id:g.id},j)),Object.keys(b.Doctor).length>0&&(b.Doctor.id=t.id,b)}(i[a],b);s?St.updateDoctor(s).then((function(e){i[a]=e.data,S(!1),y(i),null!==ce&&null!==ce.current&&ce.current.show({severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",detail:"\u0417\u0430\u043f\u0438\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430",life:3e3})})).catch((function(e){console.log("reason",e),S(!1),null!==ce&&null!==ce.current&&ce.current.show(Se)})):(null!==ce&&null!==ce.current&&ce.current.show({severity:"info",summary:"\u041e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u043e",detail:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442",life:3e3}),S(!1))}else St.addDoctor(b.getAttributes()).then((function(e){e.data&&(i.push(e.data),y(i),S(!1),W({telcom_value:"",main:!1}),$({telcom_value:"",main:!0}),ie(""),null!==ce&&null!==ce.current&&ce.current.show({severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",detail:"\u0417\u0430\u043f\u0438\u0441\u044c \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430",life:3e3}))})).catch((function(e){console.log("reason",e),S(!1),null!==ce&&null!==ce.current&&ce.current.show(Se)}))}}})]}),ge=Object(d.jsxs)(a.a.Fragment,{children:[Object(d.jsx)(ze.a,{label:"\u041d\u0415\u0422",icon:"pi pi-times",className:"p-button-text",onClick:pe}),Object(d.jsx)(ze.a,{label:"\u0414\u0410",icon:"pi pi-check",className:"p-button-text p-button-warning",onClick:function(){b.id&&St.removeDoctor(b.id).then((function(e){var t=x.filter((function(e){return e.id!==b.id}));y(t),D(!1),v(new Jt(l)),null!==ce&&null!==ce.current&&ce.current.show({severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",detail:"\u0417\u0430\u043f\u0438\u0441\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u0430",life:3e3})})).catch((function(e){console.log("reason",e),null!==ce&&null!==ce.current&&ce.current.show(Se)}))}})]}),Oe=Object(d.jsxs)(a.a.Fragment,{children:[Object(d.jsx)(ze.a,{label:"\u041d\u0415\u0422",icon:"pi pi-times",className:"p-button-text",onClick:fe}),Object(d.jsx)(ze.a,{label:"\u0414\u0410",icon:"pi pi-check",className:"p-button-text p-button-warning",onClick:function(){var e=x.filter((function(e){return!B.includes(e)}));y(e),R(!1),G([]),null!==ce&&null!==ce.current&&ce.current.show({severity:"success",summary:"\u0423\u0434\u0430\u0447\u043d\u043e",detail:"\u0417\u0430\u043f\u0438\u0441\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u044b",life:3e3})}})]}),xe=function(e){var t,n=null===(t=e.person)||void 0===t?void 0:t.person_name,i=Me(n);return Object(d.jsx)(d.Fragment,{children:i})},ye={title:"\u0412\u0440\u0430\u0447\u0438",url:O,content:Object(d.jsxs)("div",{children:[Object(d.jsx)(qe.a,{ref:ce}),Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)(Qt.a,{className:"p-mb-4",right:function(){return Object(d.jsxs)(a.a.Fragment,{children:[Object(d.jsx)(ze.a,{icon:"pi pi-plus",label:"\u0414\u041e\u0411\u0410\u0412\u0418\u0422\u042c",className:"p-button-success p-mr-2",onClick:de}),Object(d.jsx)(ze.a,{icon:"pi pi-trash",label:"\u0423\u0414\u0410\u041b\u0418\u0422\u042c",className:"p-button-danger",onClick:be,disabled:!B||!B.length})]})}}),Object(d.jsxs)(m.a,{ref:le,value:x,selection:B,onSelectionChange:function(e){return G(e.value)},responsiveLayout:"scroll",dataKey:"id",children:[Object(d.jsx)(_.a,{selectionMode:"multiple",headerStyle:{width:"3rem"},exportable:!1}),Object(d.jsx)(_.a,{header:"\u0424\u0418\u041e",body:xe,style:{minWidth:"10rem"}}),Object(d.jsx)(_.a,{field:"position.name",header:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"}),Object(d.jsx)(_.a,{field:"person.SNILS",header:"\u0421\u041d\u0418\u041b\u0421"}),Object(d.jsx)(_.a,{body:function(e){return Object(d.jsxs)(a.a.Fragment,{children:[Object(d.jsx)(ze.a,{icon:"pi pi-pencil",className:"p-button-rounded p-button-success p-mr-2",onClick:function(){return function(e){var t,n;$({telcom_value:"",main:!0}),W({telcom_value:"",main:!1}),e.id!==b.id&&v(new Jt(e)),null===(t=b.person.contacts)||void 0===t||t.forEach((function(e){e.main?$(Object(h.a)({},e)):W(Object(h.a)(Object(h.a)({},e),{},{telcom_value:e.telcom_value.replace("mailto:","")}))})),ie((null===(n=b.position)||void 0===n?void 0:n.name)||""),S(!0)}(e)}}),Object(d.jsx)(ze.a,{icon:"pi pi-trash",className:"p-button-rounded p-button-warning",onClick:function(){return(t=e).id!==b.id&&v(new Jt(t)),void D(!0);var t}})]})},exportable:!1,style:{minWidth:"8rem"}})]})]}),Object(d.jsx)(Ve.a,{visible:A,style:{width:"800px"},header:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0432\u0440\u0430\u0447\u0430",modal:!0,footer:je,onHide:he,children:Object(d.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(d.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(d.jsx)("label",{htmlFor:"fio",children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f, \u0418\u043c\u044f, \u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e(\u043f\u0440\u0438 \u043d\u0430\u043b\u0438\u0447\u0438\u0438)"}),Object(d.jsx)(Re,{personName:null===(t=b.person)||void 0===t?void 0:t.fio,submitted:H,onChange:function(e){b.person&&(b.person.fio=e)}})]}),Object(d.jsxs)("div",{className:"p-field  p-col-12 p-md-3",children:[Object(d.jsx)("label",{htmlFor:"snils",children:"\u0421\u041d\u0418\u041b\u0421"}),Object(d.jsx)(Ue.a,{id:"snils",type:"text",mask:"999-999-999 99",value:b.person.SNILS,onChange:function(e){b.person.SNILS=e.target.value},required:!0,className:Object(T.h)({"p-invalid":H&&!(null===(n=b.person)||void 0===n?void 0:n.SNILS)})}),H&&!(null===(s=b.person)||void 0===s?void 0:s.SNILS)&&Object(d.jsx)("small",{className:"p-error",children:"\u0421\u041d\u0418\u041b\u0421 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0435\u043d."})]}),Object(d.jsxs)("div",{className:"p-field  p-col-12 p-md-4",children:[Object(d.jsx)("label",{htmlFor:"position",children:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"}),Object(d.jsx)(He.a,{id:"position",suggestions:re,field:"name",value:b.position||ne,delay:1e3,dropdown:!0,completeMethod:function(e){var t={};e.query.trim().length>0&&(t.name_cont=e.query.trim()),St.getPositions(t).then((function(e){e.data.length>0?oe(e.data):oe([])})).catch((function(e){return console.log(e)}))},onChange:function(e){console.log("e.value",e.value),e.value.name?(b.position=e.value,ie(e.value.name)):ie(e.value)},className:Object(T.h)({"p-invalid":H&&!b.position})}),H&&!b.position&&Object(d.jsx)("small",{className:"p-error",children:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0443\u043a\u0430\u0437\u0430\u043d\u0430."})]}),Object(d.jsxs)("div",{className:"p-field  p-col-12 p-md-4",children:[Object(d.jsx)("label",{htmlFor:"phone",children:"\u0442\u0435\u043b\u0435\u0444\u043e\u043d"}),Object(d.jsx)(Ue.a,{id:"phone",type:"text",mask:"tel:+79999999999",value:J.telcom_value,onChange:function(e){$(Object(h.a)(Object(h.a)({},J),{},{telcom_value:e.target.value}))},required:!0,className:Object(T.h)({"p-invalid":H&&!/tel:\+?[-0-9().]+/i.test(J.telcom_value)})}),H&&!/tel:\+?[-0-9().]+/i.test(J.telcom_value)&&Object(d.jsx)("small",{className:"p-error",children:"\u0442\u0435\u043b.\u043d\u043e\u043c\u0435\u0440 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0435\u043d!"})]}),Object(d.jsxs)("div",{className:"p-field  p-col-12 p-md-4",children:[Object(d.jsx)("label",{htmlFor:"email",children:"email"}),Object(d.jsx)(_e.a,{id:"email",type:"text",value:X.telcom_value,onChange:function(e){W(Object(h.a)(Object(h.a)({},X),{},{telcom_value:e.target.value}))},className:Object(T.h)({"p-invalid":H&&!(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(X.telcom_value)||""===X.telcom_value)})}),H&&!(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(X.telcom_value)||""===X.telcom_value)&&Object(d.jsx)("small",{className:"p-error",children:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 email"})]}),Object(d.jsx)(Qe,{className:"p-col-12",submitted:H,label:"\u0410\u0434\u0440\u0435\u0441 \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f",value:b.person.address||Ze,strictly:!0,onClear:function(e){b.person.address=Object(h.a)({},e)},onChange:function(){return b.person.address=Object(h.a)({},o.addressProps())}})]})}),Object(d.jsx)(Ye,{}),Object(d.jsx)(Ve.a,{visible:k,style:{width:"450px"},header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435",modal:!0,footer:ge,onHide:pe,children:Object(d.jsxs)("div",{className:"confirmation-content",children:[Object(d.jsx)("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),b&&Object(d.jsxs)("span",{children:["\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c ",Object(d.jsx)("b",{children:xe}),"?"]})]})}),Object(d.jsx)(Ve.a,{visible:M,style:{width:"450px"},header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435",modal:!0,footer:Oe,onHide:fe,children:Object(d.jsxs)("div",{className:"confirmation-content",children:[Object(d.jsx)("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),b&&Object(d.jsx)("span",{children:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u043f\u0438\u0441\u0438?"})]})})]})};return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(ue,Object(h.a)({},ye))})})),tn=n(66),nn=[{code:1,name:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439"},{code:2,name:"\u0416\u0435\u043d\u0441\u043a\u0438\u0439"}],an=(n(154),n(155),{render_options:{except:["updated_at","old_oid"],include:["address","contacts"]},includes:["address","contacts"],address:{except:["updated_at","created_at"],include:["null_flavors"]}}),sn=function(){function e(){Object(te.a)(this,e)}return Object(ne.a)(e,null,[{key:"getOrganizations",value:function(){var e=Object(M.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.get("".concat(U,"auth/organizations/")));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getOrganization",value:function(){var e=Object(M.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.post("".concat(U,"/show/model/Organization/").concat(t),an));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateOrganization",value:function(){var e=Object(M.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.put("".concat(U,"model/Organization/").concat(t.Organization.id),Object(h.a)(Object(h.a)({},t),an)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),rn=Object(c.a)((function(e){var t,n,s=Object(i.useContext)(Mn),r=s.certificateStore,o=s.userStore,c=Object(i.useState)(!1),l=Object(p.a)(c,2),u=l[0],f=l[1],b=Object(i.useState)(""),v=Object(p.a)(b,2),O=v[0],x=v[1],y=Object(i.useState)(0),N=Object(p.a)(y,2),E=N[0],S=N[1],I=Object(i.useState)(),w=Object(p.a)(I,2),k=w[0],T=w[1],D=Object(i.useState)(null),F=Object(p.a)(D,2),L=F[0],M=F[1],R=(null===(t=o.userInfo)||void 0===t?void 0:t.roles.includes("MIAC"))||(null===(n=o.userInfo)||void 0===n?void 0:n.roles.includes("ADMIN"));Object(i.useEffect)((function(){null===L&&R&&sn.getOrganizations().then((function(e){return M(e.data.organizations)})).catch((function(){M([])}))}),[R,L]),de.e.locale="ru";var P=Object(i.useRef)(null),U=Object(i.useRef)(null),B=Object(i.useState)(),G=Object(p.a)(B,2),K=G[0],z=G[1];Object(i.useEffect)((function(){T({basis_determining:{value:null,matchMode:de.a.IN},custodian_id:{value:null,matchMode:de.a.IN},number:{operator:"and",constraints:[{value:null,matchMode:de.a.STARTS_WITH}]},patient_fio:{operator:"and",constraints:[{value:null,matchMode:de.a.CONTAINS}]},primory_reason:{operator:"and",constraints:[{value:null,matchMode:de.a.GREATER_THAN_OR_EQUAL_TO},{value:null,matchMode:de.a.LESS_THAN_OR_EQUAL_TO}]},patient_birth_date:{operator:"and",constraints:[{value:null,matchMode:de.a.DATE_AFTER},{value:null,matchMode:de.a.DATE_BEFORE}]},patient_death_date:{operator:"and",constraints:[{value:null,matchMode:de.a.DATE_AFTER},{value:null,matchMode:de.a.DATE_BEFORE}]},issue_date:{operator:"and",constraints:[{value:null,matchMode:de.a.DATE_AFTER},{value:null,matchMode:de.a.DATE_BEFORE}]},death_place:{value:null,matchMode:de.a.IN}})}),[]);var H=function(e){return Object(d.jsx)(ze.a,{type:"button",icon:"pi pi-times",onClick:e.filterClearCallback,className:"p-button-secondary"})},V=function(e){return Object(d.jsx)(ze.a,{type:"button",icon:"pi pi-check",onClick:e.filterApplyCallback,className:"p-button-success"})},q=R?Object(d.jsx)(_.a,{header:"\u041c\u0435\u0434. \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f",body:function(e){var t,n=null===(t=e.custodian)||void 0===t?void 0:t.name;return n?Object(d.jsx)("span",{style:{fontSize:"small"},children:n}):""},filterField:"custodian_id",showFilterMatchModes:!1,filterClear:H,filterApply:V,filter:!0,filterElement:function(e){return Object(d.jsx)(tn.a,{value:e.value,options:L||[],onChange:function(t){return e.filterCallback(t.value)},optionLabel:"name",placeholder:"\u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",className:"p-column-filter"})},style:{flexGrow:1,flexBasis:"120px"},children:" "}):Object(d.jsx)(d.Fragment,{}),Y="\u0412\u0441\u0435\u0433\u043e ".concat(r.count," \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432(\u0430)."),X={title:"\u0421\u041f\u0418\u0421\u041e\u041a \u0421\u0412\u0418\u0414\u0415\u0422\u0415\u041b\u042c\u0421\u0422\u0412",url:j,content:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(qe.a,{ref:P}),Object(d.jsx)("div",{id:"tableDiv",className:"p-card",children:Object(d.jsxs)(m.a,{ref:U,value:r.certs,responsiveLayout:"scroll",scrollDirection:"both",emptyMessage:"\u043d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445, \u0443\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u044f\u044e\u0449\u0438\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u0443",scrollable:!0,scrollHeight:"72vh",selectionMode:"single",selection:K,dataKey:"id",size:"small",footer:Y,loading:u,onSelectionChange:function(e){r.select(r.certs.findIndex((function(t){return t.id===e.value.id}))),z(e.value)},filterDisplay:"menu",onFilter:function(e){console.log("e",e);var t={},n=e.filters.issue_date;if(n&&n.constraints[0]&&n.constraints[0].value&&(t["issue_date".concat(A[n.constraints[0].matchMode])]=n.constraints[0].value),n&&n.constraints[1]&&n.constraints[1].value&&(t["issue_date".concat(A[n.constraints[1].matchMode])]=n.constraints[1].value),(n=e.filters.primory_reason)&&n.constraints[0]&&n.constraints[0].value&&(t["reason_ACME".concat(A[n.constraints[0].matchMode])]=n.constraints[0].value),n&&n.constraints[1]&&n.constraints[1].value&&(t["reason_ACME".concat(A[n.constraints[1].matchMode])]=n.constraints[1].value),(n=e.filters.patient_birth_date)&&n.constraints[0]&&n.constraints[0].value&&(t["patient_birth_date".concat(A[n.constraints[0].matchMode])]=n.constraints[0].value),n&&n.constraints[1]&&n.constraints[1].value&&(t["patient_birth_date".concat(A[n.constraints[1].matchMode])]=n.constraints[1].value),(n=e.filters.patient_death_date)&&n.constraints[0]&&n.constraints[0].value&&(t["death_datetime".concat(A[n.constraints[0].matchMode])]=n.constraints[0].value),n&&n.constraints[1]&&n.constraints[1].value&&(t["death_datetime".concat(A[n.constraints[1].matchMode])]=n.constraints[1].value),(n=e.filters.number)&&n.constraints[0]&&n.constraints[0].value&&(t["number".concat(A[n.constraints[0].matchMode])]=n.constraints[0].value),(n=e.filters.patient_fio)&&n.constraints[0]&&n.constraints[0].value&&(t["patient_fio".concat(A[n.constraints[0].matchMode])]=n.constraints[0].value),(n=e.filters.basis_determining)&&n.value){var i=n.value,a=[];i.map((function(e){return a.push(e.code)})),t.basis_determining_in=a}if((n=e.filters.death_place)&&n.value){var s=n.value,o=[];s.map((function(e){return o.push(e.code)})),t.death_place_in=o}if((n=e.filters.custodian_id)&&n.value){var c=n.value,l=[];c.map((function(e){return l.push(e.id)})),t.custodian_id_in=l}r.filters=t,f(!0),r.getList((function(){f(!1)}))},virtualScrollerOptions:{lazy:!0,onLazyLoad:function(e){f(!0),r.getList((function(){f(!1)}),e.first,e.last)},itemSize:6,delay:200},filters:k,filterLocale:"ru",onRowDoubleClick:function(){return o.history().push("".concat(g,"/").concat(r.cert.id,"?q=0"))},onSort:function(e){f(!0);var t=e.sortOrder?C[e.sortOrder]:C[0];e.sortField&&"rowNumber"!==e.sortField&&(r.sorts=["".concat(e.sortField," ").concat(t)],r.getList((function(){f(!1)}))),e.sortOrder&&S(e.sortOrder),e.sortField&&x(e.sortField)},sortField:O,sortOrder:E,children:[Object(d.jsx)(_.a,{header:"\u2116 \u043f.\u043f",body:function(e){return Object(d.jsx)("i",{children:e.rowNumber})},sortable:!0,sortField:"rowNumber",style:{flexGrow:1,flexBasis:"58px"},frozen:!0}),Object(d.jsx)(_.a,{header:"\u0421\u0435\u0440\u0438\u044f \u041d\u043e\u043c\u0435\u0440 \u0412\u0438\u0434",body:function(e){var t=ve.find((function(t){return t.code===e.cert_type}));return Object(d.jsxs)(d.Fragment,{children:[e.series," ",e.number," ",null===t||void 0===t?void 0:t.s_name]})},filterField:"number",filter:!0,filterPlaceholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043d\u043e\u043c\u0435\u0440\u0443",dataType:"text",showFilterOperator:!1,filterClear:H,filterApply:V,sortField:"number",sortable:!0,style:{flexGrow:1,flexBasis:"110px"},frozen:!0}),Object(d.jsx)(_.a,{header:"\u041f\u0440\u0438\u0447\u0438\u043d\u044b \u0441\u043c\u0435\u0440\u0442\u0438 \u0438 \u0441\u043e\u043f. \u043f\u0430\u0442\u043e\u043b\u043e\u0433\u0438\u0438",showFilterOperator:!1,filterField:"primory_reason",filterPlaceholder:"\u043a\u043e\u0434 \u041f\u041f",filter:!0,dataType:"numeric",filterClear:H,filterApply:V,style:{flexGrow:1,flexBasis:"250px"},body:function(e){var t,n,i,a,s=e.reason_ACME,r=!!s,o=null===(t=e.c_reason)||void 0===t?void 0:t.diagnosis,c=null===(n=e.a_reason)||void 0===n?void 0:n.diagnosis,l=null===(i=e.b_reason)||void 0===i?void 0:i.diagnosis,u=null===(a=e.d_reason)||void 0===a?void 0:a.ext_diagnosis,h=r&&o&&s===o.ICD10?"(\u041f\u041f-".concat(s,")").concat(o.s_name,"; "):o?"(\u0412-".concat(o.ICD10,")").concat(o.s_name,"; "):"";return h+=r&&c&&s===c.ICD10?"(\u041f\u041f-".concat(s,")").concat(c.s_name,"; "):c?"(\u0410-".concat(c.ICD10,")").concat(c.s_name,"; "):"",h+=r&&l&&s===l.ICD10?"(\u041f\u041f-".concat(s,")").concat(l.s_name,"; "):l?"(\u0411-".concat(l.ICD10,")").concat(l.s_name,"; "):"",h+=r&&u&&s===u.ICD10?"(\u041f\u041f-".concat(s,")").concat(u.s_name,"; "):u?"(\u0413-".concat(u.ICD10,")").concat(u.s_name,"; "):"",e.death_reasons&&e.death_reasons.length>0&&(h+="\u0421\u043e\u043f\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435: ",e.death_reasons.forEach((function(e){var t,n;h+="(".concat(null===(t=e.diagnosis)||void 0===t?void 0:t.ICD10,")").concat(null===(n=e.diagnosis)||void 0===n?void 0:n.s_name,"; ")}))),Object(d.jsx)("span",{style:{fontSize:"smaller"},children:h})}}),Object(d.jsx)(_.a,{header:"\u0424\u0418\u041e",body:function(e){if(!e.patient)return"";if(!e.patient.person)return"\u043d\u0435 \u0438\u0434\u0435\u043d\u0442\u0438-\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d";var t=Me(e.patient.person.person_name);return Object(d.jsx)(d.Fragment,{children:t})},sortField:"patient.person.person_name.family",dataType:"text",showFilterOperator:!1,filter:!0,filterField:"patient_fio",filterClear:H,filterApply:V,filterElement:function(e){return Object(d.jsx)(_e.a,{value:e.value,onChange:function(t){return e.filterCallback(t.target.value)},placeholder:"\u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430",className:"p-column-filter"})},sortable:!0,style:{flexGrow:1,flexBasis:"140px"}}),Object(d.jsx)(_.a,{header:"\u0414\u0420",body:function(e){var t,n="",i=null===(t=e.patient)||void 0===t?void 0:t.birth_date;return i&&(n="".concat(i.slice(8,10),".").concat(i.slice(5,7),".").concat(i.slice(0,4))),n},filter:!0,sortable:!0,showFilterOperator:!1,dataType:"date",filterPlaceholder:"\u0434\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",filterField:"patient_birth_date",sortField:"patient.birth_date",filterClear:H,filterApply:V,style:{flexGrow:1,flexBasis:"110px"},children:" "}),Object(d.jsx)(_.a,{header:"\u0414\u0421",body:function(e){var t="",n=e.death_datetime?e.death_datetime:!!e.death_year&&e.death_year.toString();return n&&n.length>4?t="".concat(null===n||void 0===n?void 0:n.slice(8,10),".").concat(n.slice(5,7),".").concat(n.slice(0,4)):n&&n.length<5&&(t=n),t},filter:!0,sortable:!0,showFilterOperator:!1,dataType:"date",filterPlaceholder:"\u0434\u0430\u0442\u0430 \u0441\u043c\u0435\u0440\u0442\u0438",filterField:"patient_death_date",sortField:"death_datetime",filterClear:H,filterApply:V,style:{flexGrow:1,flexBasis:"110px"},children:" "}),Object(d.jsx)(_.a,{header:"\u041b\u0435\u0442",body:function(e){var t,n;if(!e.death_datetime||!(null===(t=e.patient)||void 0===t?void 0:t.birth_date))return"";var i=new Date(e.death_datetime),a=new Date(null===(n=e.patient)||void 0===n?void 0:n.birth_date),s=i.getFullYear()-a.getFullYear(),r=i.getMonth()-i.getMonth();return(r<0||0===r&&i.getDate()<a.getDate())&&s--,s},style:{flexGrow:1,flexBasis:"46px"},children:" "}),Object(d.jsx)(_.a,{header:"\u041f\u043e\u043b",body:function(e){var t;return(null===(t=e.patient)||void 0===t?void 0:t.gender)?nn[e.patient.gender-1].name.slice(0,1):""},sortField:"patient.gender",sortable:!0,style:{flexGrow:1,flexBasis:"56px"},children:" "}),Object(d.jsx)(_.a,{header:"\u0410\u0434\u0440\u0435\u0441 \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f",sortable:!0,field:"patient.person.address.streetAddressLine",style:{flexGrow:1,flexBasis:"200px"},children:" "}),Object(d.jsx)(_.a,{header:"\u0410\u0434\u0440\u0435\u0441 \u0441\u043c\u0435\u0440\u0442\u0438",sortable:!0,field:"death_addr.streetAddressLine",style:{flexGrow:1,flexBasis:"200px"},children:" "}),Object(d.jsx)(_.a,{header:"\u0421\u043c\u0435\u0440\u0442\u044c \u043d\u0430\u0441\u0442\u0443\u043f\u0438\u043b\u0430",body:function(e){if(e.death_place){var t=et.find((function(t){return t.code===e.death_place}));return t?Object(d.jsx)("span",{style:{fontSize:"small"},children:t.name}):""}return""},showFilterMatchModes:!1,filterElement:function(e){return Object(d.jsx)(tn.a,{value:e.value,options:et,onChange:function(t){return e.filterCallback(t.value)},optionLabel:"name",placeholder:"\u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",className:"p-column-filter"})},filterClear:H,filterApply:V,filter:!0,filterField:"death_place",sortField:"death_place",sortable:!0,style:{flexGrow:1,flexBasis:"140px"},children:" "}),Object(d.jsx)(_.a,{header:"\u041e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f",body:function(e){if(e.basis_determining){var t=pt.find((function(t){return t.code===e.basis_determining}));return t?Object(d.jsx)("span",{style:{fontSize:"small"},children:t.name}):""}return""},sortField:"basis_determining",sortable:!0,filterField:"basis_determining",showFilterMatchModes:!1,filterClear:H,filterApply:V,filter:!0,filterElement:function(e){return Object(d.jsx)(tn.a,{value:e.value,options:pt,onChange:function(t){return e.filterCallback(t.value)},optionLabel:"name",placeholder:"\u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",className:"p-column-filter"})},style:{flexGrow:1,flexBasis:"140px"},children:" "}),q,Object(d.jsx)(_.a,{header:"\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442",body:function(e){if(e.author){var t=Me(e.author.doctor.person_name);return Object(d.jsx)("span",{style:{fontSize:"small"},children:t})}return""},style:{flexGrow:1,flexBasis:"120px"},children:" "}),Object(d.jsx)(_.a,{header:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",body:function(e){var t;return(null===(t=e.author)||void 0===t?void 0:t.doctor.position)?Object(d.jsx)("span",{style:{fontSize:"small"},children:e.author.doctor.position.name}):""},style:{flexGrow:1,flexBasis:"130px"},children:" "}),Object(d.jsx)(_.a,{header:"\u0412\u044b\u0434\u0430\u043d\u043e",body:function(e){var t=e.issue_date;return t?Object(d.jsx)("span",{style:{fontSize:"small"},children:"".concat(t.slice(8,10),".").concat(t.slice(5,7),".").concat(t.slice(0,4))}):""},showFilterOperator:!1,dataType:"date",filterField:"issue_date",sortField:"issue_date",filterPlaceholder:"\u0434\u0430\u0442\u0430 \u0432\u044b\u043f\u0443\u0441\u043a\u0430",filterClear:H,filterApply:V,filter:!0,sortable:!0,style:{flexGrow:1,flexBasis:"100px"},children:" "}),Object(d.jsx)(_.a,{body:function(e){return Object(d.jsx)(a.a.Fragment,{children:Object(d.jsx)(ze.a,{icon:"pi pi-pencil",className:"p-button-rounded p-button-success p-mr-2",onClick:function(){return o.history().push("".concat(g,"/").concat(e.id,"?q=0"))}})})},exportable:!1,style:{flexGrow:1,flexBasis:"100px"}})]})})]})};return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(ue,Object(h.a)({},X))})})),on=n.p+"static/media/security.f40a12e4.png",cn=(n(156),n(92),n(42)),ln=n(29),dn=function(){return Object(d.jsxs)("div",{className:"login-image",children:[Object(d.jsxs)("div",{className:"login-image-content",children:[Object(d.jsx)("h1",{children:"\u041c\u0435\u0434\u0438\u0446\u0438\u043d\u0441\u043a\u043e\u0435"}),Object(d.jsx)("h1",{children:"\u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e"}),Object(d.jsx)("h1",{children:"\u043e \u0441\u043c\u0435\u0440\u0442\u0438"}),Object(d.jsx)("h3",{children:"\u0432\u0435\u0440\u0441\u0438\u044f 3.0"}),Object(d.jsx)("h3",{children:"(\u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0439 CDA_R2 \u0443\u0440\u043e\u0432\u043d\u044f 3)"})]}),Object(d.jsx)("div",{className:"login-footer",children:Object(d.jsx)("p",{children:'2022 \xa9 \u0410\u041e "\u0410\u041c\u0418\u0410\u0426"'})})]})},un=Object(c.a)((function(){var e=Object(i.useState)(""),t=Object(p.a)(e,2),n=t[0],a=t[1],s=Object(i.useContext)(Mn).userStore,r=function(){var e=Object(M.a)(L.a.mark((function e(t,n){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.login(t.email,t.password);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),c=function(){var e=Object(M.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.renew_link(n);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(e){return!(!e.touched||!e.error)},u=function(e){return l(e)&&Object(d.jsx)("small",{className:"p-error",children:e.error})};return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"login-body",children:Object(d.jsxs)("div",{className:"login-wrapper",children:[Object(d.jsxs)("div",{className:"login-panel",children:[Object(d.jsx)("img",{src:on,className:"logo",alt:"logo"}),Object(d.jsxs)("div",{id:"clickForm",className:"login-form",children:[Object(d.jsx)("h2",{children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),Object(d.jsxs)("p",{children:["\u041d\u0435\u0442 \u0443\u0447\u0435\u0442\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438? ",Object(d.jsx)(o.b,{to:"/registration",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]}),Object(d.jsx)(ln.b,{onSubmit:r,initialValues:{email:"",password:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)&&a(e.email):t.email="\u041f\u043e\u043b\u0435 <Email> \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e",e.password||(t.password="\u041f\u043e\u043b\u0435 <\u041f\u0430\u0440\u043e\u043b\u044c> \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"),t},render:function(e){var t=e.handleSubmit;return Object(d.jsxs)("form",{onSubmit:t,className:"p-fluid",children:[Object(d.jsx)(ln.a,{name:"email",render:function(e){var t=e.input,n=e.meta;return Object(d.jsxs)("div",{className:"p-field",children:[Object(d.jsxs)("span",{className:"p-float-label p-input-icon-right",children:[Object(d.jsx)("i",{className:"pi pi-envelope"}),Object(d.jsx)(_e.a,Object(h.a)(Object(h.a)({id:"email",autoFocus:!0},t),{},{className:Object(T.h)({"p-invalid":l(n)})})),Object(d.jsx)("label",{htmlFor:"email",className:Object(T.h)({"p-error":l(n)}),children:"Email*"})]}),u(n)]})}}),Object(d.jsx)(ln.a,{name:"password",render:function(e){var t=e.input,n=e.meta;return Object(d.jsxs)("div",{className:"p-field",children:[Object(d.jsxs)("span",{className:"p-float-label p-input-icon-right",children:[Object(d.jsx)(cn.a,Object(h.a)(Object(h.a)({id:"password",autoComplete:"off"},t),{},{toggleMask:!0,className:Object(T.h)({"p-invalid":l(n)})})),Object(d.jsx)("label",{htmlFor:"password",className:Object(T.h)({"p-error":l(n)}),children:"\u041f\u0430\u0440\u043e\u043b\u044c*"})]}),u(n)]})}}),Object(d.jsx)(ze.a,{type:"submit",label:"\u0412\u041e\u0419\u0422\u0418",style:{marginBottom:"1rem"}}),Object(d.jsx)(ze.a,{type:"button",onClick:c,label:"\u043d\u0435 \u043f\u043e\u043c\u043d\u044e \u043f\u0430\u0440\u043e\u043b\u044c",className:"p-button-link"})]})}})]})]}),Object(d.jsx)(dn,{})]})})})})),hn=Object(c.a)((function(e){var t=Object(i.useContext)(Mn),n=t.userStore,a=t.certificateStore,s=t.layoutStore;Object(i.useEffect)((function(){n.userInfo&&(a.userInfo=n.userInfo),s.isLoading=!0,a.getList((function(){s.isLoading=!1}),0,4)}),[a,s,n.userInfo]);var r={title:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",url:b,content:n?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"p-d-flex p-flex-column p-jc-around p-flex-md-row p-flex-wrap",children:[Object(d.jsx)(ze.a,{style:{minWidth:"243px"},className:"p-mr-2 p-mb-2 p-shadow-3",label:"\u0412\u0432\u043e\u0434 \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430",title:"\u0424\u043e\u0440\u043c\u0430 \u0432\u0432\u043e\u0434\u0430 \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430",onClick:function(e){n.history().push("".concat(g,"/").concat(a.cert.id,"?q=0"))}}),Object(d.jsx)(ze.a,{style:{minWidth:"243px"},className:"p-button-secondary p-mr-2 p-mb-2 p-shadow-3",label:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0443\u0447\u0435\u0442\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438",onClick:function(e){var t;n.history().push("".concat(y,"/").concat(null===(t=n.userInfo)||void 0===t?void 0:t.organization.id))}}),Object(d.jsx)(ze.a,{style:{minWidth:"243px"},className:"p-button-secondary p-mr-2 p-mb-2 p-shadow-3",id:"reports",label:"\u041e\u0442\u0447\u0435\u0442\u044b",title:"\u0424\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0447\u0435\u0442\u043e\u0432"}),Object(d.jsx)(ze.a,{style:{minWidth:"243px"},className:"p-mr-2 p-mb-2 p-shadow-3",label:"\u041f\u0435\u0440\u0438\u043d\u0430\u0442\u0430\u043b\u044c\u043d\u043e\u0435 \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e"}),Object(d.jsx)(ze.a,{className:"p-button-secondary p-mr-2 p-mb-2 p-shadow-3",id:"repBt",style:{minWidth:"243px"},label:"\u0416\u0423\u0420\u041d\u0410\u041b",title:"\u0416\u0443\u0440\u043d\u0430\u043b \u0432\u044b\u0434\u0430\u043d\u043d\u044b\u0445 \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432 \u0438 \u043a\u043e\u043f\u0438\u0439"}),Object(d.jsx)(ze.a,{style:{minWidth:"243px"},className:"p-button-success p-mr-2 p-mb-2 p-shadow-3",label:"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432",title:"\u0421\u043f\u0438\u0441\u043e\u043a \u0432\u0432\u0435\u0434\u0435\u043d\u044b\u0445 \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432",onClick:function(e){n.history().push(j)}})]}),Object(d.jsx)(be.a,{style:{marginTop:"1rem",marginBottom:"1rem"}}),Object(d.jsx)("div",{className:"p-d-flex p-flex-column p-jc-around p-flex-md-row p-flex-wrap",children:Object(d.jsx)(f.a,{className:"p-mr-2 p-mb-2",title:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f",children:Object(d.jsxs)(m.a,{className:"p-datatable-sm",value:[{version:"3.004",record:"\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 \u0432\u043a\u043b\u0430\u0434\u043a\u0438 \u0432\u0432\u043e\u0434\u0430 \u043f\u0440\u0438\u0447\u0438\u043d; \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432\u044b\u0431\u043e\u0440\u0430 \u0436\u0434_\u0441\u0442 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0445 \u043f\u0443\u043d\u043a\u0442\u043e\u0432 \u043f\u0440\u0438 \u0432\u0432\u043e\u0434\u0435 \u0430\u0434\u0440\u0435\u0441\u0430."},{version:"3.003",record:"\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 \u0441\u043f\u0438\u0441\u043a\u0430. \u0424\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u043e \u0434\u0430\u0442\u0430\u043c \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f, \u043f\u0435\u0440\u0432\u043e\u043f\u0440\u0438\u0447\u0438\u043d\u0430\u043c, \u041c\u041e \u0432 \u0441\u043f\u0438\u0441\u043a\u0435"},{version:"3.002",record:"\u0424\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u043e \u0434\u0430\u0442\u0430\u043c \u0441\u043c\u0435\u0440\u0442\u0438 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435"},{version:"3.001",record:"\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043d\u0443\u043c\u0435\u0440\u0430\u0446\u0438\u0438 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435"},{version:"3.000",record:"\u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0439 CDA_R2 \u0443\u0440\u043e\u0432\u043d\u044f 3"}],responsiveLayout:"scroll",children:[Object(d.jsx)(_.a,{field:"version",header:"\u0412\u0435\u0440\u0441\u0438\u044f"}),Object(d.jsx)(_.a,{field:"record",header:"\u0427\u0442\u043e \u043d\u043e\u0432\u043e\u0433\u043e"})]})})})]}):Object(d.jsx)(le.a,{})};return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(ue,Object(h.a)({},r))})})),pn=n.p+"static/media/ava.ec8d39a0.jpg",fn=(n(93),function(){function e(){Object(te.a)(this,e)}return Object(ne.a)(e,null,[{key:"fetchUsers",value:function(){var e=Object(M.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.post("".concat(U,"model/User/"),{render_options:{only:["id","email","roles","organization_id","activated"]}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=Object(M.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.post("".concat(U,"/show/model/User/").concat(t),{render_options:{only:["id","roles"],include:["person_name","organization","contacts"]},includes:["person_name","organization","contacts"],organization:{only:["id","name","sm_code"]}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),_n=(n(157),n.p+"static/media/hospital.0e4a3324.jpg"),mn=Object(c.a)((function(e){var t,n=Object(i.useContext)(Mn),a=n.userStore,s=n.addressStore,r=Object(i.useState)([]),o=Object(p.a)(r,2),c=o[0],l=o[1],u=Object(i.useState)(!1),f=Object(p.a)(u,2),_=f[0],m=f[1],b=Object(i.useState)({telcom_value:"",main:!1}),v=Object(p.a)(b,2),j=v[0],g=v[1],O=Object(i.useState)({telcom_value:"",main:!0}),x=Object(p.a)(O,2),C=x[0],N=x[1],A=Object(i.useState)(null),S=Object(p.a)(A,2),I=S[0],w=S[1],k=Object(i.useState)(null),D=Object(p.a)(k,2),F=D[0],L=D[1],M=Object(i.useRef)(null);Object(i.useEffect)((function(){null!==I&&I.id!==F&&(N({telcom_value:"",main:!0}),g({telcom_value:"",main:!1}),I.contacts.forEach((function(e){e.main?N(Object(h.a)({},e)):g(Object(h.a)(Object(h.a)({},e),{},{telcom_value:e.telcom_value.replace("mailto:","")}))})),L(I.id))}),[I,F]),Object(i.useEffect)((function(){null===I&&e.match.params.id&&sn.getOrganization(e.match.params.id).then((function(e){w(e.data)})).catch((function(e){console.log(e),null!==M&&null!==M.current&&M.current.show(Se)}))}),[I,e.match.params.id,a.userInfo]);var R=Object(i.useState)(null),P=Object(p.a)(R,2),U=P[0],B=P[1];Object(i.useEffect)((function(){null===U&&a.userInfo&&a.userInfo.roles.includes("ADMIN")&&sn.getOrganizations().then((function(e){return B(e.data.organizations)})).catch((function(){B([]),null!==M&&null!==M.current&&M.current.show(Se)}))}),[U,a.userInfo]);var G=function(e,t,n,i){if(null!==I){var a=c,s=a.find((function(e){return e.field===t}))||{field:t,before:n};void 0===s.after&&a.push(s),s.after=i,s.detail="".concat(e,": ").concat(s.before," -> ").concat(s.after),l(a)}},K=function(e){if(null!==I){var t=""===e.telcom_value?e.id?Object(h.a)(Object(h.a)({},e),E):Object(h.a)({},e):e.id?{id:e.id,parent_guid:e.parent_guid,telcom_use:e.telcom_use,telcom_value:e.telcom_value,main:e.main}:Object(h.a)({},e);if(void 0===I.contacts&&(I.contacts=[]),t.id){var n=I.contacts.findIndex((function(e){return e.id===t.id}));n>-1&&(I.contacts[n]=t)}else I.contacts.push(t)}},z={title:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u043c\u0435\u0434\u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438",url:y,content:I?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"card widget-user-card",children:[Object(d.jsx)("div",{className:"user-card-header",children:Object(d.jsx)("img",{src:_n,alt:"",className:"user-card-avatar"})}),Object(d.jsxs)("div",{className:"user-card-body",children:[Object(d.jsx)("div",{className:"user-card-title",children:I.name||""}),Object(d.jsx)("div",{className:"user-card-subtext",children:I.oid}),Object(d.jsxs)("div",{className:"p-grid user-card-stats",children:[Object(d.jsxs)("div",{className:"p-col-4",children:[Object(d.jsx)("i",{className:"pi pi-users"}),Object(d.jsx)("div",{children:"14 \u0421\u043e\u0437\u0434\u0430\u043d\u043e"})]}),Object(d.jsxs)("div",{className:"p-col-4",children:[Object(d.jsx)("i",{className:"pi pi-bookmark"}),Object(d.jsx)("div",{children:"2 \u0412\u044b\u0434\u0430\u043d\u043d\u043e"})]}),Object(d.jsxs)("div",{className:"p-col-4",children:[Object(d.jsx)("i",{className:"pi pi-check-square"}),Object(d.jsx)("div",{children:"6 \u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u043e"})]})]})]}),Object(d.jsx)("div",{className:"card",style:{textAlign:"left"},children:Object(d.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(d.jsxs)("div",{className:"p-field p-col-12 p-md-5 ",children:[Object(d.jsx)("label",{htmlFor:"name",children:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"}),Object(d.jsx)(_e.a,{id:"name",required:!0,value:I.name||"",onChange:function(e){var t=Object(h.a)({},I);G("\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435","name",t.name||"",e.target.value||""),t.name=e.target.value,w(t)},autoFocus:!0,className:Object(T.h)({"p-invalid":_&&I.name&&(null===(t=I.name)||void 0===t?void 0:t.length)>100})}),_&&(!I.name||I.name&&I.name.length>100)&&Object(d.jsx)("small",{className:"p-error",children:"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0431\u043e\u043b\u0435\u0435 100 \u0437\u043d\u0430\u043a\u043e\u0432 \u0438\u043b\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"})]}),Object(d.jsxs)("div",{className:"p-field p-col-12 p-md-7",children:[Object(d.jsx)("label",{htmlFor:"name_full",children:"\u041f\u043e\u043b\u043d\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"}),Object(d.jsx)(_e.a,{id:"name_full",value:I.name_full||"",onChange:function(e){var t=Object(h.a)({},I);G("\u041f\u043e\u043b\u043d\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435","name_full",t.name||"",e.target.value||""),t.name_full=e.target.value,w(t)},required:!0,className:Object(T.h)({"p-invalid":_&&!I.name_full})}),_&&!I.name_full&&Object(d.jsx)("small",{className:"p-error",children:"\u041f\u043e\u043b\u043d\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"})]}),Object(d.jsxs)("div",{className:"p-field p-col-12",children:[Object(d.jsx)("label",{htmlFor:"license",children:"C\u0435\u0440\u0438\u044f \u0438 \u043d\u043e\u043c\u0435\u0440 \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0438 \u043d\u0430 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u0435\u043d\u0438\u0435 \u043c\u0435\u0434\u0438\u0446\u0438\u043d\u0441\u043a\u043e\u0439 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438"}),Object(d.jsx)(_e.a,{id:"license",value:I.license||"",onChange:function(e){var t=Object(h.a)({},I);G("C\u0435\u0440\u0438\u044f \u0438 \u043d\u043e\u043c\u0435\u0440 \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0438","license",t.license||"",e.target.value||""),t.license=e.target.value,w(t)}})]}),Object(d.jsxs)("div",{className:"p-field p-col-12",children:[Object(d.jsx)("label",{htmlFor:"license_data",children:"\u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u043d\u0430 \u0424\u0435\u0434\u0435\u0440\u0430\u043b\u044c\u043d\u0443\u044e \u0441\u043b\u0443\u0436\u0431\u0443 \u043f\u043e \u043d\u0430\u0434\u0437\u043e\u0440\u0443 \u0432 \u0441\u0444\u0435\u0440\u0435 \u0437\u0434\u0440\u0430\u0432\u043e\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0438 \u0434\u0430\u0442\u0443 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0438"}),Object(d.jsx)(_e.a,{id:"license_data",value:I.license_data||"",onChange:function(e){var t=Object(h.a)({},I);G("\u0414\u0430\u043d\u043d\u044b\u0435 \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0438","license_data",t.license_data||"",e.target.value||""),t.license_data=e.target.value,w(t)}})]}),Object(d.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(d.jsx)("label",{htmlFor:"okpo",children:"\u041e\u041a\u041f\u041e"}),Object(d.jsx)(_e.a,{id:"okpo",value:I.okpo||"",onChange:function(e){var t=Object(h.a)({},I);G("\u041e\u041a\u041f\u041e","okpo",t.okpo||"",e.target.value||""),t.okpo=e.target.value,w(t)}})]}),Object(d.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(d.jsx)("label",{htmlFor:"sm_code",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u0434\u0432\u0435 \u0446\u0438\u0444\u0440\u044b \u043a\u043e\u0434\u0430 \u0432 \u0422\u0424\u041e\u041c\u0421"}),Object(d.jsxs)("div",{className:"p-inputgroup",children:[Object(d.jsx)("span",{className:"p-inputgroup-addon",children:"2800"}),Object(d.jsx)(Ue.a,{mask:"99",id:"sm_code",value:I.sm_code||"",onChange:function(e){var t=Object(h.a)({},I);G("\u0422\u0424\u041e\u041c\u0421 \u043a\u043e\u0434","sm_code",t.sm_code||"",e.target.value||""),t.sm_code=e.value,w(t)}})]})]}),Object(d.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(d.jsx)("label",{htmlFor:"phone",children:"\u0442\u0435\u043b\u0435\u0444\u043e\u043d"}),Object(d.jsx)(Ue.a,{id:"phone",required:!0,type:"text",mask:"tel:+79999999999",value:C.telcom_value,onChange:function(e){G("\u0442\u0435\u043b\u0435\u0444\u043e\u043d","phone",C.telcom_value||"",e.target.value||""),N(Object(h.a)(Object(h.a)({},C),{},{telcom_value:e.target.value}))},className:Object(T.h)({"p-invalid":_&&!/tel:\+?[-0-9().]+/i.test(C.telcom_value)})}),_&&!/tel:\+?[-0-9().]+/i.test(C.telcom_value)&&Object(d.jsx)("small",{className:"p-error",children:"\u0442\u0435\u043b.\u043d\u043e\u043c\u0435\u0440 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0435\u043d \u0438\u043b\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442!"})]}),Object(d.jsxs)("div",{className:"p-field  p-col-12 p-md-6",children:[Object(d.jsx)("label",{htmlFor:"email",children:"email"}),Object(d.jsx)(_e.a,{id:"email",type:"text",value:j.telcom_value,onChange:function(e){G("email","email",j.telcom_value||"",e.target.value||""),g(Object(h.a)(Object(h.a)({},j),{},{telcom_value:e.target.value}))},className:Object(T.h)({"p-invalid":_&&!(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(j.telcom_value)||""===j.telcom_value)})}),_&&!(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(j.telcom_value)||""===j.telcom_value)&&Object(d.jsx)("small",{className:"p-error",children:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 email"})]}),Object(d.jsx)(Qe,{className:"p-col-12",submitted:_,label:"\u0410\u0434\u0440\u0435\u0441 \u043c\u0435\u0434\u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438",value:I.address,strictly:!0,onClear:function(e){return w(Object(h.a)(Object(h.a)({},I),{},{address:Object(h.a)({},e)}))},onChange:function(){var e,t,n=Object(h.a)(Object(h.a)({},I),{},{address:s.addressProps()});G("\u0410\u0434\u0440\u0435\u0441","address",(null===(e=I.address)||void 0===e?void 0:e.streetAddressLine)||"",(null===(t=n.address)||void 0===t?void 0:t.streetAddressLine)||""),w(n)}}),Object(d.jsx)("div",{className:"p-field  p-col-12 p-md-6",children:Object(d.jsx)(ze.a,{label:"\u041f\u0420\u0418\u041c\u0415\u041d\u0418\u0422\u042c",className:"p-button-success",style:{marginTop:"22px"},onClick:function(){if(null!==I)if(m(!0),function(){if(null===I)return!1;var e=c.length>0;return(e=(e=(e=e&&/tel:\+?[-0-9().]+/i.test(C.telcom_value))&&(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(j.telcom_value)||""===j.telcom_value))&&!(!I.name||!I.name&&I.name.length>100))&&!!I.name_full}()){K(C),K(j);var e={id:I.id,name:I.name,name_full:I.name_full,license:I.license||null,license_data:I.license_data||null,okpo:I.okpo||null,sm_code:I.sm_code||"00",contacts_attributes:I.contacts,address_attributes:I.address};sn.updateOrganization({Organization:e,audits:c}).then((function(e){l([]),m(!1),w(e.data),null!==M&&null!==M.current&&M.current.show({severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",detail:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u044b",life:3e3})})).catch((function(e){console.log(e),null!==M&&null!==M.current&&M.current.show(Se)}))}else null!==M&&null!==M.current&&M.current.show({severity:"info",summary:"\u041e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u043e",detail:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u0438\u043b\u0438 \u043d\u0435\u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043c\u044b",life:3e3})}})}),a.userInfo&&a.userInfo.roles.includes("ADMIN")?Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"p-field p-col-12",children:[Object(d.jsx)("label",{htmlFor:"organization",children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0435\u0434\u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e"}),Object(d.jsx)(fe.a,{id:"organization",options:U||[],onChange:function(e){if(e.value.id){var t=a.history(),n="".concat(y,"/").concat(e.value.id);w(null),t.push(n)}},filter:!0,showClear:!0,optionLabel:"name"})]})}):Object(d.jsx)(d.Fragment,{})]})})]},e.match.params.id),Object(d.jsx)(qe.a,{ref:M}),Object(d.jsx)(Ye,{})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(qe.a,{ref:M}),Object(d.jsx)(le.a,{})]})};return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(ue,Object(h.a)({},z))})})),bn=[{path:b,Component:hn},{path:"/admin",Component:function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:"AdminPage React TS FC Component"}),Object(d.jsx)("div",{children:"List"})]})}},{path:j,Component:rn},{path:"/cert/:id",Component:Zt},{path:O,Component:en},{path:"/user/:id",Component:function(e){var t=Object(i.useState)(null),n=Object(p.a)(t,2),a=n[0],s=n[1];Object(i.useEffect)((function(){null===a&&e.match.params.id&&fn.getUser(e.match.params.id).then((function(e){return s(e.data)})).catch((function(){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")}))}));var r="".concat(null===a||void 0===a?void 0:a.person_name.family," ").concat(null===a||void 0===a?void 0:a.person_name.given_1),o="".concat(null!==a&&a.roles?N[a.roles.split(" ")[0]]:""," ").concat(null===a||void 0===a?void 0:a.organization.name),c={title:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",url:x,content:Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"card widget-user-card",children:[Object(d.jsx)("div",{className:"user-card-header",children:Object(d.jsx)("img",{src:pn,alt:"",className:"user-card-avatar"})}),Object(d.jsxs)("div",{className:"user-card-body",children:[Object(d.jsx)("div",{className:"user-card-title",children:r}),Object(d.jsx)("div",{className:"user-card-subtext",children:o}),Object(d.jsxs)("div",{className:"p-grid user-card-stats",children:[Object(d.jsxs)("div",{className:"p-col-4",children:[Object(d.jsx)("i",{className:"pi pi-users"}),Object(d.jsx)("div",{children:"14 \u0421\u043e\u0437\u0434\u0430\u043d\u043e"})]}),Object(d.jsxs)("div",{className:"p-col-4",children:[Object(d.jsx)("i",{className:"pi pi-bookmark"}),Object(d.jsx)("div",{children:"2 \u0412\u044b\u0434\u0430\u043d\u043d\u043e"})]}),Object(d.jsxs)("div",{className:"p-col-4",children:[Object(d.jsx)("i",{className:"pi pi-check-square"}),Object(d.jsx)("div",{children:"6 \u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u043e"})]})]})]})]})})};return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(ue,Object(h.a)({},c))})}},{path:"/organization/:id",Component:mn},{path:v,Component:hn}],vn=[{path:v,Component:un},{path:"/registration",Component:function(){var e=Object(l.f)(),t=Object(i.useState)(null),n=Object(p.a)(t,2),a=n[0],s=n[1];Object(i.useEffect)((function(){null===a&&sn.getOrganizations().then((function(e){return s(e.data.organizations)})).catch((function(){s([]),e.push("/error/\u041e\u0448\u0438\u0431\u043a\u0430 API \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0441\u043f\u0438\u0441\u043a\u0430 \u041c\u041e")}))}),[a,e]);var r=Object(i.useContext)(Mn).userStore,o=function(){var t=Object(M.a)(L.a.mark((function t(n,i){var a,s;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a={};try{s=n.name.trim().split(" "),a.person_name_attributes={family:s[0],given_1:s[1]},s.length>2&&(a.person_name_attributes.given_2=s[2]),n.phone_number&&(a.contacts_attributes={telcom_value:n.phone_number,main:!0}),a.email=n.email,a.password=n.password,a.password_confirmation=n.password_confirmation,a.organization_id=n.organization.id,r.registration(a)}catch(i){e.push("/error/"+i.message)}case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),c=function(e){return!(!e.touched||!e.error)},u=function(e){return c(e)&&Object(d.jsx)("small",{className:"p-error",children:e.error})};return a?Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"login-body",children:Object(d.jsxs)("div",{className:"login-wrapper",children:[Object(d.jsxs)("div",{className:"login-panel",children:[Object(d.jsx)("img",{src:on,className:"logo_reg",alt:"logo"}),Object(d.jsxs)("div",{className:"login-form",children:[Object(d.jsx)("h2",{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(d.jsx)(ln.b,{onSubmit:o,initialValues:{name:"",email:"",password:"",password_confirmation:"",organization:null,phone_number:""},validate:function(e){var t={};return(!e.name||e.name.trim().split(" ").length<2)&&(t.name="\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 <\u0424\u0418\u041e> \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e"),e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 email \u041d.\u043f. example@email.com"):t.email="\u041f\u043e\u043b\u0435 <Email> \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e",e.password?e.password&&e.password!==e.password_confirmation&&(t.password_confirmation="\u043f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"):t.password="\u041f\u043e\u043b\u0435 <\u041f\u0430\u0440\u043e\u043b\u044c> \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e",null==e.organization&&(t.organization="\u041f\u043e\u043b\u0435 <\u041c\u0435\u0434\u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f> \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"),t},render:function(e){var t=e.handleSubmit;return Object(d.jsxs)("form",{onSubmit:t,className:"p-fluid",children:[Object(d.jsx)(ln.a,{name:"name",render:function(e){var t=e.input,n=e.meta;return Object(d.jsxs)("div",{className:"p-field",children:[Object(d.jsxs)("span",{className:"p-float-label p-input-icon-right",children:[Object(d.jsx)(_e.a,Object(h.a)(Object(h.a)({id:"name"},t),{},{autoFocus:!0,className:Object(T.h)({"p-invalid":c(n)})})),Object(d.jsx)("label",{htmlFor:"name",className:Object(T.h)({"p-error":c(n)}),children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f \u0438\u043c\u044f \u043e\u0442\u0447\u0435\u0441\u0442\u0432\u043e*"})]}),u(n)]})}}),Object(d.jsx)(ln.a,{name:"email",render:function(e){var t=e.input,n=e.meta;return Object(d.jsxs)("div",{className:"p-field",children:[Object(d.jsxs)("span",{className:"p-float-label p-input-icon-right",children:[Object(d.jsx)("i",{className:"pi pi-envelope"}),Object(d.jsx)(_e.a,Object(h.a)(Object(h.a)({id:"email"},t),{},{className:Object(T.h)({"p-invalid":c(n)})})),Object(d.jsx)("label",{htmlFor:"email",className:Object(T.h)({"p-error":c(n)}),children:"Email*"})]}),u(n)]})}}),Object(d.jsx)(ln.a,{name:"password",render:function(e){var t=e.input,n=e.meta;return Object(d.jsxs)("div",{className:"p-field",children:[Object(d.jsxs)("span",{className:"p-float-label p-input-icon-right",children:[Object(d.jsx)(cn.a,Object(h.a)(Object(h.a)({id:"password"},t),{},{toggleMask:!0,className:Object(T.h)({"p-invalid":c(n)})})),Object(d.jsx)("label",{htmlFor:"password",className:Object(T.h)({"p-error":c(n)}),children:"\u041f\u0430\u0440\u043e\u043b\u044c*"})]}),u(n)]})}}),Object(d.jsx)(ln.a,{name:"password_confirmation",render:function(e){var t=e.input,n=e.meta;return Object(d.jsxs)("div",{className:"p-field",children:[Object(d.jsxs)("span",{className:"p-float-label p-input-icon-right",children:[Object(d.jsx)(cn.a,Object(h.a)(Object(h.a)({id:"password_confirmation"},t),{},{toggleMask:!0,className:Object(T.h)({"p-invalid":c(n)})})),Object(d.jsx)("label",{htmlFor:"password_confirmation",className:Object(T.h)({"p-error":c(n)}),children:"\u0415\u0449\u0435 \u0440\u0430\u0437 \u043f\u0430\u0440\u043e\u043b\u044c*"})]}),u(n)]})}}),Object(d.jsx)(ln.a,{name:"organization",render:function(e){var t=e.input,n=e.meta;return Object(d.jsxs)("div",{className:"p-field",children:[Object(d.jsxs)("span",{className:"p-float-label",children:[Object(d.jsx)(fe.a,Object(h.a)(Object(h.a)({id:"organization"},t),{},{options:a,filter:!0,showClear:!0,optionLabel:"name",className:"p-inputwrapper p-inputwrapper-filled"})),Object(d.jsx)("label",{htmlFor:"organization",className:Object(T.h)({"p-error":c(n)}),children:"\u041c\u0435\u0434\u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f*"})]}),u(n)]})}}),Object(d.jsx)(ln.a,{name:"phone",render:function(e){var t=e.input,n=e.meta;return Object(d.jsxs)("div",{className:"p-field",children:[Object(d.jsxs)("span",{className:"p-float-label p-input-icon-right",children:[Object(d.jsx)("i",{className:"pi pi-phone"}),Object(d.jsx)(Ue.a,Object(h.a)(Object(h.a)({id:"phone"},t),{},{mask:"+7(999) 999-9999",className:Object(T.h)({"p-invalid":c(n)})})),Object(d.jsx)("label",{htmlFor:"phone",className:Object(T.h)({"p-error":c(n)}),children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440"})]}),u(n)]})}}),Object(d.jsx)(ze.a,{type:"submit",label:"\u0414\u0410\u041b\u0415\u0415"})]})}})]})]}),Object(d.jsx)(dn,{})]})})}):Object(d.jsx)(d.Fragment,{})}},{path:"/pwd_recovery/:code",Component:function(e){var t=Object(i.useContext)(Mn).userStore,n=function(e){return!(!e.touched||!e.error)},a=function(e){return n(e)&&Object(d.jsx)("small",{className:"p-error",children:e.error})};return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"login-body",children:Object(d.jsxs)("div",{className:"login-wrapper",children:[Object(d.jsxs)("div",{className:"login-panel",children:[Object(d.jsx)("img",{src:on,className:"logo",alt:"logo"}),Object(d.jsxs)("div",{className:"login-form",children:[Object(d.jsx)("h2",{children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(d.jsx)(ln.b,{onSubmit:function(e,n){t.pwd_renew(e)},initialValues:{activation_link:e.match.params.code,password:"",password_confirmation:""},validate:function(e){var t={};return e.password?e.password&&e.password!==e.password_confirmation&&(t.password_confirmation="\u043f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"):t.password="\u041f\u043e\u043b\u0435 <\u041f\u0430\u0440\u043e\u043b\u044c> \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e",t},render:function(e){var t=e.handleSubmit;return Object(d.jsxs)("form",{onSubmit:t,className:"p-fluid",children:[Object(d.jsx)(ln.a,{name:"password",render:function(e){var t=e.input,i=e.meta;return Object(d.jsxs)("div",{className:"p-field",children:[Object(d.jsxs)("span",{className:"p-float-label p-input-icon-right",children:[Object(d.jsx)(cn.a,Object(h.a)(Object(h.a)({id:"password",autoComplete:"off"},t),{},{toggleMask:!0,className:Object(T.h)({"p-invalid":n(i)})})),Object(d.jsx)("label",{htmlFor:"password",className:Object(T.h)({"p-error":n(i)}),children:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c*"})]}),a(i)]})}}),Object(d.jsx)(ln.a,{name:"password_confirmation",render:function(e){var t=e.input,i=e.meta;return Object(d.jsxs)("div",{className:"p-field",children:[Object(d.jsxs)("span",{className:"p-float-label p-input-icon-right",children:[Object(d.jsx)(cn.a,Object(h.a)(Object(h.a)({id:"password_confirmation"},t),{},{toggleMask:!0,className:Object(T.h)({"p-invalid":n(i)})})),Object(d.jsx)("label",{htmlFor:"password_confirmation",className:Object(T.h)({"p-error":n(i)}),children:"\u0415\u0449\u0435 \u0440\u0430\u0437 \u043f\u0430\u0440\u043e\u043b\u044c*"})]}),a(i)]})}}),Object(d.jsx)(ze.a,{type:"submit",label:"\u0418\u0417\u041c\u0415\u041d\u0418\u0422\u042c"})]})}})]})]}),Object(d.jsx)(dn,{})]})})})}},{path:b,Component:un}],jn=[{path:"/message/:message",Component:function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435:"}),Object(d.jsxs)("div",{children:[e.match.params.message,"!"]})]})}},{path:"/error/:error",Component:function(e){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"error-body",children:Object(d.jsxs)("div",{className:"erpage-block",children:[Object(d.jsx)("h1",{children:"\u041e\u0448\u0438\u0431\u043a\u0430!"}),Object(d.jsx)("div",{children:e.match.params.error})]})})})}}],gn=Object(c.a)((function(){var e=Object(l.f)(),t=Object(i.useContext)(Mn).userStore,n=t.token(),a=t.isAuth();t.setHistory(e),Object(i.useEffect)((function(){n.length>0&&!a&&t.checkAuth()}),[n,t,a]);var s=t.isAuth()||n.length>0?bn:vn;return Object(d.jsxs)(l.c,{children:[s.map((function(e){var t=e.path,n=e.Component;return Object(d.jsx)(l.a,{path:t,component:n,exact:!0},t)})),jn.map((function(e){var t=e.path,n=e.Component;return Object(d.jsx)(l.a,{path:t,component:n,exact:!0},t)})),Object(d.jsx)(l.a,{component:u})]})})),On=(n(158),n(159),n(160),function(){return Object(d.jsx)(o.a,{children:Object(d.jsx)(gn,{})})}),xn=function(){function e(){Object(te.a)(this,e),this._address=void 0,this._isLoding=void 0,this._history=void 0,this._regionsOptions=void 0,this._fiasOptions=void 0,this._dialogVisible=void 0,this._manualMode=void 0,this._onAddrComplete=void 0,this._isLoding=!1,this._address=new We(Ze),this._dialogVisible=!1,this._manualMode=!1,Object(Te.e)(this)}return Object(ne.a)(e,[{key:"fetchRegionOptions",value:function(){var e=this,t=localStorage.getItem("Regions");t?(this._regionsOptions=JSON.parse(t),this.defaultRegion()):Xe.getRegions().then((function(t){e._regionsOptions=t.data.data.map((function(e){var t;return{code:null===(t=e.code)||void 0===t?void 0:t.substr(0,2),name:e.streetAddressLine}})),localStorage.setItem("Regions",JSON.stringify(e._regionsOptions)),e.defaultRegion()})).finally((function(){return e._isLoding=!1}))}},{key:"searchBar",value:function(){var e=Object(M.a)(L.a.mark((function e(t){var n,i,a=arguments;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:xe,this._isLoding=!0,e.prev=2,e.next=5,Xe.searchBar(t,n);case 5:return(i=e.sent).data.data?this._fiasOptions=i.data.data:this._fiasOptions=[],e.abrupt("return",this._fiasOptions);case 10:return e.prev=10,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",[]);case 14:return e.prev=14,this._isLoding=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[2,10,14,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"defaultRegion",value:function(){var e;return null===(e=this._regionsOptions)||void 0===e?void 0:e.find((function(e){return e.code===xe}))}},{key:"getChildItems",value:function(){var e=Object(M.a)(L.a.mark((function e(t,n){var i,a,s=arguments;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>2&&void 0!==s[2]?s[2]:"",this._isLoding=!0,e.prev=2,e.next=5,Xe.getChildItems(t,n,i);case 5:return(a=e.sent).data.data?this._fiasOptions=a.data.data.map((function(e){return"building"!==e.level&&(e.name="".concat(e.name," ").concat(e.shortname)),e})):this._fiasOptions=[],e.abrupt("return",this._fiasOptions);case 8:return e.prev=8,this._isLoding=!1,e.finish(8);case 11:case"end":return e.stop()}}),e,this,[[2,,8,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"streetAddressLine",value:function(){var e=this._address;return"".concat(e.streetAddressLine).concat(e.flat?", "+e.flat:"").concat(e.postalCode?", "+e.postalCode:"")}},{key:"createNullFlavors",value:function(){var e=this._address;return ke("postalCode",e.postalCode,e.nullFlavors),ke("aoGUID",e.aoGUID,e.nullFlavors),ke("houseGUID",e.houseGUID,e.nullFlavors),e.null_flavors_attributes()}},{key:"isNotStrictly",value:function(){var e=this._address;return!e.aoGUID||!e.houseGUID||!e.postalCode}},{key:"addressProps",value:function(){var e,t=this._address,n={id:t.id,state:null===(e=t.state)||void 0===e?void 0:e.code,streetAddressLine:this.streetAddressLine(),aoGUID:t.aoGUID,houseGUID:t.houseGUID,postalCode:t.postalCode,house_number:t.housenum,struct_number:t.strucnum,building_number:t.buildnum,flat_number:t.flat,parent_guid:t.parent,null_flavors_attributes:Object(Fe.a)(this.createNullFlavors())};return At(n)}},{key:"history",get:function(){return this._history},set:function(e){this._history=e}},{key:"isLoading",get:function(){return this._isLoding},set:function(e){this._isLoding=e}},{key:"address",get:function(){return this._address},set:function(e){this._address=e}},{key:"regionsOptions",get:function(){return this._regionsOptions}},{key:"fiasOptions",get:function(){return this._fiasOptions}},{key:"clear",value:function(){var e;void 0!==this._address&&(this._address.postalCode=void 0,this._address.district=void 0,this._address.city=void 0,this._address.houseGUID=void 0,this._address.aoGUID=void 0,this._address.street=void 0,this._address.town=void 0,this._address.housenum=void 0,this._address.buildnum=void 0,this._address.strucnum=void 0,this._address.streetAddressLine=(null===(e=this._address.state)||void 0===e?void 0:e.name)+", "||!1)}},{key:"dialogVisible",get:function(){return this._dialogVisible},set:function(e){this._dialogVisible=e}},{key:"manualMode",get:function(){return this._manualMode},set:function(e){this._manualMode=e}},{key:"onAddrComplete",get:function(){return this._onAddrComplete},set:function(e){this._onAddrComplete=e}}]),e}(),yn=function(){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(te.a)(this,e),this._id=void 0,this._person=void 0,this._gender=void 0,this._birth_date=void 0,this._birth_year=void 0,this._provider_organization=void 0,this._addrType=void 0,this._guid=void 0,this._identity=void 0,this._nullFlavors=void 0,this._oldOne=void 0,this._guid=n.guid||Object(st.a)(),this._oldOne=Object(h.a)({},n),n.person&&(this._person=new Le(n.person)),this._provider_organization=n.organization_id,n.gender&&(this._gender=n.gender),this._addrType=n.addr_type||1,n.birth_date&&(this._birth_date=new Date(n.birth_date)),n.id&&(this._id=n.id),n.birth_year&&(this._birth_year=n.birth_year),n.identity&&(this._identity=new De(n.identity)),this._nullFlavors=(null===(t=n.null_flavors)||void 0===t?void 0:t.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{code:Ne[e.code]})})))||[],Object(Te.e)(this,void 0,{deep:!1})}return Object(ne.a)(e,[{key:"getAttributes",value:function(){var e,t,n={guid:this._guid};return this._id&&(n.id=this.id),this._addrType&&(n.addr_type=this._addrType),this._birth_date&&(n.birth_date=this._birth_date.toDateString()),this._birth_year&&(n.birth_year=this._birth_year),this._gender&&(n.gender=this._gender),this._identity?n.identity_attributes=this._identity.getAttributes():(null===(e=this._oldOne)||void 0===e||null===(t=e.identity)||void 0===t?void 0:t.id)&&(n.identity_attributes={id:this._oldOne.identity.id,_destroy:"1"}),this._provider_organization&&(n.organization_id=this._provider_organization),this._person?n.person_attributes=this._person.getAttributes():n.person_id=null,this.nullFlavors.length>0&&(n.null_flavors_attributes=this.null_flavors_attributes()),n}},{key:"id",get:function(){return this._id},set:function(e){this._id=e}},{key:"person",get:function(){return this._person},set:function(e){this._person=e}},{key:"gender",get:function(){return this._gender},set:function(e){this._gender=e}},{key:"birth_date",get:function(){return this._birth_date},set:function(e){this._birth_date=e}},{key:"guid",get:function(){return this._guid}},{key:"nullFlavors",get:function(){return this._nullFlavors},set:function(e){this._nullFlavors=e}},{key:"null_flavors_attributes",value:function(){return this._nullFlavors.map((function(e){return Object(h.a)({},e)}))}},{key:"addr_type",get:function(){return this._addrType},set:function(e){this._addrType=e}},{key:"provider_organization",get:function(){return this._provider_organization},set:function(e){this._provider_organization=e}},{key:"birth_year",get:function(){return this._birth_year},set:function(e){this._birth_year=e}},{key:"identity",get:function(){return this._identity},set:function(e){this._identity=e}},{key:"setBirthDay",value:function(e,t){e&&!t?(void 0===this._birth_date&&(this.nullFlavors=this.nullFlavors.filter((function(e){return"birth_date"!==e.parent_attr}))),this.birth_date=e,this.birth_year=void 0):e&&t?(void 0===this.birth_date&&(this.nullFlavors=this.nullFlavors.filter((function(e){return"birth_date"!==e.parent_attr}))),this.birth_date=e,this.birth_year=this.birth_date.getFullYear()):(this.birth_date=void 0,this.birth_year=void 0)}}]),e}(),Cn=function(){function e(t){var n,i,a,s,r=this;Object(te.a)(this,e),this._id=void 0,this._series=void 0,this._number=void 0,this._issueDate=void 0,this._certType=void 0,this._seriesPrev=void 0,this._numberPrev=void 0,this._effTimePrev=void 0,this._patient=void 0,this._lifeAreaType=void 0,this._deathAreaType=void 0,this._deathDatetime=void 0,this._deathYear=void 0,this._deathMonth=void 0,this._deathPlace=void 0,this._maritalStatus=void 0,this._educationLevel=void 0,this._socialStatus=void 0,this._deathKind=void 0,this._extReasonTime=void 0,this._extReasonDescription=void 0,this._reasonA=void 0,this._reasonB=void 0,this._reasonC=void 0,this._reasonD=void 0,this._deathReasons=void 0,this._reasonACME=void 0,this._deathAddr=void 0,this._guid=void 0,this._policyOMS=void 0,this._childInfo=void 0,this._establishedMedic=void 0,this._basisDetermining=void 0,this._trafficAccident=void 0,this._pregnancyConnection=void 0,this._author=void 0,this._audithor=void 0,this._legalAuthenticator=void 0,this._nullFlavors=void 0,this._audits=void 0,this._custodian_id=void 0,this._participant=void 0,this._oldOne=void 0,this._latestOne=void 0,this.disposers=void 0,t.null_flavors&&t.null_flavors.length>0?this._nullFlavors=t.null_flavors.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{code:Ne[e.code]})})):this._nullFlavors=[],this._oldOne=Object(h.a)({},t),this._latestOne=t.latest_one,this._audits=[],this._id=t.id||-1,this._guid=t.guid||Object(st.a)(),this._custodian_id=(null===(n=t.custodian)||void 0===n?void 0:n.id)||(null===(i=t.patient)||void 0===i?void 0:i.organization_id),this._patient=t.patient?new yn(t.patient):new yn,t.issue_date&&(this._issueDate=new Date(t.issue_date)),this._certType=t.cert_type,this._series=t.series||"10",this._number=t.number,t.death_datetime&&(this._deathDatetime=new Date(t.death_datetime)),this._deathYear=t.death_year,this._numberPrev=t.number_prev,this._seriesPrev=t.series_prev,this._policyOMS=t.policy_OMS,this._lifeAreaType=t.life_area_type,this._deathAreaType=t.death_area_type,this._deathAddr=Object(h.a)(Object(h.a)({},t.death_addr),{},{null_flavors_attributes:(null===(a=t.death_addr)||void 0===a||null===(s=a.null_flavors)||void 0===s?void 0:s.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{code:Ne[e.code]})})))||[]}),this._deathPlace=t.death_place,this._deathKind=t.death_kind,this._educationLevel=t.education_level,this._maritalStatus=t.marital_status,this._socialStatus=t.social_status,t.eff_time_prev&&(this._effTimePrev=new Date(t.eff_time_prev)),t.child_info&&(this._childInfo=new ot(t.child_info)),t.author&&(this._author=new It(t.author)),t.audithor&&(this._audithor=new It(t.audithor)),t.legal_authenticator&&(this._legalAuthenticator=new It(t.legal_authenticator)),t.ext_reason_time&&(this._extReasonTime=new Date(t.ext_reason_time)),this._extReasonDescription=t.ext_reason_description,this._establishedMedic=t.established_medic,this._basisDetermining=t.basis_determining,this._trafficAccident=t.traffic_accident,this._pregnancyConnection=t.pregnancy_connection,t.a_reason?this._reasonA=new mt(t.a_reason):this._reasonA=new mt({}),t.b_reason&&(this._reasonB=new mt(t.b_reason)),t.c_reason&&(this._reasonC=new mt(t.c_reason)),t.reason_ACME&&this.changeReasonACME(t.reason_ACME),t.d_reason&&(this._reasonD=new mt(t.d_reason)),t.death_reasons?this._deathReasons=t.death_reasons.map((function(e){return new mt(e)})):this._deathReasons=[],t.participant&&(this._participant=new kt(t.participant)),Object(Te.e)(this,void 0,{deep:!1}),this.disposers=[],this.disposers[0]=Object(Te.b)((function(){return ke("b_reason",r.reasonB,r._nullFlavors,8)})),this.disposers[1]=Object(Te.b)((function(){return ke("c_reason",r._reasonC,r._nullFlavors,8)})),this.disposers[2]=Object(Te.b)((function(){return ke("d_reason",r.reasonD,r._nullFlavors,8)}))}return Object(ne.a)(e,[{key:"null_flavors_attributes",value:function(){return this._nullFlavors.map((function(e){return Object(h.a)({},e)}))}},{key:"changeReasonACME",value:function(e){var t,n,i,a,s,r;e&&""!==e?e===(null===(t=this._reasonA)||void 0===t||null===(n=t.diagnosis)||void 0===n?void 0:n.ICD10)?this._reasonACME=this._reasonA:e===(null===(i=this._reasonB)||void 0===i||null===(a=i.diagnosis)||void 0===a?void 0:a.ICD10)?this._reasonACME=this._reasonB:e===(null===(s=this._reasonC)||void 0===s||null===(r=s.diagnosis)||void 0===r?void 0:r.ICD10)?this._reasonACME=this._reasonC:this._reasonACME=void 0:this._reasonACME=void 0}},{key:"milisecAge",value:function(){var e=this._patient.birth_date;if(void 0===e)return!1;var t=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes()),n=this._deathDatetime;return void 0!==n&&Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes())-t}},{key:"hoursAge",value:function(){var e=this.milisecAge();return!!e&&Math.floor(e/36e5)}},{key:"daysAge",value:function(){var e=this.milisecAge();return!!e&&Math.floor(e/864e5)}},{key:"yearsAge",value:function(){var e=this._deathDatetime,t=this._patient.birth_date;return!(!e||!t)&&e.getFullYear()-t.getFullYear()}},{key:"setDeathDay",value:function(e,t){e&&!t?(this.deathDatetime=e,this.deathYear=void 0):e&&t?(this.deathDatetime=e,this.deathYear=this.deathDatetime.getFullYear()):(this.deathDatetime=void 0,this.deathYear=void 0)}},{key:"saveReasonEffTime",value:function(e){if(!this._deathDatetime)return!1;var t=new Date(this._deathDatetime);return e.minutes&&t.setMinutes(t.getMinutes()-e.minutes),e.hours&&t.setHours(t.getHours()-e.hours),e.days&&t.setDate(t.getDate()-e.days),e.weeks&&t.setDate(t.getDate()-7*e.weeks),e.months&&t.setMonth(t.getMonth()-e.months),e.years&&t.setFullYear(t.getFullYear()-e.years),e.effectiveTime=t,!0}},{key:"getAttributes",value:function(){var e,t,n,i,a,s,r,o,c,l,d={guid:this._guid};(this._id>-1&&(d.id=this._id),this._issueDate&&(d.issue_date=this._issueDate.toDateString()),d.number_prev=this._numberPrev,d.series_prev=this._seriesPrev,d.eff_time_prev=null===(e=this._effTimePrev)||void 0===e?void 0:e.toDateString(),this._audithor)?(d.audithor_attributes=this._audithor.getAttributes(),!d.audithor_attributes.id&&(null===(a=this._oldOne)||void 0===a||null===(s=a.audithor)||void 0===s?void 0:s.id)&&(d.audithor_attributes.id=this._oldOne.audithor.id)):this._oldOne&&this._oldOne.audithor&&(d.audithor_attributes={id:this._oldOne.audithor.id,_destroy:"1"});this._author?(d.author_attributes=this._author.getAttributes(),!d.author_attributes.id&&(null===(r=this._oldOne)||void 0===r||null===(o=r.author)||void 0===o?void 0:o.id)&&(d.author_attributes.id=this._oldOne.author.id)):this._oldOne&&this._oldOne.author&&(d.author_attributes={id:this._oldOne.author.id,_destroy:"1"});this._legalAuthenticator?(d.legal_authenticator_attributes=this._legalAuthenticator.getAttributes(),!d.legal_authenticator_attributes.id&&(null===(c=this._oldOne)||void 0===c||null===(l=c.legal_authenticator)||void 0===l?void 0:l.id)&&(d.legal_authenticator_attributes.id=this._oldOne.legal_authenticator.id)):this._oldOne&&this._oldOne.legal_authenticator&&(d.legal_authenticator_attributes={id:this._oldOne.legal_authenticator.id,_destroy:"1"});if(this._basisDetermining&&(d.basis_determining=this._basisDetermining),this._certType&&(d.cert_type=this._certType),this._childInfo?d.child_info_attributes=this._childInfo.getAttributes():this._oldOne&&this._oldOne.child_info&&(d.child_info_attributes={_destroy:"1"}),this._deathAddr&&this._deathAddr.state&&this._deathAddr.streetAddressLine?d.death_addr_attributes=Object(h.a)({},this._deathAddr):this._oldOne&&this._oldOne.death_addr&&(d.death_addr_attributes={id:this._oldOne.death_addr.id,_destroy:"1"}),this._deathAreaType&&(d.death_area_type=this._deathAreaType),this._deathDatetime&&(d.death_datetime=this._deathDatetime),this._deathYear&&(d.death_year=this._deathYear),this._deathKind&&(d.death_kind=this._deathKind),this._deathPlace&&(d.death_place=this.deathPlace),this._deathReasons.length>0&&(d.death_reasons_attributes=this._deathReasons.map((function(e){return e.getAttributes()}))),(null===(t=this._oldOne)||void 0===t?void 0:t.death_reasons)&&this._oldOne.death_reasons.length>0){var u=[];this._oldOne.death_reasons.forEach((function(e){d.death_reasons_attributes&&-1!==d.death_reasons_attributes.findIndex((function(t){return t.id===e.id}))||u.push({id:e.id,_destroy:"1"})})),d.death_reasons_attributes&&u.length>0?d.death_reasons_attributes=d.death_reasons_attributes.concat(u):u.length>0&&(d.death_reasons_attributes=u)}return this._educationLevel&&(d.education_level=this._educationLevel),this._establishedMedic&&(d.established_medic=this._establishedMedic),this._extReasonDescription&&(d.ext_reason_description=this.extReasonDescription),this._extReasonTime&&(d.ext_reason_time=this._extReasonTime),this._lifeAreaType&&(d.life_area_type=this._lifeAreaType),this._policyOMS&&(d.policy_OMS=this._policyOMS),this._pregnancyConnection&&(d.pregnancy_connection=this.pregnancyConnection),this._maritalStatus&&(d.marital_status=this._maritalStatus),this.nullFlavors.length>0&&(d.null_flavors_attributes=this.null_flavors_attributes()),this._reasonA&&this._reasonA.diagnosis?d.a_reason_attributes=this._reasonA.getAttributes():this._oldOne&&this._oldOne.a_reason&&(d.a_reason_attributes={id:this._oldOne.a_reason.id,_destroy:"1"}),this._reasonACME&&(d.reason_ACME=null===(n=this._reasonACME.diagnosis)||void 0===n?void 0:n.ICD10),this._reasonB&&this._reasonB.diagnosis?d.b_reason_attributes=this._reasonB.getAttributes():this._oldOne&&this._oldOne.b_reason&&(d.b_reason_attributes={id:this._oldOne.b_reason.id,_destroy:"1"}),this._reasonC&&this._reasonC.diagnosis?d.c_reason_attributes=this._reasonC.getAttributes():this._oldOne&&this._oldOne.c_reason&&(d.c_reason_attributes={id:this._oldOne.c_reason.id,_destroy:"1"}),this._reasonD&&this._reasonD.diagnosis?d.d_reason_attributes=this._reasonD.getAttributes(!0):this._oldOne&&this._oldOne.d_reason&&(d.d_reason_attributes={id:this._oldOne.d_reason.id,_destroy:"1"}),this._series&&(d.series=this._series),this._socialStatus&&(d.social_status=this._socialStatus),this._trafficAccident&&(d.traffic_accident=this._trafficAccident),this._patient&&(d.patient_attributes=this._patient.getAttributes()),d.custodian_id=this._custodian_id||(null===(i=d.patient_attributes)||void 0===i?void 0:i.organization_id),this._participant&&(d.participant_attributes=this._participant.getAttributes()),d}},{key:"id",get:function(){return this._id},set:function(e){this._id=e}},{key:"series",get:function(){return this._series},set:function(e){this._series=e}},{key:"number",get:function(){return this._number},set:function(e){this._number=e}},{key:"issueDate",get:function(){return this._issueDate},set:function(e){this._issueDate=e}},{key:"deathDatetime",get:function(){return this._deathDatetime},set:function(e){this._deathDatetime=e}},{key:"certType",get:function(){return this._certType},set:function(e){this._certType=e}},{key:"seriesPrev",get:function(){return this._seriesPrev},set:function(e){this._seriesPrev=e}},{key:"numberPrev",get:function(){return this._numberPrev},set:function(e){this._numberPrev=e}},{key:"guid",get:function(){return this._guid}},{key:"author",get:function(){return this._author},set:function(e){this._author=e}},{key:"authenticator",get:function(){return this._audithor},set:function(e){this._audithor=e}},{key:"legalAuthenticator",get:function(){return this._legalAuthenticator},set:function(e){this._legalAuthenticator=e}},{key:"extReasonTime",get:function(){return this._extReasonTime},set:function(e){this._extReasonTime=e}},{key:"establishedMedic",get:function(){return this._establishedMedic},set:function(e){this._establishedMedic=e}},{key:"basisDetermining",get:function(){return this._basisDetermining},set:function(e){this._basisDetermining=e}},{key:"trafficAccident",get:function(){return this._trafficAccident},set:function(e){this._trafficAccident=e}},{key:"pregnancyConnection",get:function(){return this._pregnancyConnection},set:function(e){this._pregnancyConnection=e}},{key:"patient",get:function(){return this._patient}},{key:"effTimePrev",get:function(){return this._effTimePrev},set:function(e){this._effTimePrev=e}},{key:"deathYear",get:function(){return this._deathYear},set:function(e){this._deathYear=e}},{key:"policyOMS",get:function(){return this._policyOMS||""},set:function(e){this._policyOMS=e}},{key:"lifeAreaType",get:function(){return this._lifeAreaType},set:function(e){this._lifeAreaType=e}},{key:"deathAreaType",get:function(){return this._deathAreaType},set:function(e){this._deathAreaType=e}},{key:"deathAddr",get:function(){return this._deathAddr},set:function(e){this._deathAddr=e}},{key:"deathKind",get:function(){return this._deathKind},set:function(e){this._deathKind=e}},{key:"socialStatus",get:function(){return this._socialStatus},set:function(e){this._socialStatus=e}},{key:"educationLevel",get:function(){return this._educationLevel},set:function(e){this._educationLevel=e}},{key:"maritalStatus",get:function(){return this._maritalStatus},set:function(e){this._maritalStatus=e}},{key:"deathPlace",get:function(){return this._deathPlace},set:function(e){this._deathPlace=e}},{key:"deathMonth",get:function(){return this._deathMonth},set:function(e){this._deathMonth=e}},{key:"childInfo",get:function(){return this._childInfo},set:function(e){this._childInfo=e}},{key:"extReasonDescription",get:function(){return this._extReasonDescription},set:function(e){this._extReasonDescription=e}},{key:"reasonA",get:function(){return this._reasonA},set:function(e){this._reasonA=e}},{key:"reasonB",get:function(){return this._reasonB},set:function(e){this._reasonB=e}},{key:"reasonC",get:function(){return this._reasonC},set:function(e){this._reasonC=e}},{key:"reasonD",get:function(){return this._reasonD},set:function(e){this._reasonD=e}},{key:"reasonACME",get:function(){return this._reasonACME},set:function(e){this._reasonACME=e}},{key:"deathReasons",get:function(){return this._deathReasons},set:function(e){this._deathReasons=e}},{key:"audits",get:function(){return this._audits}},{key:"nullFlavors",get:function(){return this._nullFlavors},set:function(e){this._nullFlavors=e}},{key:"participant",get:function(){return this._participant},set:function(e){this._participant=e}},{key:"latestOne",get:function(){return this._latestOne},set:function(e){this._latestOne=e}},{key:"oldOne",get:function(){return this._oldOne}},{key:"dispose",value:function(){this.disposers.forEach((function(e){return e()}))}}]),e}();Object(Te.c)({enforceActions:"never"});var Nn=function(){function e(){var t,n,i=this;Object(te.a)(this,e),this._cert=void 0,this._submitted=void 0,this._userInfo=void 0,this._certs=void 0,this._selected=void 0,this._sorts=void 0,this._filters=void 0,this._first=void 0,this._last=void 0,this._rows=void 0,this._count=void 0,this._needFetch=void 0,this.disposers=void 0,this._submitted=!1,this.disposers=[],this._certs=[],this._filters={},this._first=0,this._last=0,this._rows=0,this._count=0,this._needFetch=!0,this._cert=new Cn({custodian:null===(t=this._userInfo)||void 0===t?void 0:t.organization,patient:{organization_id:null===(n=this._userInfo)||void 0===n?void 0:n.organization.id,identity:{identity_card_type_id:Ee[0].code},person:{person_name:{family:"",given_1:"",given_2:""}}}}),this._selected=0,Object(Te.e)(this,void 0,{deep:!1}),this.disposers[0]=Object(Te.b)((function(){var e,t=Object(h.a)({},i._filters);i._userInfo&&!i._userInfo.roles.includes("MIAC")&&(t.custodian_id_eq=null===(e=i._userInfo)||void 0===e?void 0:e.organization.id),i._filters&&(i._needFetch=!0,Ut.getCount({q:t}).then((function(e){i._count=e.data})).catch((function(e){return console.log(e)})))})),this.disposers[1]=Object(Te.b)((function(){i._sorts&&(i._needFetch=!0)}))}return Object(ne.a)(e,[{key:"cert",get:function(){return this._cert},set:function(e){this._cert=e}},{key:"submitted",get:function(){return this._submitted},set:function(e){this._submitted=e}},{key:"certs",get:function(){return this._certs.map((function(e){return Object(h.a)({},e)}))}},{key:"userInfo",get:function(){return this._userInfo},set:function(e){this._userInfo=e}},{key:"sorts",get:function(){return this._sorts},set:function(e){this._sorts=e}},{key:"filters",get:function(){return this._filters},set:function(e){this._filters=e}},{key:"first",get:function(){return this._first},set:function(e){this._first=e}},{key:"rows",get:function(){return this._rows},set:function(e){this._rows=e}},{key:"count",get:function(){return this._count},set:function(e){this._count=e}},{key:"createNew",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._cert=new Cn({id:n,custodian:null===(e=this._userInfo)||void 0===e?void 0:e.organization,patient:{organization_id:null===(t=this._userInfo)||void 0===t?void 0:t.organization.id,identity:{identity_card_type_id:Ee[0].code},person:{person_name:{family:"",given_1:"",given_2:""}}}})}},{key:"replace",value:function(){var e,t,n,i,a,s,r=this,o=this._certs.find((function(e){return e.id===r._cert.id}));o&&(this._cert=new Cn({id:-1,custodian:o.custodian,patient:o.patient,basis_determining:o.basis_determining,cert_type:1===o.cert_type?4:3,death_area_type:o.death_area_type,death_kind:o.death_kind,death_datetime:o.death_datetime,death_place:o.death_place,death_year:o.death_year,education_level:o.education_level,eff_time_prev:o.issue_date,established_medic:o.established_medic,ext_reason_description:o.ext_reason_description,ext_reason_time:o.ext_reason_time,life_area_type:o.life_area_type,marital_status:o.marital_status,number_prev:o.number,policy_OMS:o.policy_OMS,pregnancy_connection:o.pregnancy_connection,reason_ACME:o.reason_ACME,series_prev:o.series,social_status:o.social_status,traffic_accident:o.traffic_accident}),o.a_reason?this._cert.reasonA=new mt({days:o.a_reason.days,diagnosis:o.a_reason.diagnosis,effective_time:o.a_reason.effective_time,hours:o.a_reason.hours,null_flavors:null===(e=o.a_reason.null_flavors)||void 0===e?void 0:e.map((function(e){return{code:e.code,parent_attr:e.parent_attr}})),minutes:o.a_reason.minutes,months:o.a_reason.months,years:o.a_reason.years,weeks:o.a_reason.weeks}):this._cert.reasonA=new mt({}),o.b_reason&&(this._cert.reasonB=new mt({days:o.b_reason.days,diagnosis:o.b_reason.diagnosis,effective_time:o.b_reason.effective_time,hours:o.b_reason.hours,null_flavors:null===(t=o.b_reason.null_flavors)||void 0===t?void 0:t.map((function(e){return{code:e.code,parent_attr:e.parent_attr}})),minutes:o.b_reason.minutes,months:o.b_reason.months,years:o.b_reason.years,weeks:o.b_reason.weeks})),o.c_reason&&(this._cert.reasonC=new mt({days:o.c_reason.days,diagnosis:o.c_reason.diagnosis,effective_time:o.c_reason.effective_time,hours:o.c_reason.hours,null_flavors:null===(n=o.c_reason.null_flavors)||void 0===n?void 0:n.map((function(e){return{code:e.code,parent_attr:e.parent_attr}})),minutes:o.c_reason.minutes,months:o.c_reason.months,years:o.c_reason.years,weeks:o.c_reason.weeks})),o.d_reason&&(this._cert.reasonD=new mt({days:o.d_reason.days,diagnosis:o.d_reason.ext_diagnosis,effective_time:o.d_reason.effective_time,hours:o.d_reason.hours,null_flavors:null===(i=o.d_reason.null_flavors)||void 0===i?void 0:i.map((function(e){return{code:e.code,parent_attr:e.parent_attr}})),minutes:o.d_reason.minutes,months:o.d_reason.months,years:o.d_reason.years,weeks:o.d_reason.weeks})),o.death_reasons?this._cert.deathReasons=o.death_reasons.map((function(e){var t,n;return new mt({days:e.days,diagnosis:e.diagnosis,effective_time:e.effective_time,hours:e.hours,null_flavors:null===(t=e.null_flavors)||void 0===t?void 0:t.map((function(e){return{code:e.code,parent_attr:e.parent_attr}})),minutes:e.minutes,months:e.months,years:e.years,weeks:e.weeks,procedures:null===(n=e.procedures)||void 0===n?void 0:n.map((function(e){var t;return{effective_time:e.effective_time,medical_serv:e.medical_serv,text_value:e.text_value,null_flavors:null===(t=e.null_flavors)||void 0===t?void 0:t.map((function(e){return{code:e.code,parent_attr:e.parent_attr}}))}}))})})):this._cert.deathReasons=[],o.death_addr&&(this._cert.deathAddr=Object(h.a)(Object(h.a)({},o.death_addr),{},{null_flavors_attributes:(null===(a=o.death_addr)||void 0===a||null===(s=a.null_flavors)||void 0===s?void 0:s.map((function(e){return{parent_attr:e.parent_attr,code:Ne[e.code]}})))||[],id:void 0,parent_guid:void 0,null_flavors:null})),o.latest_one=this._cert.oldOne)}},{key:"save",value:function(e,t,n){var i,a=this;if(!this._userInfo)return!1;this._cert.patient.provider_organization||(this._cert.patient.provider_organization=null===(i=this.userInfo)||void 0===i?void 0:i.organization.id);var s,r,o=this._cert.getAttributes();!o.id&&n&&(o.number=n,(null===(s=o.patient_attributes)||void 0===s?void 0:s.id)&&(o.patient_id=null===(r=o.patient_attributes)||void 0===r?void 0:r.id,o.patient_attributes=void 0));return o.id?Ut.updateCertificate({Certificate:o}).then((function(n){var i=n.data;if(i){var s=a._certs.findIndex((function(e){return e.id===i.id}));a._certs[s]=i,a.select(s),e&&e(i)}else t&&t("\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e, \u043d\u043e \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435 \u0432\u0435\u0440\u043d\u0443\u043b \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442. \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u044b\u0439 \u0432\u0445\u043e\u0434 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443")})).catch((function(e){t&&t(e)})):Ut.addCertificate(o).then((function(n){var i=n.data;if(i){var s=a._certs.length;a._certs.push(i),a.select(s),e&&e(i)}else t&&t("C\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e, \u043d\u043e \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435 \u0432\u0435\u0440\u043d\u0443\u043b \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442. \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u044b\u0439 \u0432\u0445\u043e\u0434 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443")})).catch((function(e){t&&t(e)}))}},{key:"delete",value:function(){return-1!==this._cert.id&&Ut.removeCertificate(this._cert.id)}},{key:"clean",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._selected;try{this._certs.splice(e);var t=this._certs.length;t>0?this.select(this._selected>t-1?t-1:this._selected):(this.createNew(-1),this._selected=0)}catch(n){throw Error("Not valid certificate number")}}},{key:"select",value:function(e){this._cert=new Cn(this._certs[e]),this._selected=e}},{key:"getList",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._first,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._first+this._rows,s=Object(h.a)(Object(h.a)({},this._filters),{},{sorts:this._sorts});if(this._userInfo&&!this._userInfo.roles.includes("MIAC"))s.custodian_id_eq=null===(t=this._userInfo)||void 0===t?void 0:t.organization.id;else if(!this._userInfo)return!1;var r=!this._needFetch&&i===this.first;Ut.getCertificates({q:s},r?this._last+1:i,a).then((function(e){if(!r||!n._needFetch){var t=r?n._certs.length:0,i=r?n._certs.concat(e.data.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{rowNumber:++t})}))):e.data.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{rowNumber:++t})}));n._certs=i;var a=e.data.length;a>0&&(n._rows=n._certs.length,n._needFetch=!1,n.select(n._selected>a?a-1:n._selected))}})).catch((function(e){return console.log(e)})).finally((function(){e&&e()})),this._first=i,this._last=a}},{key:"findById",value:function(e,t){var n=this;if(!this._userInfo)return!1;Ut.getCertificates({q:{custodian_id_eq:this._userInfo.organization.id,id_eq:e}}).then((function(e){e.data&&e.data.length>0&&(n._cert=new Cn(e.data[0])),e.data&&(n.certs.push(e.data[0]),n.select(0))})).catch((function(e){return console.log(e)})).finally((function(){t&&t()}))}},{key:"dispose",value:function(){this.disposers.forEach((function(e){return e()}))}}]),e}(),An=function(){function e(){Object(te.a)(this,e),this._isTabletOrMobile=void 0,this._isLayoutStaticInactive=void 0,this._isRightSidebarActive=void 0,this._isProfileMenuActive=void 0,this._isNotificationsMenuActive=void 0,this._isLoading=void 0,this._message=void 0,this._isTabletOrMobile=!1,this._isLayoutStaticInactive=!1,this._isRightSidebarActive=!1,this._isProfileMenuActive=!1,this._isNotificationsMenuActive=!1,this._isLoading=!1,this._message=null,Object(Te.e)(this)}return Object(ne.a)(e,[{key:"setTabletOrMobile",value:function(e){this._isTabletOrMobile=e}},{key:"tabletOrMobile",value:function(){return this._isTabletOrMobile}},{key:"sideBarToggle",value:function(){this._isLayoutStaticInactive=!this._isLayoutStaticInactive}},{key:"setLayoutStaticInactive",value:function(e){this._isLayoutStaticInactive=e}},{key:"layoutStaticInactive",value:function(){return this._isLayoutStaticInactive}},{key:"rightSideBarActive",value:function(){return this._isRightSidebarActive}},{key:"setRightSideBarActive",value:function(e){this._isRightSidebarActive=e}},{key:"profileMenuActive",value:function(){return this._isProfileMenuActive}},{key:"setProfileMenuActive",value:function(e){this._isProfileMenuActive=e}},{key:"notificationsMenuActive",value:function(){return this._isNotificationsMenuActive}},{key:"setNotificationsMenuActive",value:function(e){this._isNotificationsMenuActive=e}},{key:"isLoading",get:function(){return this._isLoading},set:function(e){this._isLoading=e}},{key:"message",get:function(){return this._message},set:function(e){this._message=e}}]),e}(),En=function(){function e(t){var n=this;Object(te.a)(this,e),this._cStore=void 0,this._suggestions=void 0,this._identified=void 0,this._fromRelatives=void 0,this.disposers=void 0,this._cStore=t,this.disposers=[],this._identified=!0,this._fromRelatives=!1,this._suggestions=ye,Object(Te.e)(this),this.disposers[0]=Object(Te.b)((function(){n._suggestions[0].done=!!n._cStore.cert.certType})),this.disposers[1]=Object(Te.b)((function(){n._suggestions[2].done=!!n._cStore.cert.patient.gender})),this.disposers[2]=Object(Te.b)((function(){if(n._cStore.cert){var e=n._cStore.cert.patient,t=!e.birth_date&&-1===e.nullFlavors.findIndex((function(e){return"birth_date"===e.parent_attr&&!e._destroy}));n._suggestions[3].done=!t}})),this.disposers[3]=Object(Te.b)((function(){if(n._cStore.cert){var e=n._cStore.cert,t=!e.deathDatetime&&-1===e.nullFlavors.findIndex((function(e){return"death_datetime"===e.parent_attr}));n._suggestions[4].done=!t}})),this.disposers[4]=Object(Te.b)((function(){if(n._cStore.cert){var e=n._cStore.cert.patient.person,t=!e&&n._identified||e&&(!e.SNILS||e.SNILS.length<14)&&-1===e.nullFlavors.findIndex((function(e){return"SNILS"===e.parent_attr}));n._suggestions[10].done=!t}})),this.disposers[5]=Object(Te.b)((function(){if(n._cStore.cert){var e=n._cStore.cert.policyOMS,t=(!e||e.length<7)&&-1===n._cStore.cert.nullFlavors.findIndex((function(e){return"policy_OMS"===e.parent_attr}));n._suggestions[11].done=!t}})),this.disposers[6]=Object(Te.b)((function(){if(n._cStore.cert){var e=n._cStore.cert.patient,t=e.identity,i=null===t||void 0===t?void 0:t.issueOrgCode,a=!t&&-1===e.nullFlavors.findIndex((function(e){return"identity"===e.parent_attr}))||t&&(!i||i.length<1)&&-1===t.nullFlavors.findIndex((function(e){return"issueOrgCode"===e.parent_attr}));n._suggestions[9].done=!a}})),this.disposers[7]=Object(Te.b)((function(){var e;if(n._cStore.cert){var t=n._cStore.cert.patient,i=!t.identity&&-1===t.nullFlavors.findIndex((function(e){return"identity"===e.parent_attr}))||t.identity&&!(null===(e=t.identity)||void 0===e?void 0:e.issueOrgDate);n._suggestions[8].done=!i}})),this.disposers[8]=Object(Te.b)((function(){var e;if(n._cStore.cert){var t=n._cStore.cert.patient,i=!t.identity&&-1===t.nullFlavors.findIndex((function(e){return"identity"===e.parent_attr}))||t.identity&&(!(null===(e=t.identity)||void 0===e?void 0:e.issueOrgName)||t.identity.issueOrgName.length<15);n._suggestions[7].done=!i}})),this.disposers[9]=Object(Te.b)((function(){var e;if(n._cStore.cert){var t=n._cStore.cert.patient,i=t.identity,a=null===(e=t.identity)||void 0===e?void 0:e.series,s=!i&&-1===t.nullFlavors.findIndex((function(e){return"identity"===e.parent_attr}))||i&&(!a||a.length<1)&&-1===i.nullFlavors.findIndex((function(e){return"series"===e.parent_attr}));n._suggestions[5].done=!s}})),this.disposers[10]=Object(Te.b)((function(){if(n._cStore.cert){var e=n._cStore.cert.patient,t=!e.identity&&-1===e.nullFlavors.findIndex((function(e){return"identity"===e.parent_attr&&!e._destroy}))||e.identity&&!e.identity.number;n._suggestions[6].done=!t}})),this.disposers[11]=Object(Te.b)((function(){var e=n._cStore.cert.patient.person,t=!e&&n._identified||e&&(!e.address||!e.address.streetAddressLine||e.address.streetAddressLine.split(",").length<3)&&-1===e.nullFlavors.findIndex((function(e){return"address"===e.parent_attr}));n._suggestions[12].done=!t})),this.disposers[12]=Object(Te.b)((function(){var e=(!n._cStore.cert.deathAddr||!n._cStore.cert.deathAddr.streetAddressLine||n._cStore.cert.deathAddr.streetAddressLine.split(",").length<3)&&-1===n._cStore.cert.nullFlavors.findIndex((function(e){return"death_addr"===e.parent_attr}));n._suggestions[14].done=!e})),this.disposers[13]=Object(Te.b)((function(){if(n._cStore.cert){var e=void 0===n._cStore.cert.deathAreaType&&-1===n._cStore.cert.nullFlavors.findIndex((function(e){return"death_area_type"===e.parent_attr}));n._suggestions[15].done=!e}})),this.disposers[14]=Object(Te.b)((function(){if(n._cStore.cert){var e=void 0===n._cStore.cert.lifeAreaType&&-1===n._cStore.cert.nullFlavors.findIndex((function(e){return"life_area_type"===e.parent_attr}));n._suggestions[13].done=!e}})),this.disposers[15]=Object(Te.b)((function(){n._cStore.cert&&(n._suggestions[16].done=void 0!==n._cStore.cert.deathPlace)})),this.disposers[16]=Object(Te.b)((function(){if(n._cStore.cert){var e=n._cStore.cert.childInfo,t=void 0===e||void 0!==e.termPregnancy||-1!==e.nullFlavors.findIndex((function(e){return"term_pregnancy"===e.parent_attr}));n._suggestions[17].done=t}})),this.disposers[17]=Object(Te.b)((function(){if(n._cStore.cert){var e=n._cStore.cert.childInfo,t=void 0===e||void 0!==e.weight;n._suggestions[18].done=t}})),this.disposers[18]=Object(Te.b)((function(){if(n._cStore.cert){var e=n._cStore.cert.childInfo,t=!e||!!e.whichAccount;n._suggestions[19].done=t}})),this.disposers[19]=Object(Te.b)((function(){if(n._cStore.cert){var e=n._cStore.cert.childInfo,t=!e||!!e.relatedSubject&&(-1!==e.relatedSubject.nullFlavors.findIndex((function(e){return"person_name"===e.parent_attr}))||!!e.relatedSubject.fio);n._suggestions[20].done=t}})),this.disposers[20]=Object(Te.b)((function(){if(n._cStore.cert){var e=n._cStore.cert.childInfo,t=!e||!!e.relatedSubject&&(-1!==e.relatedSubject.nullFlavors.findIndex((function(e){return"birthTime"===e.parent_attr}))||!!e.relatedSubject.birthTime);n._suggestions[21].done=t}})),this.disposers[21]=Object(Te.b)((function(){if(n._cStore.cert){var e=n._cStore.cert.childInfo,t=!e||!!e.relatedSubject&&(-1!==e.relatedSubject.nullFlavors.findIndex((function(e){return"addr"===e.parent_attr}))||!!e.relatedSubject.addr&&!!e.relatedSubject.addr.houseGUID);n._suggestions[22].done=t}})),this.disposers[22]=Object(Te.b)((function(){n._suggestions[23].done=!!n._cStore.cert&&!!n._cStore.cert.maritalStatus})),this.disposers[23]=Object(Te.b)((function(){n._suggestions[24].done=!!n._cStore.cert&&!!n._cStore.cert.educationLevel})),this.disposers[24]=Object(Te.b)((function(){n._suggestions[25].done=!!n._cStore.cert&&!!n._cStore.cert.socialStatus})),this.disposers[25]=Object(Te.b)((function(){n._suggestions[26].done=!!n._cStore.cert&&!!n._cStore.cert.deathKind})),this.disposers[26]=Object(Te.b)((function(){n._cStore.cert&&(n._suggestions[27].done=!!n._cStore.cert.deathKind&&1===n._cStore.cert.deathKind||!!n._cStore.cert.extReasonTime&&!!n._cStore.cert.extReasonDescription)})),this.disposers[27]=Object(Te.b)((function(){n._cStore.cert&&(n._suggestions[28].done=!!n._cStore.cert.establishedMedic)})),this.disposers[28]=Object(Te.b)((function(){n._cStore.cert&&(n._suggestions[29].done=!!n._cStore.cert.basisDetermining)})),this.disposers[29]=Object(Te.b)((function(){var e;n._cStore.cert&&(n._suggestions[30].done=!!(null===(e=n._cStore.cert.reasonA)||void 0===e?void 0:e.diagnosis))})),this.disposers[30]=Object(Te.b)((function(){var e,t;n._cStore.cert&&(n._suggestions[31].done=!!(null===(e=n._cStore.cert.reasonA)||void 0===e?void 0:e.effectiveTime)||-1!==(null===(t=n._cStore.cert.reasonA)||void 0===t?void 0:t.nullFlavors.findIndex((function(e){return"effective_time"===e.parent_attr&&!e._destroy}))))})),this.disposers[31]=Object(Te.b)((function(){var e;n._cStore.cert&&(n._suggestions[32].done=!!(null===(e=n._cStore.cert.reasonB)||void 0===e?void 0:e.diagnosis)||-1!==n._cStore.cert.nullFlavors.findIndex((function(e){return"b_reason"===e.parent_attr&&!e._destroy})))})),this.disposers[32]=Object(Te.b)((function(){var e;n._cStore.cert&&(n._suggestions[33].done=!n._cStore.cert.reasonB||!!n._cStore.cert.reasonB.effectiveTime||-1!==(null===(e=n._cStore.cert.reasonB)||void 0===e?void 0:e.nullFlavors.findIndex((function(e){return"effective_time"===e.parent_attr&&!e._destroy}))))})),this.disposers[33]=Object(Te.b)((function(){var e;n._cStore.cert&&(n._suggestions[34].done=!!(null===(e=n._cStore.cert.reasonC)||void 0===e?void 0:e.diagnosis)||-1!==n._cStore.cert.nullFlavors.findIndex((function(e){return"c_reason"===e.parent_attr&&!e._destroy})))})),this.disposers[34]=Object(Te.b)((function(){var e;n._cStore.cert&&(n._suggestions[35].done=!n._cStore.cert.reasonC||!!n._cStore.cert.reasonC.effectiveTime||-1!==(null===(e=n._cStore.cert.reasonC)||void 0===e?void 0:e.nullFlavors.findIndex((function(e){return"effective_time"===e.parent_attr&&!e._destroy}))))})),this.disposers[35]=Object(Te.b)((function(){var e;n._cStore.cert&&(n._suggestions[36].done=void 0!==(null===(e=n._cStore.cert.reasonD)||void 0===e?void 0:e.diagnosis)||-1!==n._cStore.cert.nullFlavors.findIndex((function(e){return"d_reason"===e.parent_attr&&!e._destroy})))})),this.disposers[36]=Object(Te.b)((function(){var e;n._cStore.cert&&(n._suggestions[37].done=!n._cStore.cert.reasonD||!!n._cStore.cert.reasonD.effectiveTime||-1!==(null===(e=n._cStore.cert.reasonD)||void 0===e?void 0:e.nullFlavors.findIndex((function(e){return"effective_time"===e.parent_attr&&!e._destroy}))))})),this.disposers[37]=Object(Te.b)((function(){n._cStore.cert&&(n._suggestions[40].done=!!n._cStore.cert.trafficAccident||-1!==n._cStore.cert.nullFlavors.findIndex((function(e){return"traffic_accident"===e.parent_attr&&!e._destroy})))})),this.disposers[38]=Object(Te.b)((function(){n._cStore.cert&&(n._suggestions[41].done=!!n._cStore.cert.pregnancyConnection||-1!==n._cStore.cert.nullFlavors.findIndex((function(e){return"pregnancy_connection"===e.parent_attr&&!e._destroy})))})),this.disposers[39]=Object(Te.b)((function(){n._cStore.cert&&(n._suggestions[42].done=!!n._cStore.cert.author)})),this.disposers[40]=Object(Te.b)((function(){n._cStore.cert&&(n._suggestions[44].done=!!n._cStore.cert.authenticator)})),this.disposers[41]=Object(Te.b)((function(){n._cStore.cert&&(n._suggestions[43].done=!!n._cStore.cert.legalAuthenticator)})),this.disposers[42]=Object(Te.b)((function(){n._identified=!!n._cStore.cert.patient.person||-1===n._cStore.cert.patient.nullFlavors.findIndex((function(e){return"person"===e.parent_attr&&!e._destroy}))})),this.disposers[43]=Object(Te.b)((function(){n._cStore.cert&&(n._fromRelatives=n._identified&&n._cStore.cert.patient&&!n._cStore.cert.patient.identity)})),this.disposers[44]=Object(Te.b)((function(){var e,t=null===(e=n._cStore.cert.patient)||void 0===e?void 0:e.person,i=null===t||void 0===t?void 0:t.fio,a=!t&&n._identified||!!i&&(0===i.family.trim().length||0===i.given_1.trim().length||!!i.given_2&&0===i.given_2.trim().length);n._suggestions[1].done=!a}))}return Object(ne.a)(e,[{key:"dispose",value:function(){this.disposers.forEach((function(e){return e()}))}},{key:"redSuggestionsCount",value:function(){return this.suggestions.reduce((function(e,t,n){return t.done||n in[38,39,45,46,47]||++e,e}),0)}},{key:"identified",get:function(){return this._identified},set:function(e){this._identified=e}},{key:"fromRelatives",get:function(){return this._fromRelatives},set:function(e){this._fromRelatives=e}},{key:"suggestions",get:function(){return this._suggestions}}]),e}(),Sn=function(){function e(){Object(te.a)(this,e),this._lastCertificateID=void 0,this._lastDeathReasonID=void 0,this._lastProcedureID=void 0,this._lastCertificateID=-1,this._lastDeathReasonID=-1,this._lastProcedureID=-1}return Object(ne.a)(e,[{key:"lastCertificateID",get:function(){return this._lastCertificateID--}},{key:"lastDeathReasonID",get:function(){return this._lastDeathReasonID--}},{key:"lastProcedureID",get:function(){return this._lastProcedureID--}}]),e}(),In=function(){function e(){Object(te.a)(this,e)}return Object(ne.a)(e,null,[{key:"login",value:function(){var e=Object(M.a)(L.a.mark((function e(t,n){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.post("auth/login",{email:t,password:n}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"registration",value:function(){var e=Object(M.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.post("auth/registration",{user:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"renew_link",value:function(){var e=Object(M.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.post("auth/renew_link",{email:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"pwd_renew",value:function(){var e=Object(M.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.post("auth/pwd_renew",Object(h.a)({},t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(M.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.post("auth/logout"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),wn=new(function(){function e(){Object(te.a)(this,e),this._isAuth=void 0,this._user=void 0,this._isLoding=void 0,this._history=void 0,this._token=void 0,this._userInfo=void 0,this._user={},this._isLoding=!1,this._token=localStorage.getItem("token")||"",this._isAuth=""!==this._token,this._isAuth&&this.checkAuth(),Object(Te.e)(this)}return Object(ne.a)(e,[{key:"setAuth",value:function(e){this._isAuth=e}},{key:"isAuth",value:function(){return this._isAuth}},{key:"setUser",value:function(e){this._user=e}},{key:"user",value:function(){return this._user}},{key:"setLoading",value:function(e){this._isLoding=e}},{key:"isLoading",value:function(){return this._isLoding}},{key:"setHistory",value:function(e){this._history=e}},{key:"setToken",value:function(e){this._token=e}},{key:"token",value:function(){return this._token}},{key:"login",value:function(){var e=Object(M.a)(L.a.mark((function e(t,n){var i=this;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:In.login(t,n).then((function(e){e.data?(localStorage.setItem("token",e.data.tokens.access),i.setAuth(!0),i.setUser(e.data.user),i._history.push(b)):i._history.push("/error/\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438: \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 API-\u0441\u0435\u0440\u0432\u0435\u0440\u0430")})).catch((function(e){i._history.push("/error/Auth1:"+e.message)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"registration",value:function(){var e=Object(M.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,In.registration(t);case 3:this._history.push("/message/\u0412\u0430\u0448\u0430 \u0437\u0430\u044f\u0432\u043a\u0430 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0443 \u0440\u0435\u0441\u0443\u0440\u0441\u0430 \u0434\u043b\u044f \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438. \u041f\u0438\u0441\u044c\u043c\u043e \u0441 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u043c, \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u0441\u043b\u0430\u043d\u043e \u043d\u0430 \u0412\u0430\u0448 email"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),this._history.push("/error/"+e.t0.message);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"pwd_renew",value:function(){var e=Object(M.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,In.pwd_renew(t);case 3:this._history.push("/message/\u041f\u0430\u0440\u043e\u043b\u044c \u0431\u044b\u043b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d"),e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),this._history.push("/error/"+e.t0.message),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"renew_link",value:function(){var e=Object(M.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,In.renew_link(t);case 3:this._history.push("/message/\u0412\u0430\u043c \u0432 \u043f\u043e\u0447\u0442\u0443 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0438\u0441\u044c\u043c\u043e, \u0441\u043e \u0441\u0441\u044b\u043b\u043a\u043e\u0439 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u0430\u0440\u043e\u043b\u044f"),e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),this._history.push("/error/"+e.t0.message),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(M.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,In.logout();case 3:this.setAuth(!1),localStorage.removeItem("token"),this.setToken(""),this.setUser({}),this._userInfo=void 0,this._history.push(v),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),this._history.push("/error/"+e.t0.message);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"checkAuth",value:function(){var e=Object(M.a)(L.a.mark((function e(){var t,n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setLoading(!0),e.next=4,P.a.get("".concat(U,"auth/refresh"),{withCredentials:!0});case 4:t=e.sent,localStorage.setItem("token",t.data.tokens.access),this.setToken(t.data.tokens.access),this.setAuth(!0),this.setUser(t.data.user),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),(null===(n=e.t0.message)||void 0===n?void 0:n.includes("401"))?(this._isAuth=!1,this._token="",localStorage.removeItem("token"),this._user={},this._history.push(v)):this._history.push("/error/Auth2:"+e.t0.message);case 14:return e.prev=14,this.setLoading(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[0,11,14,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"getUserInfo",value:function(){var e=Object(M.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,this.setLoading(!0),e.next=6,fn.getUser(t);case 6:return n=e.sent,e.abrupt("return",n.data);case 10:e.prev=10,e.t0=e.catch(2),this._history.push("/error/Auth3:"+e.t0.message);case 13:return e.prev=13,this.setLoading(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[2,10,13,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"history",value:function(){return this._history}},{key:"userInfo",get:function(){var e=this;return this._userInfo?this._userInfo:(this._user.id&&this.getUserInfo(this._user.id).then((function(t){e._userInfo=t||void 0})),null)}}]),e}()),kn=new An,Tn=new Nn,Dn=new En(Tn),Fn=new xn,Ln=new Sn;Fn.fetchRegionOptions();var Mn=Object(i.createContext)({userStore:wn,layoutStore:kn,addressStore:Fn,certificateStore:Tn,temporaryIDStore:Ln,suggestionsStore:Dn});r.a.render(Object(d.jsx)(Mn.Provider,{value:{userStore:wn,layoutStore:kn,addressStore:Fn,certificateStore:Tn,temporaryIDStore:Ln,suggestionsStore:Dn},children:Object(d.jsx)(On,{})}),document.getElementById("root"))},47:function(e,t,n){},48:function(e,t,n){},58:function(e,t,n){},68:function(e,t,n){},76:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},99:function(e,t,n){"use strict";(function(e){var i=n(100),a=n.n(i),s=n(61),r=n.n(s),o=n(1),c=n.n(o),l=n(30),d=n.n(l);var u,h,p=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(t,n){!function(t){t.parser=function(e,t){return new s(e,t)},t.SAXParser=s,t.SAXStream=c,t.createStream=function(e,t){return new c(e,t)},t.MAX_BUFFER_LENGTH=65536;var n,i=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function s(e,n){if(!(this instanceof s))return new s(e,n);var a=this;!function(e){for(var t=0,n=i.length;t<n;t++)e[i[t]]=""}(a),a.q=a.c="",a.bufferCheckPosition=t.MAX_BUFFER_LENGTH,a.opt=n||{},a.opt.lowercase=a.opt.lowercase||a.opt.lowercasetags,a.looseCase=a.opt.lowercase?"toLowerCase":"toUpperCase",a.tags=[],a.closed=a.closedRoot=a.sawRoot=!1,a.tag=a.error=null,a.strict=!!e,a.noscript=!(!e&&!a.opt.noscript),a.state=O.BEGIN,a.strictEntities=a.opt.strictEntities,a.ENTITIES=a.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),a.attribList=[],a.opt.xmlns&&(a.ns=Object.create(u)),a.trackPosition=!1!==a.opt.position,a.trackPosition&&(a.position=a.line=a.column=0),y(a,"onready")}t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),s.prototype={end:function(){S(this)},write:function(e){var n=this;if(this.error)throw this.error;if(n.closed)return E(n,"Cannot write after close. Assign an onready handler.");if(null===e)return S(n);"object"===typeof e&&(e=e.toString());var a=0,s="";for(;s=R(e,a++),n.c=s,s;)switch(n.trackPosition&&(n.position++,"\n"===s?(n.line++,n.column=0):n.column++),n.state){case O.BEGIN:if(n.state=O.BEGIN_WHITESPACE,"\ufeff"===s)continue;M(n,s);continue;case O.BEGIN_WHITESPACE:M(n,s);continue;case O.TEXT:if(n.sawRoot&&!n.closedRoot){for(var r=a-1;s&&"<"!==s&&"&"!==s;)(s=R(e,a++))&&n.trackPosition&&(n.position++,"\n"===s?(n.line++,n.column=0):n.column++);n.textNode+=e.substring(r,a-1)}"<"!==s||n.sawRoot&&n.closedRoot&&!n.strict?(m(s)||n.sawRoot&&!n.closedRoot||I(n,"Text data outside of root node."),"&"===s?n.state=O.TEXT_ENTITY:n.textNode+=s):(n.state=O.OPEN_WAKA,n.startTagPosition=n.position);continue;case O.SCRIPT:"<"===s?n.state=O.SCRIPT_ENDING:n.script+=s;continue;case O.SCRIPT_ENDING:"/"===s?n.state=O.CLOSE_TAG:(n.script+="<"+s,n.state=O.SCRIPT);continue;case O.OPEN_WAKA:if("!"===s)n.state=O.SGML_DECL,n.sgmlDecl="";else if(m(s));else if(j(h,s))n.state=O.OPEN_TAG,n.tagName=s;else if("/"===s)n.state=O.CLOSE_TAG,n.tagName="";else if("?"===s)n.state=O.PROC_INST,n.procInstName=n.procInstBody="";else{if(I(n,"Unencoded <"),n.startTagPosition+1<n.position){var o=n.position-n.startTagPosition;s=new Array(o).join(" ")+s}n.textNode+="<"+s,n.state=O.TEXT}continue;case O.SGML_DECL:"[CDATA["===(n.sgmlDecl+s).toUpperCase()?(C(n,"onopencdata"),n.state=O.CDATA,n.sgmlDecl="",n.cdata=""):n.sgmlDecl+s==="--"?(n.state=O.COMMENT,n.comment="",n.sgmlDecl=""):"DOCTYPE"===(n.sgmlDecl+s).toUpperCase()?(n.state=O.DOCTYPE,(n.doctype||n.sawRoot)&&I(n,"Inappropriately located doctype declaration"),n.doctype="",n.sgmlDecl=""):">"===s?(C(n,"onsgmldeclaration",n.sgmlDecl),n.sgmlDecl="",n.state=O.TEXT):b(s)?(n.state=O.SGML_DECL_QUOTED,n.sgmlDecl+=s):n.sgmlDecl+=s;continue;case O.SGML_DECL_QUOTED:s===n.q&&(n.state=O.SGML_DECL,n.q=""),n.sgmlDecl+=s;continue;case O.DOCTYPE:">"===s?(n.state=O.TEXT,C(n,"ondoctype",n.doctype),n.doctype=!0):(n.doctype+=s,"["===s?n.state=O.DOCTYPE_DTD:b(s)&&(n.state=O.DOCTYPE_QUOTED,n.q=s));continue;case O.DOCTYPE_QUOTED:n.doctype+=s,s===n.q&&(n.q="",n.state=O.DOCTYPE);continue;case O.DOCTYPE_DTD:n.doctype+=s,"]"===s?n.state=O.DOCTYPE:b(s)&&(n.state=O.DOCTYPE_DTD_QUOTED,n.q=s);continue;case O.DOCTYPE_DTD_QUOTED:n.doctype+=s,s===n.q&&(n.state=O.DOCTYPE_DTD,n.q="");continue;case O.COMMENT:"-"===s?n.state=O.COMMENT_ENDING:n.comment+=s;continue;case O.COMMENT_ENDING:"-"===s?(n.state=O.COMMENT_ENDED,n.comment=A(n.opt,n.comment),n.comment&&C(n,"oncomment",n.comment),n.comment=""):(n.comment+="-"+s,n.state=O.COMMENT);continue;case O.COMMENT_ENDED:">"!==s?(I(n,"Malformed comment"),n.comment+="--"+s,n.state=O.COMMENT):n.state=O.TEXT;continue;case O.CDATA:"]"===s?n.state=O.CDATA_ENDING:n.cdata+=s;continue;case O.CDATA_ENDING:"]"===s?n.state=O.CDATA_ENDING_2:(n.cdata+="]"+s,n.state=O.CDATA);continue;case O.CDATA_ENDING_2:">"===s?(n.cdata&&C(n,"oncdata",n.cdata),C(n,"onclosecdata"),n.cdata="",n.state=O.TEXT):"]"===s?n.cdata+="]":(n.cdata+="]]"+s,n.state=O.CDATA);continue;case O.PROC_INST:"?"===s?n.state=O.PROC_INST_ENDING:m(s)?n.state=O.PROC_INST_BODY:n.procInstName+=s;continue;case O.PROC_INST_BODY:if(!n.procInstBody&&m(s))continue;"?"===s?n.state=O.PROC_INST_ENDING:n.procInstBody+=s;continue;case O.PROC_INST_ENDING:">"===s?(C(n,"onprocessinginstruction",{name:n.procInstName,body:n.procInstBody}),n.procInstName=n.procInstBody="",n.state=O.TEXT):(n.procInstBody+="?"+s,n.state=O.PROC_INST_BODY);continue;case O.OPEN_TAG:j(p,s)?n.tagName+=s:(w(n),">"===s?D(n):"/"===s?n.state=O.OPEN_TAG_SLASH:(m(s)||I(n,"Invalid character in tag name"),n.state=O.ATTRIB));continue;case O.OPEN_TAG_SLASH:">"===s?(D(n,!0),F(n)):(I(n,"Forward-slash in opening tag not followed by >"),n.state=O.ATTRIB);continue;case O.ATTRIB:if(m(s))continue;">"===s?D(n):"/"===s?n.state=O.OPEN_TAG_SLASH:j(h,s)?(n.attribName=s,n.attribValue="",n.state=O.ATTRIB_NAME):I(n,"Invalid attribute name");continue;case O.ATTRIB_NAME:"="===s?n.state=O.ATTRIB_VALUE:">"===s?(I(n,"Attribute without value"),n.attribValue=n.attribName,T(n),D(n)):m(s)?n.state=O.ATTRIB_NAME_SAW_WHITE:j(p,s)?n.attribName+=s:I(n,"Invalid attribute name");continue;case O.ATTRIB_NAME_SAW_WHITE:if("="===s)n.state=O.ATTRIB_VALUE;else{if(m(s))continue;I(n,"Attribute without value"),n.tag.attributes[n.attribName]="",n.attribValue="",C(n,"onattribute",{name:n.attribName,value:""}),n.attribName="",">"===s?D(n):j(h,s)?(n.attribName=s,n.state=O.ATTRIB_NAME):(I(n,"Invalid attribute name"),n.state=O.ATTRIB)}continue;case O.ATTRIB_VALUE:if(m(s))continue;b(s)?(n.q=s,n.state=O.ATTRIB_VALUE_QUOTED):(I(n,"Unquoted attribute value"),n.state=O.ATTRIB_VALUE_UNQUOTED,n.attribValue=s);continue;case O.ATTRIB_VALUE_QUOTED:if(s!==n.q){"&"===s?n.state=O.ATTRIB_VALUE_ENTITY_Q:n.attribValue+=s;continue}T(n),n.q="",n.state=O.ATTRIB_VALUE_CLOSED;continue;case O.ATTRIB_VALUE_CLOSED:m(s)?n.state=O.ATTRIB:">"===s?D(n):"/"===s?n.state=O.OPEN_TAG_SLASH:j(h,s)?(I(n,"No whitespace between attributes"),n.attribName=s,n.attribValue="",n.state=O.ATTRIB_NAME):I(n,"Invalid attribute name");continue;case O.ATTRIB_VALUE_UNQUOTED:if(!v(s)){"&"===s?n.state=O.ATTRIB_VALUE_ENTITY_U:n.attribValue+=s;continue}T(n),">"===s?D(n):n.state=O.ATTRIB;continue;case O.CLOSE_TAG:if(n.tagName)">"===s?F(n):j(p,s)?n.tagName+=s:n.script?(n.script+="</"+n.tagName,n.tagName="",n.state=O.SCRIPT):(m(s)||I(n,"Invalid tagname in closing tag"),n.state=O.CLOSE_TAG_SAW_WHITE);else{if(m(s))continue;g(h,s)?n.script?(n.script+="</"+s,n.state=O.SCRIPT):I(n,"Invalid tagname in closing tag."):n.tagName=s}continue;case O.CLOSE_TAG_SAW_WHITE:if(m(s))continue;">"===s?F(n):I(n,"Invalid characters in closing tag");continue;case O.TEXT_ENTITY:case O.ATTRIB_VALUE_ENTITY_Q:case O.ATTRIB_VALUE_ENTITY_U:var c,l;switch(n.state){case O.TEXT_ENTITY:c=O.TEXT,l="textNode";break;case O.ATTRIB_VALUE_ENTITY_Q:c=O.ATTRIB_VALUE_QUOTED,l="attribValue";break;case O.ATTRIB_VALUE_ENTITY_U:c=O.ATTRIB_VALUE_UNQUOTED,l="attribValue"}";"===s?(n[l]+=L(n),n.entity="",n.state=c):j(n.entity.length?_:f,s)?n.entity+=s:(I(n,"Invalid character in entity name"),n[l]+="&"+n.entity+s,n.entity="",n.state=c);continue;default:throw new Error(n,"Unknown state: "+n.state)}n.position>=n.bufferCheckPosition&&function(e){for(var n=Math.max(t.MAX_BUFFER_LENGTH,10),a=0,s=0,r=i.length;s<r;s++){var o=e[i[s]].length;if(o>n)switch(i[s]){case"textNode":N(e);break;case"cdata":C(e,"oncdata",e.cdata),e.cdata="";break;case"script":C(e,"onscript",e.script),e.script="";break;default:E(e,"Max buffer length exceeded: "+i[s])}a=Math.max(a,o)}var c=t.MAX_BUFFER_LENGTH-a;e.bufferCheckPosition=c+e.position}(n);return n},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var e;N(e=this),""!==e.cdata&&(C(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(C(e,"onscript",e.script),e.script="")}};try{n=a.a.Stream}catch(P){n=function(){}}var o=t.EVENTS.filter((function(e){return"error"!==e&&"end"!==e}));function c(e,t){if(!(this instanceof c))return new c(e,t);n.apply(this),this._parser=new s(e,t),this.writable=!0,this.readable=!0;var i=this;this._parser.onend=function(){i.emit("end")},this._parser.onerror=function(e){i.emit("error",e),i._parser.error=null},this._decoder=null,o.forEach((function(e){Object.defineProperty(i,"on"+e,{get:function(){return i._parser["on"+e]},set:function(t){if(!t)return i.removeAllListeners(e),i._parser["on"+e]=t,t;i.on(e,t)},enumerable:!0,configurable:!1})}))}c.prototype=Object.create(n.prototype,{constructor:{value:c}}),c.prototype.write=function(t){if("function"===typeof e&&"function"===typeof e.isBuffer&&e.isBuffer(t)){if(!this._decoder){var n=r.a.StringDecoder;this._decoder=new n("utf8")}t=this._decoder.write(t)}return this._parser.write(t.toString()),this.emit("data",t),!0},c.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},c.prototype.on=function(e,t){var i=this;return i._parser["on"+e]||-1===o.indexOf(e)||(i._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),i.emit.apply(i,t)}),n.prototype.on.call(i,e,t)};var l="http://www.w3.org/XML/1998/namespace",d="http://www.w3.org/2000/xmlns/",u={xml:l,xmlns:d},h=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,p=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,f=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,_=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function m(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function b(e){return'"'===e||"'"===e}function v(e){return">"===e||m(e)}function j(e,t){return e.test(t)}function g(e,t){return!j(e,t)}var O=0;for(var x in t.STATE={BEGIN:O++,BEGIN_WHITESPACE:O++,TEXT:O++,TEXT_ENTITY:O++,OPEN_WAKA:O++,SGML_DECL:O++,SGML_DECL_QUOTED:O++,DOCTYPE:O++,DOCTYPE_QUOTED:O++,DOCTYPE_DTD:O++,DOCTYPE_DTD_QUOTED:O++,COMMENT_STARTING:O++,COMMENT:O++,COMMENT_ENDING:O++,COMMENT_ENDED:O++,CDATA:O++,CDATA_ENDING:O++,CDATA_ENDING_2:O++,PROC_INST:O++,PROC_INST_BODY:O++,PROC_INST_ENDING:O++,OPEN_TAG:O++,OPEN_TAG_SLASH:O++,ATTRIB:O++,ATTRIB_NAME:O++,ATTRIB_NAME_SAW_WHITE:O++,ATTRIB_VALUE:O++,ATTRIB_VALUE_QUOTED:O++,ATTRIB_VALUE_CLOSED:O++,ATTRIB_VALUE_UNQUOTED:O++,ATTRIB_VALUE_ENTITY_Q:O++,ATTRIB_VALUE_ENTITY_U:O++,CLOSE_TAG:O++,CLOSE_TAG_SAW_WHITE:O++,SCRIPT:O++,SCRIPT_ENDING:O++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach((function(e){var n=t.ENTITIES[e],i="number"===typeof n?String.fromCharCode(n):n;t.ENTITIES[e]=i})),t.STATE)t.STATE[t.STATE[x]]=x;function y(e,t,n){e[t]&&e[t](n)}function C(e,t,n){e.textNode&&N(e),y(e,t,n)}function N(e){e.textNode=A(e.opt,e.textNode),e.textNode&&y(e,"ontext",e.textNode),e.textNode=""}function A(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function E(e,t){return N(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,y(e,"onerror",t),e}function S(e){return e.sawRoot&&!e.closedRoot&&I(e,"Unclosed root tag"),e.state!==O.BEGIN&&e.state!==O.BEGIN_WHITESPACE&&e.state!==O.TEXT&&E(e,"Unexpected end"),N(e),e.c="",e.closed=!0,y(e,"onend"),s.call(e,e.strict,e.opt),e}function I(e,t){if("object"!==typeof e||!(e instanceof s))throw new Error("bad call to strictFail");e.strict&&E(e,t)}function w(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,n=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(n.ns=t.ns),e.attribList.length=0,C(e,"onopentagstart",n)}function k(e,t){var n=e.indexOf(":")<0?["",e]:e.split(":"),i=n[0],a=n[1];return t&&"xmlns"===e&&(i="xmlns",a=""),{prefix:i,local:a}}function T(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=k(e.attribName,!0),n=t.prefix,i=t.local;if("xmlns"===n)if("xml"===i&&e.attribValue!==l)I(e,"xml: prefix must be bound to "+l+"\nActual: "+e.attribValue);else if("xmlns"===i&&e.attribValue!==d)I(e,"xmlns: prefix must be bound to "+d+"\nActual: "+e.attribValue);else{var a=e.tag,s=e.tags[e.tags.length-1]||e;a.ns===s.ns&&(a.ns=Object.create(s.ns)),a.ns[i]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,C(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function D(e,t){if(e.opt.xmlns){var n=e.tag,i=k(e.tagName);n.prefix=i.prefix,n.local=i.local,n.uri=n.ns[i.prefix]||"",n.prefix&&!n.uri&&(I(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),n.uri=i.prefix);var a=e.tags[e.tags.length-1]||e;n.ns&&a.ns!==n.ns&&Object.keys(n.ns).forEach((function(t){C(e,"onopennamespace",{prefix:t,uri:n.ns[t]})}));for(var s=0,r=e.attribList.length;s<r;s++){var o=e.attribList[s],c=o[0],l=o[1],d=k(c,!0),u=d.prefix,h=d.local,p=""===u?"":n.ns[u]||"",f={name:c,value:l,prefix:u,local:h,uri:p};u&&"xmlns"!==u&&!p&&(I(e,"Unbound namespace prefix: "+JSON.stringify(u)),f.uri=u),e.tag.attributes[c]=f,C(e,"onattribute",f)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),C(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=O.TEXT:e.state=O.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function F(e){if(!e.tagName)return I(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=O.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=O.SCRIPT);C(e,"onscript",e.script),e.script=""}var t=e.tags.length,n=e.tagName;e.strict||(n=n[e.looseCase]());for(var i=n;t--;){if(e.tags[t].name===i)break;I(e,"Unexpected close tag")}if(t<0)return I(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=O.TEXT);e.tagName=n;for(var a=e.tags.length;a-- >t;){var s=e.tag=e.tags.pop();e.tagName=e.tag.name,C(e,"onclosetag",e.tagName);var r={};for(var o in s.ns)r[o]=s.ns[o];var c=e.tags[e.tags.length-1]||e;e.opt.xmlns&&s.ns!==c.ns&&Object.keys(s.ns).forEach((function(t){var n=s.ns[t];C(e,"onclosenamespace",{prefix:t,uri:n})}))}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=O.TEXT}function L(e){var t,n=e.entity,i=n.toLowerCase(),a="";return e.ENTITIES[n]?e.ENTITIES[n]:e.ENTITIES[i]?e.ENTITIES[i]:("#"===(n=i).charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),a=(t=parseInt(n,16)).toString(16)):(n=n.slice(1),a=(t=parseInt(n,10)).toString(10))),n=n.replace(/^0+/,""),isNaN(t)||a.toLowerCase()!==n?(I(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function M(e,t){"<"===t?(e.state=O.OPEN_WAKA,e.startTagPosition=e.position):m(t)||(I(e,"Non-whitespace before first tag."),e.textNode=t,e.state=O.TEXT)}function R(e,t){var n="";return t<e.length&&(n=e.charAt(t)),n}O=t.STATE,String.fromCodePoint||function(){var e=String.fromCharCode,t=Math.floor,n=function(){var n,i,a=16384,s=[],r=-1,o=arguments.length;if(!o)return"";for(var c="";++r<o;){var l=Number(arguments[r]);if(!isFinite(l)||l<0||l>1114111||t(l)!==l)throw RangeError("Invalid code point: "+l);l<=65535?s.push(l):(n=55296+((l-=65536)>>10),i=l%1024+56320,s.push(n,i)),(r+1===o||s.length>a)&&(c+=e.apply(null,s),s.length=0)}return c};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:n,configurable:!0,writable:!0}):String.fromCodePoint=n}()}(n)})),f=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},_=f,m=function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n},b=function(e,t){e in t&&"boolean"===typeof t[e]||(t[e]=!1)},v=function(e){"alwaysArray"in e&&("boolean"===typeof e.alwaysArray||_(e.alwaysArray))||(e.alwaysArray=!1)},j=function(e,t){e+"Key"in t&&"string"===typeof t[e+"Key"]||(t[e+"Key"]=t.compact?"_"+e:e)},g=f;function O(e){var t=Number(e);if(!isNaN(t))return t;var n=e.toLowerCase();return"true"===n||"false"!==n&&e}function x(e,t){var n;if(u.compact){if(!h[u[e+"Key"]]&&(g(u.alwaysArray)?-1!==u.alwaysArray.indexOf(u[e+"Key"]):u.alwaysArray)&&(h[u[e+"Key"]]=[]),h[u[e+"Key"]]&&!g(h[u[e+"Key"]])&&(h[u[e+"Key"]]=[h[u[e+"Key"]]]),e+"Fn"in u&&"string"===typeof t&&(t=u[e+"Fn"](t,h)),"instruction"===e&&("instructionFn"in u||"instructionNameFn"in u))for(n in t)if(t.hasOwnProperty(n))if("instructionFn"in u)t[n]=u.instructionFn(t[n],n,h);else{var i=t[n];delete t[n],t[u.instructionNameFn(n,i,h)]=i}g(h[u[e+"Key"]])?h[u[e+"Key"]].push(t):h[u[e+"Key"]]=t}else{h[u.elementsKey]||(h[u.elementsKey]=[]);var a={};if(a[u.typeKey]=e,"instruction"===e){for(n in t)if(t.hasOwnProperty(n))break;a[u.nameKey]="instructionNameFn"in u?u.instructionNameFn(n,t,h):n,u.instructionHasAttributes?(a[u.attributesKey]=t[n][u.attributesKey],"instructionFn"in u&&(a[u.attributesKey]=u.instructionFn(a[u.attributesKey],n,h))):("instructionFn"in u&&(t[n]=u.instructionFn(t[n],n,h)),a[u.instructionKey]=t[n])}else e+"Fn"in u&&(t=u[e+"Fn"](t,h)),a[u[e+"Key"]]=t;u.addParent&&(a[u.parentKey]=h),h[u.elementsKey].push(a)}}function y(e){var t;if("attributesFn"in u&&e&&(e=u.attributesFn(e,h)),(u.trim||"attributeValueFn"in u||"attributeNameFn"in u||u.nativeTypeAttributes)&&e)for(t in e)if(e.hasOwnProperty(t)&&(u.trim&&(e[t]=e[t].trim()),u.nativeTypeAttributes&&(e[t]=O(e[t])),"attributeValueFn"in u&&(e[t]=u.attributeValueFn(e[t],t,h)),"attributeNameFn"in u)){var n=e[t];delete e[t],e[u.attributeNameFn(t,e[t],h)]=n}return e}function C(e){var t={};if(e.body&&("xml"===e.name.toLowerCase()||u.instructionHasAttributes)){for(var n,i=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g;null!==(n=i.exec(e.body));)t[n[1]]=n[2]||n[3]||n[4];t=y(t)}if("xml"===e.name.toLowerCase()){if(u.ignoreDeclaration)return;h[u.declarationKey]={},Object.keys(t).length&&(h[u.declarationKey][u.attributesKey]=t),u.addParent&&(h[u.declarationKey][u.parentKey]=h)}else{if(u.ignoreInstruction)return;u.trim&&(e.body=e.body.trim());var a={};u.instructionHasAttributes&&Object.keys(t).length?(a[e.name]={},a[e.name][u.attributesKey]=t):a[e.name]=e.body,x("instruction",a)}}function N(e,t){var n;if("object"===typeof e&&(t=e.attributes,e=e.name),t=y(t),"elementNameFn"in u&&(e=u.elementNameFn(e,h)),u.compact){var i;if(n={},!u.ignoreAttributes&&t&&Object.keys(t).length)for(i in n[u.attributesKey]={},t)t.hasOwnProperty(i)&&(n[u.attributesKey][i]=t[i]);!(e in h)&&(g(u.alwaysArray)?-1!==u.alwaysArray.indexOf(e):u.alwaysArray)&&(h[e]=[]),h[e]&&!g(h[e])&&(h[e]=[h[e]]),g(h[e])?h[e].push(n):h[e]=n}else h[u.elementsKey]||(h[u.elementsKey]=[]),(n={})[u.typeKey]="element",n[u.nameKey]=e,!u.ignoreAttributes&&t&&Object.keys(t).length&&(n[u.attributesKey]=t),u.alwaysChildren&&(n[u.elementsKey]=[]),h[u.elementsKey].push(n);n[u.parentKey]=h,h=n}function A(e){u.ignoreText||(e.trim()||u.captureSpacesBetweenElements)&&(u.trim&&(e=e.trim()),u.nativeType&&(e=O(e)),u.sanitize&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),x("text",e))}function E(e){u.ignoreComment||(u.trim&&(e=e.trim()),x("comment",e))}function S(e){var t=h[u.parentKey];u.addParent||delete h[u.parentKey],h=t}function I(e){u.ignoreCdata||(u.trim&&(e=e.trim()),x("cdata",e))}function w(e){u.ignoreDoctype||(e=e.replace(/^ /,""),u.trim&&(e=e.trim()),x("doctype",e))}function k(e){e.note=e}var T=function(e,t){var n=p.parser(!0,{}),i={};if(h=i,u=function(e){return u=m(e),b("ignoreDeclaration",u),b("ignoreInstruction",u),b("ignoreAttributes",u),b("ignoreText",u),b("ignoreComment",u),b("ignoreCdata",u),b("ignoreDoctype",u),b("compact",u),b("alwaysChildren",u),b("addParent",u),b("trim",u),b("nativeType",u),b("nativeTypeAttributes",u),b("sanitize",u),b("instructionHasAttributes",u),b("captureSpacesBetweenElements",u),v(u),j("declaration",u),j("instruction",u),j("attributes",u),j("text",u),j("comment",u),j("cdata",u),j("doctype",u),j("type",u),j("name",u),j("elements",u),j("parent",u),u}(t),n.opt={strictEntities:!0},n.onopentag=N,n.ontext=A,n.oncomment=E,n.onclosetag=S,n.onerror=k,n.oncdata=I,n.ondoctype=w,n.onprocessinginstruction=C,n.write(e).close(),i[u.elementsKey]){var a=i[u.elementsKey];delete i[u.elementsKey],i[u.elementsKey]=a,delete i.text}return i};var D=T,F=function(e){var t=e.attributes,n=e.theme,i=[],a=n.overflowBreak?{overflowWrap:"break-word",whiteSpace:"normal"}:{};for(var s in t)i.push(c.a.createElement("span",{key:"attr-"+s+"["+t[s]+"]"},c.a.createElement("span",{style:{color:n.attributeKeyColor}}," "+s),c.a.createElement("span",{style:{color:n.separatorColor}},"="),c.a.createElement("span",{style:{color:n.attributeValueColor}},'"'+t[s]+'"')));return c.a.createElement("span",{style:a},i)},L=function(e){var t=e.attributes,n=e.theme;return c.a.createElement("div",null,c.a.createElement("span",{style:{color:n.separatorColor}},"<?"),c.a.createElement("span",{style:{color:n.tagColor}},"xml"),c.a.createElement(F,{attributes:t,theme:n}),c.a.createElement("span",{style:{color:n.separatorColor}},"?>"))},M=function(e){var t=e.cdata,n=e.theme,i=e.indentation;return c.a.createElement("div",{style:{color:n.cdataColor}},i+"<![CDATA["+t+"]]>")},R=function(e){var t=e.comment,n=e.theme,i=e.indentation;return c.a.createElement("div",{style:{color:n.commentColor}},i+"\x3c!-- "+t+" --\x3e")},P=function(e){var t=e.name,n=e.instruction,i=e.theme,a=e.indentation;return c.a.createElement("div",null,c.a.createElement("span",{style:{color:i.separatorColor}},a+"<?"),c.a.createElement("span",{style:{color:i.tagColor}},t),c.a.createElement("span",{style:{color:i.attributeKeyColor}}," "+n),c.a.createElement("span",{style:{color:i.separatorColor}},"?>"))},U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},B=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,a=!1,s=void 0;try{for(var r,o=e[Symbol.iterator]();!(i=(r=o.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(c){a=!0,s=c}finally{try{!i&&o.return&&o.return()}finally{if(a)throw s}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},G=function(e){var t=e.text,n=e.theme,i=n.overflowBreak?{overflowWrap:"break-word",whiteSpace:"normal"}:{};return c.a.createElement("span",{style:U({color:n.textColor},i)},t)};function K(e){e.stopPropagation()}var z=Object(o.memo)((function(e){var t,n=e.name,i=e.elements,a=e.attributes,s=e.theme,r=e.indentation,l=e.indentSize,d=e.collapsible,u=Object(o.useState)(!1),h=B(u,2),p=h[0],f=h[1],_=d&&i?"pointer":"text";return c.a.createElement("div",{style:{whiteSpace:"pre",cursor:_},onClick:function(e){d&&i&&(e.stopPropagation(),e.preventDefault(),""===(window.getSelection?window.getSelection().toString():document.selection?document.selection.createRange().text:"")&&f(!p))}},c.a.createElement("span",{style:{color:s.separatorColor}},r+"<"),c.a.createElement("span",{style:{color:s.tagColor}},n),!p&&c.a.createElement(F,{attributes:a,theme:s}),c.a.createElement("span",{style:{color:s.separatorColor}},i?">":"/>"),i&&!p&&c.a.createElement("span",{onClick:K},c.a.createElement(H,{elements:i,theme:s,indentation:r+(t=l,new Array(t+1).join(" ")),indentSize:l,collapsible:d})),i&&c.a.createElement("span",{style:{color:s.separatorColor}},(function(e){return 1===e.length&&"text"===e[0].type}(i)||p?"":r)+"</"),i&&c.a.createElement("span",{style:{color:s.tagColor}},n),i&&c.a.createElement("span",{style:{color:s.separatorColor}},">"))})),H=Object(o.memo)((function(e){var t=e.elements,n=e.theme,i=e.indentation,a=e.indentSize,s=e.collapsible;return t.map(function(e,t,n,i){return function(a,s){switch(a.type){case"text":return c.a.createElement(G,{key:"el-"+s,text:a.text,theme:e});case"element":return c.a.createElement(z,{key:"el-"+s,name:a.name,elements:a.elements,attributes:a.attributes,theme:e,indentation:t,indentSize:n,collapsible:i});case"comment":return c.a.createElement(R,{key:"el-"+s,comment:a.comment,theme:e,indentation:t});case"cdata":return c.a.createElement(M,{key:"el-"+s,cdata:a.cdata,theme:e,indentation:t});case"instruction":return c.a.createElement(P,{key:"el-"+s,instruction:a.instruction,name:a.name,theme:e,indentation:t});default:return null}}}(n,i,a,s))}));H.propTypes={elements:d.a.arrayOf(d.a.object),theme:d.a.object.isRequired,indentation:d.a.string.isRequired,indentSize:d.a.number.isRequired,collapsible:d.a.bool.isRequired};var V={tagColor:"#d43900",textColor:"#333",attributeKeyColor:"#2a7ab0",attributeValueColor:"#008000",separatorColor:"#333",commentColor:"#aaa",cdataColor:"#1d781d",overflowBreak:!1},q=function(e){var t=e.xml,n=e.theme,i=e.indentSize,a=e.invalidXml,s=e.collapsible,r=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["xml","theme","indentSize","invalidXml","collapsible"]),o=null,l=U({},V,n);try{if(o=D(t,{compact:!1,spaces:0}),!Array.isArray(o.elements))return console.log("json",o),a}catch(d){return console.log("e",d),a}return c.a.createElement("div",r,o.declaration&&c.a.createElement(L,{theme:l,attributes:o.declaration.attributes}),c.a.createElement(H,{elements:o.elements,theme:l,indentSize:i,indentation:"",collapsible:s}))};q.defaultProps={theme:{},indentSize:2,invalidXml:c.a.createElement("div",null,"Invalid CDA!"),collapsible:!1},t.a=q}).call(this,n(69).Buffer)}},[[161,1,2]]]);
//# sourceMappingURL=main.73540c1f.chunk.js.map